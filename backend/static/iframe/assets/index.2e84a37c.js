var Hu=Object.defineProperty;var Fu=(e,t,n)=>t in e?Hu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>(Fu(e,typeof t!="symbol"?t+"":t,n),n),Ya=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var es=(e,t,n)=>(Ya(e,t,"read from private field"),n?n.call(e):t.get(e)),ie=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var j=(e,t,n)=>(Ya(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ue(){}const qi=e=>e;function wl(e){return e()}function Ga(){return Object.create(null)}function Se(e){e.forEach(wl)}function rr(e){return typeof e=="function"}function ze(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Iu(e){return Object.keys(e).length===0}function Ba(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const bl=typeof window<"u";let Zs=bl?()=>window.performance.now():()=>Date.now(),js=bl?e=>requestAnimationFrame(e):ue;const en=new Set;function xl(e){en.forEach(t=>{t.c(e)||(en.delete(t),t.f())}),en.size!==0&&js(xl)}function Qs(e){let t;return en.size===0&&js(xl),{promise:new Promise(n=>{en.add(t={c:e,f:n})}),abort(){en.delete(t)}}}const Nu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function S(e,t){e.appendChild(t)}function Sl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function $u(e){const t=C("style");return Pu(Sl(e),t),t.sheet}function Pu(e,t){return S(e.head||e,t),t.sheet}function se(e,t,n){e.insertBefore(t,n||null)}function ne(e){e.parentNode&&e.parentNode.removeChild(e)}function Or(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function Ri(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function fe(e){return document.createTextNode(e)}function Y(){return fe(" ")}function Vs(){return fe("")}function re(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zu(e){return Array.from(e.childNodes)}function be(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ur(e,t){e.value=t==null?"":t}function Hn(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ae(e,t,n){e.classList[n?"add":"remove"](t)}function Eu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class Fn{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=Ri(n.nodeName):this.e=C(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)se(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(ne)}}const Yr=new Map;let Gr=0;function qu(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Ru(e,t){const n={stylesheet:$u(t),rules:{}};return Yr.set(e,n),n}function Ks(e,t,n,r,i,s,a,l=0){const c=16.666/r;let o=`{
`;for(let m=0;m<=1;m+=c){const g=t+(n-t)*s(m);o+=m*100+`%{${a(g,1-g)}}
`}const u=o+`100% {${a(n,1-n)}}
}`,f=`__svelte_${qu(u)}_${l}`,h=Sl(e),{stylesheet:p,rules:y}=Yr.get(h)||Ru(h,e);y[f]||(y[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${i}ms 1 both`,Gr+=1,f}function Br(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Gr-=i,Gr||Wu())}function Wu(){js(()=>{Gr||(Yr.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&ne(t)}),Yr.clear())})}function Ou(e,t,n,r){if(!t)return ue;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return ue;const{delay:s=0,duration:a=300,easing:l=qi,start:c=Zs()+s,end:o=c+a,tick:u=ue,css:f}=n(e,{from:t,to:i},r);let h=!0,p=!1,y;function d(){f&&(y=Ks(e,0,1,a,s,l,f)),s||(p=!0)}function m(){f&&Br(e,y),h=!1}return Qs(g=>{if(!p&&g>=c&&(p=!0),p&&g>=o&&(u(1,0),m()),!h)return!1;if(p){const b=g-c,v=0+1*l(b/a);u(v,1-v)}return!0}),d(),u(0,1),m}function Uu(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,_l(e,i)}}function _l(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Rn;function zn(e){Rn=e}function Tl(){if(!Rn)throw new Error("Function called outside component initialization");return Rn}function st(e){Tl().$$.on_mount.push(e)}function Ml(e){Tl().$$.on_destroy.push(e)}const Zt=[],Fe=[];let tn=[];const Xa=[],kl=Promise.resolve();let Ds=!1;function Cl(){Ds||(Ds=!0,kl.then(Vl))}function Js(){return Cl(),kl}function un(e){tn.push(e)}const ts=new Set;let Ot=0;function Vl(){if(Ot!==0)return;const e=Rn;do{try{for(;Ot<Zt.length;){const t=Zt[Ot];Ot++,zn(t),Yu(t.$$)}}catch(t){throw Zt.length=0,Ot=0,t}for(zn(null),Zt.length=0,Ot=0;Fe.length;)Fe.pop()();for(let t=0;t<tn.length;t+=1){const n=tn[t];ts.has(n)||(ts.add(n),n())}tn.length=0}while(Zt.length);for(;Xa.length;)Xa.pop()();Ds=!1,ts.clear(),zn(e)}function Yu(e){if(e.fragment!==null){e.update(),Se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(un)}}function Gu(e){const t=[],n=[];tn.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),tn=t}let Tn;function Dl(){return Tn||(Tn=Promise.resolve(),Tn.then(()=>{Tn=null})),Tn}function Xr(e,t,n){e.dispatchEvent(Eu(`${t?"intro":"outro"}${n}`))}const Hr=new Set;let mt;function vt(){mt={r:0,c:[],p:mt}}function wt(){mt.r||Se(mt.c),mt=mt.p}function me(e,t){e&&e.i&&(Hr.delete(e),e.i(t))}function we(e,t,n,r){if(e&&e.o){if(Hr.has(e))return;Hr.add(e),mt.c.push(()=>{Hr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Al={duration:0};function Bu(e,t,n){const r={direction:"in"};let i=t(e,n,r),s=!1,a,l,c=0;function o(){a&&Br(e,a)}function u(){const{delay:h=0,duration:p=300,easing:y=qi,tick:d=ue,css:m}=i||Al;m&&(a=Ks(e,0,1,p,h,y,m,c++)),d(0,1);const g=Zs()+h,b=g+p;l&&l.abort(),s=!0,un(()=>Xr(e,!0,"start")),l=Qs(v=>{if(s){if(v>=b)return d(1,0),Xr(e,!0,"end"),o(),s=!1;if(v>=g){const w=y((v-g)/p);d(w,1-w)}}return s})}let f=!1;return{start(){f||(f=!0,Br(e),rr(i)?(i=i(r),Dl().then(u)):u())},invalidate(){f=!1},end(){s&&(o(),s=!1)}}}function ea(e,t,n){const r={direction:"out"};let i=t(e,n,r),s=!0,a;const l=mt;l.r+=1;function c(){const{delay:o=0,duration:u=300,easing:f=qi,tick:h=ue,css:p}=i||Al;p&&(a=Ks(e,1,0,u,o,f,p));const y=Zs()+o,d=y+u;un(()=>Xr(e,!1,"start")),Qs(m=>{if(s){if(m>=d)return h(0,1),Xr(e,!1,"end"),--l.r||Se(l.c),!1;if(m>=y){const g=f((m-y)/u);h(1-g,g)}}return s})}return rr(i)?Dl().then(()=>{i=i(r),c()}):c(),{end(o){o&&i.tick&&i.tick(1,0),s&&(a&&Br(e,a),s=!1)}}}function Ll(e,t){we(e,1,1,()=>{t.delete(e.key)})}function Xu(e,t){e.f(),Ll(e,t)}function Hl(e,t,n,r,i,s,a,l,c,o,u,f){let h=e.length,p=s.length,y=h;const d={};for(;y--;)d[e[y].key]=y;const m=[],g=new Map,b=new Map,v=[];for(y=p;y--;){const $=f(i,s,y),D=n($);let F=a.get(D);F?r&&v.push(()=>F.p($,t)):(F=o(D,$),F.c()),g.set(D,m[y]=F),D in d&&b.set(D,Math.abs(y-d[D]))}const w=new Set,T=new Set;function A($){me($,1),$.m(l,u),a.set($.key,$),u=$.first,p--}for(;h&&p;){const $=m[p-1],D=e[h-1],F=$.key,N=D.key;$===D?(u=$.first,h--,p--):g.has(N)?!a.has(F)||w.has(F)?A($):T.has(N)?h--:b.get(F)>b.get(N)?(T.add(F),A($)):(w.add(N),h--):(c(D,a),h--)}for(;h--;){const $=e[h];g.has($.key)||c($,a)}for(;p;)A(m[p-1]);return Se(v),m}function Ye(e){e&&e.c()}function Re(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||un(()=>{const a=e.$$.on_mount.map(wl).filter(rr);e.$$.on_destroy?e.$$.on_destroy.push(...a):Se(a),e.$$.on_mount=[]}),s.forEach(un)}function We(e,t){const n=e.$$;n.fragment!==null&&(Gu(n.after_update),Se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Zu(e,t){e.$$.dirty[0]===-1&&(Zt.push(e),Cl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ge(e,t,n,r,i,s,a,l=[-1]){const c=Rn;zn(e);const o=e.$$={fragment:null,ctx:[],props:s,update:ue,not_equal:i,bound:Ga(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ga(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};a&&a(o.root);let u=!1;if(o.ctx=n?n(e,t.props||{},(f,h,...p)=>{const y=p.length?p[0]:h;return o.ctx&&i(o.ctx[f],o.ctx[f]=y)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](y),u&&Zu(e,f)),h}):[],o.update(),u=!0,Se(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const f=zu(t.target);o.fragment&&o.fragment.l(f),f.forEach(ne)}else o.fragment&&o.fragment.c();t.intro&&me(e.$$.fragment),Re(e,t.target,t.anchor,t.customElement),Vl()}zn(c)}class Be{$destroy(){We(this,1),this.$destroy=ue}$on(t,n){if(!rr(n))return ue;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Iu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Fl(e){const t=e-1;return t*t*t+1}function Il(e,{delay:t=0,duration:n=400,easing:r=qi}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Za(e,{delay:t=0,duration:n=400,easing:r=Fl,x:i=0,y:s=0,opacity:a=0}={}){const l=getComputedStyle(e),c=+l.opacity,o=l.transform==="none"?"":l.transform,u=c*(1-a),[f,h]=Ba(i),[p,y]=Ba(s);return{delay:t,duration:n,easing:r,css:(d,m)=>`
			transform: ${o} translate(${(1-d)*f}${h}, ${(1-d)*p}${y});
			opacity: ${c-u*m}`}}const Ut=[];function ir(e,t=ue){let n;const r=new Set;function i(l){if(ze(e,l)&&(e=l,n)){const c=!Ut.length;for(const o of r)o[1](),Ut.push(o,e);if(c){for(let o=0;o<Ut.length;o+=2)Ut[o][0](Ut[o+1]);Ut.length=0}}}function s(l){i(l(e))}function a(l,c=ue){const o=[l,c];return r.add(o),r.size===1&&(n=t(i)||ue),l(e),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}var Vt=(e=>(e[e.DepthChanged=0]="DepthChanged",e.None="",e))(Vt||{});const sr=()=>({shown:!1,favTrees:[]}),ta=()=>({depthMax:0,depthLow:0,depthHigh:0,depthColors:[],action:""}),na=()=>({featureMap:new Map,treeMap:new Map,treeID:0,ancestorFs:[],show:!1,x:20,y:20,getFeatureColor:null}),ar=()=>({shown:!1,curAccuracyLow:0,curAccuracyHigh:1,curMinSampleLow:0,curMinSampleHigh:100,curHeightRange:new Set([]),curDepthFeatures:new Map,curAllFeatures:new Set([]),treeDepthFeaturesMap:null,treeHeightMap:null,treeMinSampleMap:null,featureMap:new Map,getFeatureColor:null,featureOrder:[],updatePlots:null}),or=()=>({pinnedTrees:[],lastActiveTreeID:null,getFeatureColor:null,getFeatureInfo:null}),ju=()=>ir(sr()),Qu=()=>ir(ta()),Ku=()=>ir(na()),Ju=()=>ir(or()),eh=()=>ir(ar());var As="http://www.w3.org/1999/xhtml";const ja={svg:"http://www.w3.org/2000/svg",xhtml:As,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ja.hasOwnProperty(t)?{space:ja[t],local:e}:e}function th(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===As&&t.documentElement.namespaceURI===As?t.createElement(e):t.createElementNS(n,e)}}function nh(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Nl(e){var t=Wi(e);return(t.local?nh:th)(t)}function rh(){}function ra(e){return e==null?rh:function(){return this.querySelector(e)}}function ih(e){typeof e!="function"&&(e=ra(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=new Array(a),c,o,u=0;u<a;++u)(c=s[u])&&(o=e.call(c,c.__data__,u,s))&&("__data__"in c&&(o.__data__=c.__data__),l[u]=o);return new Ie(r,this._parents)}function $l(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function sh(){return[]}function Pl(e){return e==null?sh:function(){return this.querySelectorAll(e)}}function ah(e){return function(){return $l(e.apply(this,arguments))}}function oh(e){typeof e=="function"?e=ah(e):e=Pl(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],l=a.length,c,o=0;o<l;++o)(c=a[o])&&(r.push(e.call(c,c.__data__,o,a)),i.push(c));return new Ie(r,i)}function zl(e){return function(){return this.matches(e)}}function El(e){return function(t){return t.matches(e)}}var lh=Array.prototype.find;function ch(e){return function(){return lh.call(this.children,e)}}function uh(){return this.firstElementChild}function hh(e){return this.select(e==null?uh:ch(typeof e=="function"?e:El(e)))}var fh=Array.prototype.filter;function dh(){return Array.from(this.children)}function ph(e){return function(){return fh.call(this.children,e)}}function gh(e){return this.selectAll(e==null?dh:ph(typeof e=="function"?e:El(e)))}function mh(e){typeof e!="function"&&(e=zl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=[],c,o=0;o<a;++o)(c=s[o])&&e.call(c,c.__data__,o,s)&&l.push(c);return new Ie(r,this._parents)}function ql(e){return new Array(e.length)}function yh(){return new Ie(this._enter||this._groups.map(ql),this._parents)}function Zr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zr.prototype={constructor:Zr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vh(e){return function(){return e}}function wh(e,t,n,r,i,s){for(var a=0,l,c=t.length,o=s.length;a<o;++a)(l=t[a])?(l.__data__=s[a],r[a]=l):n[a]=new Zr(e,s[a]);for(;a<c;++a)(l=t[a])&&(i[a]=l)}function bh(e,t,n,r,i,s,a){var l,c,o=new Map,u=t.length,f=s.length,h=new Array(u),p;for(l=0;l<u;++l)(c=t[l])&&(h[l]=p=a.call(c,c.__data__,l,t)+"",o.has(p)?i[l]=c:o.set(p,c));for(l=0;l<f;++l)p=a.call(e,s[l],l,s)+"",(c=o.get(p))?(r[l]=c,c.__data__=s[l],o.delete(p)):n[l]=new Zr(e,s[l]);for(l=0;l<u;++l)(c=t[l])&&o.get(h[l])===c&&(i[l]=c)}function xh(e){return e.__data__}function Sh(e,t){if(!arguments.length)return Array.from(this,xh);var n=t?bh:wh,r=this._parents,i=this._groups;typeof e!="function"&&(e=vh(e));for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),o=0;o<s;++o){var u=r[o],f=i[o],h=f.length,p=_h(e.call(u,u&&u.__data__,o,r)),y=p.length,d=l[o]=new Array(y),m=a[o]=new Array(y),g=c[o]=new Array(h);n(u,f,d,m,g,p,t);for(var b=0,v=0,w,T;b<y;++b)if(w=d[b]){for(b>=v&&(v=b+1);!(T=m[v])&&++v<y;);w._next=T||null}}return a=new Ie(a,r),a._enter=l,a._exit=c,a}function _h(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Th(){return new Ie(this._exit||this._groups.map(ql),this._parents)}function Mh(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function kh(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),l=new Array(i),c=0;c<a;++c)for(var o=n[c],u=r[c],f=o.length,h=l[c]=new Array(f),p,y=0;y<f;++y)(p=o[y]||u[y])&&(h[y]=p);for(;c<i;++c)l[c]=n[c];return new Ie(l,this._parents)}function Ch(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Vh(e){e||(e=Dh);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],l=a.length,c=i[s]=new Array(l),o,u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(t)}return new Ie(i,this._parents).order()}function Dh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ah(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lh(){return Array.from(this)}function Hh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Fh(){let e=0;for(const t of this)++e;return e}function Ih(){return!this.node()}function Nh(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,l;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i);return this}function $h(e){return function(){this.removeAttribute(e)}}function Ph(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zh(e,t){return function(){this.setAttribute(e,t)}}function Eh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Rh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wh(e,t){var n=Wi(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ph:$h:typeof t=="function"?n.local?Rh:qh:n.local?Eh:zh)(n,t))}function Rl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Oh(e){return function(){this.style.removeProperty(e)}}function Uh(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Yh(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Gh(e,t,n){return arguments.length>1?this.each((t==null?Oh:typeof t=="function"?Yh:Uh)(e,t,n==null?"":n)):hn(this.node(),e)}function hn(e,t){return e.style.getPropertyValue(t)||Rl(e).getComputedStyle(e,null).getPropertyValue(t)}function Bh(e){return function(){delete this[e]}}function Xh(e,t){return function(){this[e]=t}}function Zh(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jh(e,t){return arguments.length>1?this.each((t==null?Bh:typeof t=="function"?Zh:Xh)(e,t)):this.node()[e]}function Wl(e){return e.trim().split(/^|\s+/)}function ia(e){return e.classList||new Ol(e)}function Ol(e){this._node=e,this._names=Wl(e.getAttribute("class")||"")}Ol.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ul(e,t){for(var n=ia(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Yl(e,t){for(var n=ia(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Qh(e){return function(){Ul(this,e)}}function Kh(e){return function(){Yl(this,e)}}function Jh(e,t){return function(){(t.apply(this,arguments)?Ul:Yl)(this,e)}}function ef(e,t){var n=Wl(e+"");if(arguments.length<2){for(var r=ia(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Jh:t?Qh:Kh)(n,t))}function tf(){this.textContent=""}function nf(e){return function(){this.textContent=e}}function rf(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function sf(e){return arguments.length?this.each(e==null?tf:(typeof e=="function"?rf:nf)(e)):this.node().textContent}function af(){this.innerHTML=""}function of(e){return function(){this.innerHTML=e}}function lf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function cf(e){return arguments.length?this.each(e==null?af:(typeof e=="function"?lf:of)(e)):this.node().innerHTML}function uf(){this.nextSibling&&this.parentNode.appendChild(this)}function hf(){return this.each(uf)}function ff(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function df(){return this.each(ff)}function pf(e){var t=typeof e=="function"?e:Nl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function gf(){return null}function mf(e,t){var n=typeof e=="function"?e:Nl(e),r=t==null?gf:typeof t=="function"?t:ra(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function yf(){var e=this.parentNode;e&&e.removeChild(this)}function vf(){return this.each(yf)}function wf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xf(e){return this.select(e?bf:wf)}function Sf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _f(e){return function(t){e.call(this,t,this.__data__)}}function Tf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Mf(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function kf(e,t,n){return function(){var r=this.__on,i,s=_f(t);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Cf(e,t,n){var r=Tf(e+""),i,s=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,o=l.length,u;c<o;++c)for(i=0,u=l[c];i<s;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(l=t?kf:Mf,i=0;i<s;++i)this.each(l(r[i],t,n));return this}function Gl(e,t,n){var r=Rl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Vf(e,t){return function(){return Gl(this,e,t)}}function Df(e,t){return function(){return Gl(this,e,t.apply(this,arguments))}}function Af(e,t){return this.each((typeof t=="function"?Df:Vf)(e,t))}function*Lf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var sa=[null];function Ie(e,t){this._groups=e,this._parents=t}function xn(){return new Ie([[document.documentElement]],sa)}function Hf(){return this}Ie.prototype=xn.prototype={constructor:Ie,select:ih,selectAll:oh,selectChild:hh,selectChildren:gh,filter:mh,data:Sh,enter:yh,exit:Th,join:Mh,merge:kh,selection:Hf,order:Ch,sort:Vh,call:Ah,nodes:Lh,node:Hh,size:Fh,empty:Ih,each:Nh,attr:Wh,style:Gh,property:jh,classed:ef,text:sf,html:cf,raise:hf,lower:df,append:pf,insert:mf,remove:vf,clone:xf,datum:Sf,on:Cf,dispatch:Af,[Symbol.iterator]:Lf};function He(e){return typeof e=="string"?new Ie([[document.querySelector(e)]],[document.documentElement]):new Ie([[e]],sa)}function Ff(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ze(e,t){if(e=Ff(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function If(e){return typeof e=="string"?new Ie([document.querySelectorAll(e)],[document.documentElement]):new Ie([$l(e)],sa)}function Nf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function $f(e,t){return fetch(e,t).then(Nf)}function Fr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pf(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bl(e){let t,n,r;e.length!==2?(t=Fr,n=(l,c)=>Fr(e(l),c),r=(l,c)=>e(l)-c):(t=e===Fr||e===Pf?e:zf,n=e,r=e);function i(l,c,o=0,u=l.length){if(o<u){if(t(c,c)!==0)return u;do{const f=o+u>>>1;n(l[f],c)<0?o=f+1:u=f}while(o<u)}return o}function s(l,c,o=0,u=l.length){if(o<u){if(t(c,c)!==0)return u;do{const f=o+u>>>1;n(l[f],c)<=0?o=f+1:u=f}while(o<u)}return o}function a(l,c,o=0,u=l.length){const f=i(l,c,o,u-1);return f>o&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function zf(){return 0}function Ef(e){return e===null?NaN:+e}const qf=Bl(Fr),Rf=qf.right;Bl(Ef).center;const Xl=Rf;function Wf(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function Ir(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class Qa extends Map{constructor(t,n=Yf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ka(this,t))}has(t){return super.has(Ka(this,t))}set(t,n){return super.set(Of(this,t),n)}delete(t){return super.delete(Uf(this,t))}}function Ka({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Of({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Uf({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Yf(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gf(e){return e}var Bf=Array.prototype,Xf=Bf.slice;function ns(e){return()=>e}const Zf=Math.sqrt(50),jf=Math.sqrt(10),Qf=Math.sqrt(2);function jr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Zf?10:s>=jf?5:s>=Qf?2:1;let l,c,o;return i<0?(o=Math.pow(10,-i)/a,l=Math.round(e*o),c=Math.round(t*o),l/o<e&&++l,c/o>t&&--c,o=-o):(o=Math.pow(10,i)*a,l=Math.round(e/o),c=Math.round(t/o),l*o<e&&++l,c*o>t&&--c),c<l&&.5<=n&&n<2?jr(e,t,n*2):[l,c,o]}function Qr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?jr(t,e,n):jr(e,t,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let o=0;o<l;++o)c[o]=(s-o)/-a;else for(let o=0;o<l;++o)c[o]=(s-o)*a;else if(a<0)for(let o=0;o<l;++o)c[o]=(i+o)/-a;else for(let o=0;o<l;++o)c[o]=(i+o)*a;return c}function fn(e,t,n){return t=+t,e=+e,n=+n,jr(e,t,n)[2]}function Kf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?fn(t,e,n):fn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jf(e,t,n){let r;for(;;){const i=fn(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function e0(e){return Math.max(1,Math.ceil(Math.log(Wf(e))/Math.LN2)+1)}function t0(){var e=Gf,t=Ir,n=e0;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,l,c,o=new Array(a);for(s=0;s<a;++s)o[s]=e(i[s],s,i);var u=t(o),f=u[0],h=u[1],p=n(o,f,h);if(!Array.isArray(p)){const v=h,w=+p;if(t===Ir&&([f,h]=Jf(f,h,w)),p=Qr(f,h,w),p[0]<=f&&(c=fn(f,h,w)),p[p.length-1]>=h)if(v>=h&&t===Ir){const T=fn(f,h,w);isFinite(T)&&(T>0?h=(Math.floor(h/T)+1)*T:T<0&&(h=(Math.ceil(h*-T)+1)/-T))}else p.pop()}for(var y=p.length,d=0,m=y;p[d]<=f;)++d;for(;p[m-1]>h;)--m;(d||m<y)&&(p=p.slice(d,m),y=m-d);var g=new Array(y+1),b;for(s=0;s<=y;++s)b=g[s]=[],b.x0=s>0?p[s-1]:f,b.x1=s<y?p[s]:h;if(isFinite(c)){if(c>0)for(s=0;s<a;++s)(l=o[s])!=null&&f<=l&&l<=h&&g[Math.min(y,Math.floor((l-f)/c))].push(i[s]);else if(c<0){for(s=0;s<a;++s)if((l=o[s])!=null&&f<=l&&l<=h){const v=Math.floor((f-l)*c);g[Math.min(y,v+(p[v]<=l))].push(i[s])}}}else for(s=0;s<a;++s)(l=o[s])!=null&&f<=l&&l<=h&&g[Xl(p,l,0,y)].push(i[s]);return g}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:ns(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:ns([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ns(Array.isArray(i)?Xf.call(i):i),r):n},r}function n0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function r0(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function i0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function s0(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function a0(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function o0(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ja=Symbol("implicit");function aa(){var e=new Qa,t=[],n=[],r=Ja;function i(s){let a=e.get(s);if(a===void 0){if(r!==Ja)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Qa;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return aa(t,n).unknown(r)},lr.apply(i,arguments),i}function oa(){var e=aa().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,l=!1,c=0,o=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<r,y=p?i:r,d=p?r:i;s=(d-y)/Math.max(1,h-c+o*2),l&&(s=Math.floor(s)),y+=(d-y-s*(h-c))*u,a=s*(1-c),l&&(y=Math.round(y),a=Math.round(a));var m=a0(h).map(function(g){return y+s*g});return n(p?m.reverse():m)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,o=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(o=+h,f()):o},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return oa(t(),[r,i]).round(l).paddingInner(c).paddingOuter(o).align(u)},lr.apply(f(),arguments)}function Zl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Zl(t())},e}function l0(){return Zl(oa.apply(null,arguments).paddingInner(1))}function Sn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function St(){}var Ht=.7,dn=1/Ht,nn="\\s*([+-]?\\d+)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c0=/^#([0-9a-f]{3,8})$/,u0=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),h0=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),f0=new RegExp(`^rgba\\(${nn},${nn},${nn},${Wn}\\)$`),d0=new RegExp(`^rgba\\(${rt},${rt},${rt},${Wn}\\)$`),p0=new RegExp(`^hsl\\(${Wn},${rt},${rt}\\)$`),g0=new RegExp(`^hsla\\(${Wn},${rt},${rt},${Wn}\\)$`),eo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(St,bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:to,formatHex:to,formatHex8:m0,formatHsl:y0,formatRgb:no,toString:no});function to(){return this.rgb().formatHex()}function m0(){return this.rgb().formatHex8()}function y0(){return jl(this).formatHsl()}function no(){return this.rgb().formatRgb()}function bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ro(t):n===3?new xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u0.exec(e))?new xe(t[1],t[2],t[3],1):(t=h0.exec(e))?new xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f0.exec(e))?wr(t[1],t[2],t[3],t[4]):(t=d0.exec(e))?wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p0.exec(e))?ao(t[1],t[2]/100,t[3]/100,1):(t=g0.exec(e))?ao(t[1],t[2]/100,t[3]/100,t[4]):eo.hasOwnProperty(e)?ro(eo[e]):e==="transparent"?new xe(NaN,NaN,NaN,0):null}function ro(e){return new xe(e>>16&255,e>>8&255,e&255,1)}function wr(e,t,n,r){return r<=0&&(e=t=n=NaN),new xe(e,t,n,r)}function la(e){return e instanceof St||(e=bt(e)),e?(e=e.rgb(),new xe(e.r,e.g,e.b,e.opacity)):new xe}function Ls(e,t,n,r){return arguments.length===1?la(e):new xe(e,t,n,r==null?1:r)}function xe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Sn(xe,Ls,cr(St,{brighter(e){return e=e==null?dn:Math.pow(dn,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ht:Math.pow(Ht,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xe(At(this.r),At(this.g),At(this.b),Kr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:io,formatHex:io,formatHex8:v0,formatRgb:so,toString:so}));function io(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}`}function v0(){return`#${Dt(this.r)}${Dt(this.g)}${Dt(this.b)}${Dt((isNaN(this.opacity)?1:this.opacity)*255)}`}function so(){const e=Kr(this.opacity);return`${e===1?"rgb(":"rgba("}${At(this.r)}, ${At(this.g)}, ${At(this.b)}${e===1?")":`, ${e})`}`}function Kr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function At(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dt(e){return e=At(e),(e<16?"0":"")+e.toString(16)}function ao(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,n,r)}function jl(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof St||(e=bt(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-t)/l+2:a=(t-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Ke(a,l,c,e.opacity)}function Ql(e,t,n,r){return arguments.length===1?jl(e):new Ke(e,t,n,r==null?1:r)}function Ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sn(Ke,Ql,cr(St,{brighter(e){return e=e==null?dn:Math.pow(dn,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ht:Math.pow(Ht,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xe(rs(e>=240?e-240:e+120,i,r),rs(e,i,r),rs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ke(oo(this.h),br(this.s),br(this.l),Kr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kr(this.opacity);return`${e===1?"hsl(":"hsla("}${oo(this.h)}, ${br(this.s)*100}%, ${br(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oo(e){return e=(e||0)%360,e<0?e+360:e}function br(e){return Math.max(0,Math.min(1,e||0))}function rs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kl=Math.PI/180,Jl=180/Math.PI,Jr=18,ec=.96422,tc=1,nc=.82521,rc=4/29,rn=6/29,ic=3*rn*rn,w0=rn*rn*rn;function sc(e){if(e instanceof it)return new it(e.l,e.a,e.b,e.opacity);if(e instanceof tt)return oc(e);e instanceof xe||(e=la(e));var t=os(e.r),n=os(e.g),r=os(e.b),i=is((.2225045*t+.7168786*n+.0606169*r)/tc),s,a;return t===n&&n===r?s=a=i:(s=is((.4360747*t+.3850649*n+.1430804*r)/ec),a=is((.0139322*t+.0971045*n+.7141733*r)/nc)),new it(116*i-16,500*(s-i),200*(i-a),e.opacity)}function b0(e,t,n,r){return arguments.length===1?sc(e):new it(e,t,n,r==null?1:r)}function it(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Sn(it,b0,cr(St,{brighter(e){return new it(this.l+Jr*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new it(this.l-Jr*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ec*ss(t),e=tc*ss(e),n=nc*ss(n),new xe(as(3.1338561*t-1.6168667*e-.4906146*n),as(-.9787684*t+1.9161415*e+.033454*n),as(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function is(e){return e>w0?Math.pow(e,1/3):e/ic+rc}function ss(e){return e>rn?e*e*e:ic*(e-rc)}function as(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function os(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ac(e){if(e instanceof tt)return new tt(e.h,e.c,e.l,e.opacity);if(e instanceof it||(e=sc(e)),e.a===0&&e.b===0)return new tt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Jl;return new tt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x0(e,t,n,r){return arguments.length===1?ac(e):new tt(n,t,e,r==null?1:r)}function S0(e,t,n,r){return arguments.length===1?ac(e):new tt(e,t,n,r==null?1:r)}function tt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function oc(e){if(isNaN(e.h))return new it(e.l,0,0,e.opacity);var t=e.h*Kl;return new it(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Sn(tt,S0,cr(St,{brighter(e){return new tt(this.h,this.c,this.l+Jr*(e==null?1:e),this.opacity)},darker(e){return new tt(this.h,this.c,this.l-Jr*(e==null?1:e),this.opacity)},rgb(){return oc(this).rgb()}}));var lc=-.14861,ca=1.78277,ua=-.29227,Oi=-.90649,On=1.97294,lo=On*Oi,co=On*ca,uo=ca*ua-Oi*lc;function _0(e){if(e instanceof Lt)return new Lt(e.h,e.s,e.l,e.opacity);e instanceof xe||(e=la(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(uo*r+lo*t-co*n)/(uo+lo-co),s=r-i,a=(On*(n-i)-ua*s)/Oi,l=Math.sqrt(a*a+s*s)/(On*i*(1-i)),c=l?Math.atan2(a,s)*Jl-120:NaN;return new Lt(c<0?c+360:c,l,i,e.opacity)}function xt(e,t,n,r){return arguments.length===1?_0(e):new Lt(e,t,n,r==null?1:r)}function Lt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Sn(Lt,xt,cr(St,{brighter(e){return e=e==null?dn:Math.pow(dn,e),new Lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ht:Math.pow(Ht,e),new Lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Kl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new xe(255*(t+n*(lc*r+ca*i)),255*(t+n*(ua*r+Oi*i)),255*(t+n*(On*r)),this.opacity)}}));const Ui=e=>()=>e;function cc(e,t){return function(n){return e+n*t}}function T0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function M0(e,t){var n=t-e;return n?cc(e,n>180||n<-180?n-360*Math.round(n/360):n):Ui(isNaN(e)?t:e)}function k0(e){return(e=+e)==1?sn:function(t,n){return n-t?T0(t,n,e):Ui(isNaN(t)?n:t)}}function sn(e,t){var n=t-e;return n?cc(e,n):Ui(isNaN(e)?t:e)}const ei=function e(t){var n=k0(t);function r(i,s){var a=n((i=Ls(i)).r,(s=Ls(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),o=sn(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=l(u),i.b=c(u),i.opacity=o(u),i+""}}return r.gamma=e,r}(1);function C0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function V0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D0(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ur(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function A0(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function je(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function L0(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ur(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ls=new RegExp(Hs.source,"g");function H0(e){return function(){return e}}function F0(e){return function(t){return e(t)+""}}function uc(e,t){var n=Hs.lastIndex=ls.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(r=Hs.exec(e))&&(i=ls.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:je(r,i)})),n=ls.lastIndex;return n<t.length&&(s=t.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?F0(c[0].x):H0(t):(t=c.length,function(o){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(o);return l.join("")})}function ur(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ui(t):(n==="number"?je:n==="string"?(r=bt(t))?(t=r,ei):uc:t instanceof bt?ei:t instanceof Date?A0:V0(t)?C0:Array.isArray(t)?D0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L0:je)(e,t)}function I0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ho=180/Math.PI,Fs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hc(e,t,n,r,i,s){var a,l,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*ho,skewX:Math.atan(c)*ho,scaleX:a,scaleY:l}}var xr;function N0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Fs:hc(t.a,t.b,t.c,t.d,t.e,t.f)}function $0(e){return e==null||(xr||(xr=document.createElementNS("http://www.w3.org/2000/svg","g")),xr.setAttribute("transform",e),!(e=xr.transform.baseVal.consolidate()))?Fs:(e=e.matrix,hc(e.a,e.b,e.c,e.d,e.e,e.f))}function fc(e,t,n,r){function i(o){return o.length?o.pop()+" ":""}function s(o,u,f,h,p,y){if(o!==f||u!==h){var d=p.push("translate(",null,t,null,n);y.push({i:d-4,x:je(o,f)},{i:d-2,x:je(u,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function a(o,u,f,h){o!==u?(o-u>180?u+=360:u-o>180&&(o+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:je(o,u)})):u&&f.push(i(f)+"rotate("+u+r)}function l(o,u,f,h){o!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:je(o,u)}):u&&f.push(i(f)+"skewX("+u+r)}function c(o,u,f,h,p,y){if(o!==f||u!==h){var d=p.push(i(p)+"scale(",null,",",null,")");y.push({i:d-4,x:je(o,f)},{i:d-2,x:je(u,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(o,u){var f=[],h=[];return o=e(o),u=e(u),s(o.translateX,o.translateY,u.translateX,u.translateY,f,h),a(o.rotate,u.rotate,f,h),l(o.skewX,u.skewX,f,h),c(o.scaleX,o.scaleY,u.scaleX,u.scaleY,f,h),o=u=null,function(p){for(var y=-1,d=h.length,m;++y<d;)f[(m=h[y]).i]=m.x(p);return f.join("")}}}var P0=fc(N0,"px, ","px)","deg)"),z0=fc($0,", ",")",")"),E0=1e-12;function fo(e){return((e=Math.exp(e))+1/e)/2}function q0(e){return((e=Math.exp(e))-1/e)/2}function R0(e){return((e=Math.exp(2*e))-1)/(e+1)}const W0=function e(t,n,r){function i(s,a){var l=s[0],c=s[1],o=s[2],u=a[0],f=a[1],h=a[2],p=u-l,y=f-c,d=p*p+y*y,m,g;if(d<E0)g=Math.log(h/o)/t,m=function($){return[l+$*p,c+$*y,o*Math.exp(t*$*g)]};else{var b=Math.sqrt(d),v=(h*h-o*o+r*d)/(2*o*n*b),w=(h*h-o*o-r*d)/(2*h*n*b),T=Math.log(Math.sqrt(v*v+1)-v),A=Math.log(Math.sqrt(w*w+1)-w);g=(A-T)/t,m=function($){var D=$*g,F=fo(T),N=o/(n*b)*(F*R0(t*D+T)-q0(T));return[l+N*p,c+N*y,o*F/fo(t*D+T)]}}return m.duration=g*1e3*t/Math.SQRT2,m}return i.rho=function(s){var a=Math.max(.001,+s),l=a*a,c=l*l;return e(a,l,c)},i}(Math.SQRT2,2,4);function dc(e){return function t(n){n=+n;function r(i,s){var a=e((i=xt(i)).h,(s=xt(s)).h),l=sn(i.s,s.s),c=sn(i.l,s.l),o=sn(i.opacity,s.opacity);return function(u){return i.h=a(u),i.s=l(u),i.l=c(Math.pow(u,n)),i.opacity=o(u),i+""}}return r.gamma=t,r}(1)}dc(M0);var pc=dc(sn);function O0(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function U0(e){return function(){return e}}function Y0(e){return+e}var po=[0,1];function nt(e){return e}function Is(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:U0(isNaN(t)?NaN:.5)}function G0(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function B0(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=Is(i,r),s=n(a,s)):(r=Is(r,i),s=n(s,a)),function(l){return s(r(l))}}function X0(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Is(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(l){var c=Xl(e,l,1,r)-1;return s[c](i[c](l))}}function ha(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fa(){var e=po,t=po,n=ur,r,i,s,a=nt,l,c,o;function u(){var h=Math.min(e.length,t.length);return a!==nt&&(a=G0(e[0],e[h-1])),l=h>2?X0:B0,c=o=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((o||(o=l(t,e.map(r),je)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Y0),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=I0,u()},f.clamp=function(h){return arguments.length?(a=h?!0:nt,u()):a!==nt},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,u()}}function Z0(){return fa()(nt,nt)}function j0(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ti(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pn(e){return e=ti(Math.abs(e)),e?e[1]:NaN}function Q0(e,t){return function(n,r){for(var i=n.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function K0(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var J0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Un(e){if(!(t=J0.exec(e)))throw new Error("invalid format: "+e);var t;return new da({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Un.prototype=da.prototype;function da(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}da.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ed(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var gc;function td(e,t){var n=ti(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(gc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+ti(e,Math.max(0,t+s-1))[0]}function go(e,t){var n=ti(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:j0,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>go(e*100,t),r:go,s:td,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yo(e){return e}var vo=Array.prototype.map,wo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function nd(e){var t=e.grouping===void 0||e.thousands===void 0?yo:Q0(vo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yo:K0(vo.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function o(f){f=Un(f);var h=f.fill,p=f.align,y=f.sign,d=f.symbol,m=f.zero,g=f.width,b=f.comma,v=f.precision,w=f.trim,T=f.type;T==="n"?(b=!0,T="g"):mo[T]||(v===void 0&&(v=12),w=!0,T="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var A=d==="$"?n:d==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",$=d==="$"?r:/[%p]/.test(T)?a:"",D=mo[T],F=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N(M){var L=A,H=$,x,z,V;if(T==="c")H=D(M)+H,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?c:D(Math.abs(M),v),w&&(M=ed(M)),P&&+M==0&&y!=="+"&&(P=!1),L=(P?y==="("?y:l:y==="-"||y==="("?"":y)+L,H=(T==="s"?wo[8+gc/3]:"")+H+(P&&y==="("?")":""),F){for(x=-1,z=M.length;++x<z;)if(V=M.charCodeAt(x),48>V||V>57){H=(V===46?i+M.slice(x+1):M.slice(x))+H,M=M.slice(0,x);break}}}b&&!m&&(M=t(M,1/0));var W=L.length+M.length+H.length,E=W<g?new Array(g-W+1).join(h):"";switch(b&&m&&(M=t(E+M,E.length?g-H.length:1/0),E=""),p){case"<":M=L+M+H+E;break;case"=":M=L+E+M+H;break;case"^":M=E.slice(0,W=E.length>>1)+L+M+H+E.slice(W);break;default:M=E+L+M+H;break}return s(M)}return N.toString=function(){return f+""},N}function u(f,h){var p=o((f=Un(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(pn(h)/3)))*3,d=Math.pow(10,-y),m=wo[8+y/3];return function(g){return p(d*g)+m}}return{format:o,formatPrefix:u}}var Sr,Yi,mc;rd({thousands:",",grouping:[3],currency:["$",""]});function rd(e){return Sr=nd(e),Yi=Sr.format,mc=Sr.formatPrefix,Sr}function id(e){return Math.max(0,-pn(Math.abs(e)))}function sd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pn(t)/3)))*3-pn(Math.abs(e)))}function ad(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pn(t)-pn(e))+1}function od(e,t,n,r){var i=Kf(e,t,n),s;switch(r=Un(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=sd(i,a))&&(r.precision=s),mc(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=ad(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=id(i))&&(r.precision=s-(r.type==="%")*2);break}}return Yi(r)}function yc(e){var t=e.domain;return e.ticks=function(n){var r=t();return Qr(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return od(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],l=r[s],c,o,u=10;for(l<a&&(o=a,a=l,l=o,o=i,i=s,s=o);u-- >0;){if(o=fn(a,l,n),o===c)return r[i]=a,r[s]=l,t(r);if(o>0)a=Math.floor(a/o)*o,l=Math.ceil(l/o)*o;else if(o<0)a=Math.ceil(a*o)/o,l=Math.floor(l*o)/o;else break;c=o}return e},e}function vc(){var e=Z0();return e.copy=function(){return ha(e,vc())},lr.apply(e,arguments),yc(e)}function ld(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function bo(e){return Math.log(e)}function xo(e){return Math.exp(e)}function cd(e){return-Math.log(-e)}function ud(e){return-Math.exp(-e)}function hd(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fd(e){return e===10?hd:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dd(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function So(e){return(t,n)=>-e(-t,n)}function pd(e){const t=e(bo,xo),n=t.domain;let r=10,i,s;function a(){return i=dd(r),s=fd(r),n()[0]<0?(i=So(i),s=So(s),e(cd,ud)):e(bo,xo),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const c=n();let o=c[0],u=c[c.length-1];const f=u<o;f&&([o,u]=[u,o]);let h=i(o),p=i(u),y,d;const m=l==null?10:+l;let g=[];if(!(r%1)&&p-h<m){if(h=Math.floor(h),p=Math.ceil(p),o>0){for(;h<=p;++h)for(y=1;y<r;++y)if(d=h<0?y/s(-h):y*s(h),!(d<o)){if(d>u)break;g.push(d)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(d=h>0?y/s(-h):y*s(h),!(d<o)){if(d>u)break;g.push(d)}g.length*2<m&&(g=Qr(o,u,m))}else g=Qr(h,p,Math.min(p-h,m)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Un(c)).precision==null&&(c.trim=!0),c=Yi(c)),l===1/0)return c;const o=Math.max(1,r*l/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=o?c(u):""}},t.nice=()=>n(ld(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function wc(){const e=pd(fa()).domain([1,10]);return e.copy=()=>ha(e,wc()).base(e.base()),lr.apply(e,arguments),e}function _o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gd(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function md(e){return e<0?-e*e:e*e}function yd(e){var t=e(nt,nt),n=1;function r(){return n===1?e(nt,nt):n===.5?e(gd,md):e(_o(n),_o(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},yc(t)}function pa(){var e=yd(fa());return e.copy=function(){return ha(e,pa()).exponent(e.exponent())},lr.apply(e,arguments),e}function vd(){return pa.apply(null,arguments).exponent(.5)}const cs=new Date,us=new Date;function at(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let o;do c.push(o=new Date(+s)),t(s,l),e(s);while(o<s&&s<a);return c},i.filter=s=>at(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(cs.setTime(+s),us.setTime(+a),e(cs),e(us),Math.floor(n(cs,us))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const wd=1e3,ga=wd*60,bd=ga*60,Yn=bd*24,bc=Yn*7,ma=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ga)/Yn,e=>e.getDate()-1);ma.range;const ya=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yn,e=>e.getUTCDate()-1);ya.range;const xd=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yn,e=>Math.floor(e/Yn));xd.range;function $t(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ga)/bc)}const xc=$t(0),ni=$t(1),Sd=$t(2),_d=$t(3),gn=$t(4),Td=$t(5),Md=$t(6);xc.range;ni.range;Sd.range;_d.range;gn.range;Td.range;Md.range;function Pt(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bc)}const Sc=Pt(0),ri=Pt(1),kd=Pt(2),Cd=Pt(3),mn=Pt(4),Vd=Pt(5),Dd=Pt(6);Sc.range;ri.range;kd.range;Cd.range;mn.range;Vd.range;Dd.range;const Ft=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ft.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ft.range;const It=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());It.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});It.range;function hs(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fs(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ad(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,o=kn(i),u=Cn(i),f=kn(s),h=Cn(s),p=kn(a),y=Cn(a),d=kn(l),m=Cn(l),g=kn(c),b=Cn(c),v={a:P,A:W,b:E,B:O,c:null,d:Do,e:Do,f:Jd,g:c1,G:h1,H:jd,I:Qd,j:Kd,L:_c,m:e1,M:t1,p:B,q:X,Q:Ho,s:Fo,S:n1,u:r1,U:i1,V:s1,w:a1,W:o1,x:null,X:null,y:l1,Y:u1,Z:f1,"%":Lo},w={a:G,A:R,b:K,B:he,c:null,d:Ao,e:Ao,f:m1,g:k1,G:V1,H:d1,I:p1,j:g1,L:Mc,m:y1,M:v1,p:te,q:ce,Q:Ho,s:Fo,S:w1,u:b1,U:x1,V:S1,w:_1,W:T1,x:null,X:null,y:M1,Y:C1,Z:D1,"%":Lo},T={a:N,A:M,b:L,B:H,c:x,d:Co,e:Co,f:Gd,g:ko,G:Mo,H:Vo,I:Vo,j:Wd,L:Yd,m:Rd,M:Od,p:F,q:qd,Q:Xd,s:Zd,S:Ud,u:Nd,U:$d,V:Pd,w:Id,W:zd,x:z,X:V,y:ko,Y:Mo,Z:Ed,"%":Bd};v.x=A(n,v),v.X=A(r,v),v.c=A(t,v),w.x=A(n,w),w.X=A(r,w),w.c=A(t,w);function A(U,J){return function(Q){var q=[],de=-1,Z=0,oe=U.length,le,ee,pe;for(Q instanceof Date||(Q=new Date(+Q));++de<oe;)U.charCodeAt(de)===37&&(q.push(U.slice(Z,de)),(ee=To[le=U.charAt(++de)])!=null?le=U.charAt(++de):ee=le==="e"?" ":"0",(pe=J[le])&&(le=pe(Q,ee)),q.push(le),Z=de+1);return q.push(U.slice(Z,de)),q.join("")}}function $(U,J){return function(Q){var q=Mn(1900,void 0,1),de=D(q,U,Q+="",0),Z,oe;if(de!=Q.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(J&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Z=fs(Mn(q.y,0,1)),oe=Z.getUTCDay(),Z=oe>4||oe===0?ri.ceil(Z):ri(Z),Z=ya.offset(Z,(q.V-1)*7),q.y=Z.getUTCFullYear(),q.m=Z.getUTCMonth(),q.d=Z.getUTCDate()+(q.w+6)%7):(Z=hs(Mn(q.y,0,1)),oe=Z.getDay(),Z=oe>4||oe===0?ni.ceil(Z):ni(Z),Z=ma.offset(Z,(q.V-1)*7),q.y=Z.getFullYear(),q.m=Z.getMonth(),q.d=Z.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),oe="Z"in q?fs(Mn(q.y,0,1)).getUTCDay():hs(Mn(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(oe+5)%7:q.w+q.U*7-(oe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,fs(q)):hs(q)}}function D(U,J,Q,q){for(var de=0,Z=J.length,oe=Q.length,le,ee;de<Z;){if(q>=oe)return-1;if(le=J.charCodeAt(de++),le===37){if(le=J.charAt(de++),ee=T[le in To?J.charAt(de++):le],!ee||(q=ee(U,Q,q))<0)return-1}else if(le!=Q.charCodeAt(q++))return-1}return q}function F(U,J,Q){var q=o.exec(J.slice(Q));return q?(U.p=u.get(q[0].toLowerCase()),Q+q[0].length):-1}function N(U,J,Q){var q=p.exec(J.slice(Q));return q?(U.w=y.get(q[0].toLowerCase()),Q+q[0].length):-1}function M(U,J,Q){var q=f.exec(J.slice(Q));return q?(U.w=h.get(q[0].toLowerCase()),Q+q[0].length):-1}function L(U,J,Q){var q=g.exec(J.slice(Q));return q?(U.m=b.get(q[0].toLowerCase()),Q+q[0].length):-1}function H(U,J,Q){var q=d.exec(J.slice(Q));return q?(U.m=m.get(q[0].toLowerCase()),Q+q[0].length):-1}function x(U,J,Q){return D(U,t,J,Q)}function z(U,J,Q){return D(U,n,J,Q)}function V(U,J,Q){return D(U,r,J,Q)}function P(U){return a[U.getDay()]}function W(U){return s[U.getDay()]}function E(U){return c[U.getMonth()]}function O(U){return l[U.getMonth()]}function B(U){return i[+(U.getHours()>=12)]}function X(U){return 1+~~(U.getMonth()/3)}function G(U){return a[U.getUTCDay()]}function R(U){return s[U.getUTCDay()]}function K(U){return c[U.getUTCMonth()]}function he(U){return l[U.getUTCMonth()]}function te(U){return i[+(U.getUTCHours()>=12)]}function ce(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var J=A(U+="",v);return J.toString=function(){return U},J},parse:function(U){var J=$(U+="",!1);return J.toString=function(){return U},J},utcFormat:function(U){var J=A(U+="",w);return J.toString=function(){return U},J},utcParse:function(U){var J=$(U+="",!0);return J.toString=function(){return U},J}}}var To={"-":"",_:" ",0:"0"},_e=/^\s*\d+/,Ld=/^%/,Hd=/[\\^$*+?|[\]().{}]/g;function ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Fd(e){return e.replace(Hd,"\\$&")}function kn(e){return new RegExp("^(?:"+e.map(Fd).join("|")+")","i")}function Cn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Id(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nd(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $d(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Pd(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function zd(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Mo(e,t,n){var r=_e.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ed(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qd(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Rd(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Co(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wd(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Vo(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Od(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ud(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Yd(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Gd(e,t,n){var r=_e.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bd(e,t,n){var r=Ld.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xd(e,t,n){var r=_e.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zd(e,t,n){var r=_e.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Do(e,t){return ge(e.getDate(),t,2)}function jd(e,t){return ge(e.getHours(),t,2)}function Qd(e,t){return ge(e.getHours()%12||12,t,2)}function Kd(e,t){return ge(1+ma.count(Ft(e),e),t,3)}function _c(e,t){return ge(e.getMilliseconds(),t,3)}function Jd(e,t){return _c(e,t)+"000"}function e1(e,t){return ge(e.getMonth()+1,t,2)}function t1(e,t){return ge(e.getMinutes(),t,2)}function n1(e,t){return ge(e.getSeconds(),t,2)}function r1(e){var t=e.getDay();return t===0?7:t}function i1(e,t){return ge(xc.count(Ft(e)-1,e),t,2)}function Tc(e){var t=e.getDay();return t>=4||t===0?gn(e):gn.ceil(e)}function s1(e,t){return e=Tc(e),ge(gn.count(Ft(e),e)+(Ft(e).getDay()===4),t,2)}function a1(e){return e.getDay()}function o1(e,t){return ge(ni.count(Ft(e)-1,e),t,2)}function l1(e,t){return ge(e.getFullYear()%100,t,2)}function c1(e,t){return e=Tc(e),ge(e.getFullYear()%100,t,2)}function u1(e,t){return ge(e.getFullYear()%1e4,t,4)}function h1(e,t){var n=e.getDay();return e=n>=4||n===0?gn(e):gn.ceil(e),ge(e.getFullYear()%1e4,t,4)}function f1(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function Ao(e,t){return ge(e.getUTCDate(),t,2)}function d1(e,t){return ge(e.getUTCHours(),t,2)}function p1(e,t){return ge(e.getUTCHours()%12||12,t,2)}function g1(e,t){return ge(1+ya.count(It(e),e),t,3)}function Mc(e,t){return ge(e.getUTCMilliseconds(),t,3)}function m1(e,t){return Mc(e,t)+"000"}function y1(e,t){return ge(e.getUTCMonth()+1,t,2)}function v1(e,t){return ge(e.getUTCMinutes(),t,2)}function w1(e,t){return ge(e.getUTCSeconds(),t,2)}function b1(e){var t=e.getUTCDay();return t===0?7:t}function x1(e,t){return ge(Sc.count(It(e)-1,e),t,2)}function kc(e){var t=e.getUTCDay();return t>=4||t===0?mn(e):mn.ceil(e)}function S1(e,t){return e=kc(e),ge(mn.count(It(e),e)+(It(e).getUTCDay()===4),t,2)}function _1(e){return e.getUTCDay()}function T1(e,t){return ge(ri.count(It(e)-1,e),t,2)}function M1(e,t){return ge(e.getUTCFullYear()%100,t,2)}function k1(e,t){return e=kc(e),ge(e.getUTCFullYear()%100,t,2)}function C1(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function V1(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mn(e):mn.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function D1(){return"+0000"}function Lo(){return"%"}function Ho(e){return+e}function Fo(e){return Math.floor(+e/1e3)}var Yt,Cc;A1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A1(e){return Yt=Ad(e),Cc=Yt.format,Yt.parse,Yt.utcFormat,Yt.utcParse,Yt}function L1(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const H1=L1("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");pc(xt(-100,.75,.35),xt(80,1.5,.8));pc(xt(260,.75,.35),xt(80,1.5,.8));var _r=xt();function F1(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return _r.h=360*e-100,_r.s=1.5-1.5*t,_r.l=.8-.9*t,_r+""}var yn=0,In=0,Vn=0,Vc=1e3,ii,Nn,si=0,Nt=0,Gi=0,Gn=typeof performance=="object"&&performance.now?performance:Date,Dc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function va(){return Nt||(Dc(I1),Nt=Gn.now()+Gi)}function I1(){Nt=0}function ai(){this._call=this._time=this._next=null}ai.prototype=Ac.prototype={constructor:ai,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?va():+n)+(t==null?0:+t),!this._next&&Nn!==this&&(Nn?Nn._next=this:ii=this,Nn=this),this._call=e,this._time=n,Ns()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ns())}};function Ac(e,t,n){var r=new ai;return r.restart(e,t,n),r}function N1(){va(),++yn;for(var e=ii,t;e;)(t=Nt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yn}function Io(){Nt=(si=Gn.now())+Gi,yn=In=0;try{N1()}finally{yn=0,P1(),Nt=0}}function $1(){var e=Gn.now(),t=e-si;t>Vc&&(Gi-=t,si=e)}function P1(){for(var e,t=ii,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ii=n);Nn=e,Ns(r)}function Ns(e){if(!yn){In&&(In=clearTimeout(In));var t=e-Nt;t>24?(e<1/0&&(In=setTimeout(Io,e-Gn.now()-Gi)),Vn&&(Vn=clearInterval(Vn))):(Vn||(si=Gn.now(),Vn=setInterval($1,Vc)),yn=1,Dc(Io))}}function $s(e,t,n){var r=new ai;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var z1={value:()=>{}};function hr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nr(n)}function Nr(e){this._=e}function E1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nr.prototype=hr.prototype={constructor:Nr,on:function(e,t){var n=this._,r=E1(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=q1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=No(n[i],e.name,t);else if(t==null)for(i in n)n[i]=No(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function q1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function No(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=z1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var R1=hr("start","end","cancel","interrupt"),W1=[],Lc=0,$o=1,Ps=2,$r=3,Po=4,zs=5,Pr=6;function Bi(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;O1(e,n,{name:t,index:r,group:i,on:R1,tween:W1,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Lc})}function wa(e,t){var n=Je(e,t);if(n.state>Lc)throw new Error("too late; already scheduled");return n}function ot(e,t){var n=Je(e,t);if(n.state>$r)throw new Error("too late; already running");return n}function Je(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function O1(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ac(s,0,n.time);function s(o){n.state=$o,n.timer.restart(a,n.delay,n.time),n.delay<=o&&a(o-n.delay)}function a(o){var u,f,h,p;if(n.state!==$o)return c();for(u in r)if(p=r[u],p.name===n.name){if(p.state===$r)return $s(a);p.state===Po?(p.state=Pr,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=Pr,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if($s(function(){n.state===$r&&(n.state=Po,n.timer.restart(l,n.delay,n.time),l(o))}),n.state=Ps,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ps){for(n.state=$r,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function l(o){for(var u=o<n.duration?n.ease.call(null,o/n.duration):(n.timer.restart(c),n.state=zs,1),f=-1,h=i.length;++f<h;)i[f].call(e,u);n.state===zs&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Pr,n.timer.stop(),delete r[t];for(var o in r)return;delete e.__transition}}function an(e,t){var n=e.__transition,r,i,s=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>Ps&&r.state<zs,r.state=Pr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function U1(e){return this.each(function(){an(this,e)})}function Y1(e,t){var n,r;return function(){var i=ot(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function G1(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ot(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var l={name:t,value:n},c=0,o=i.length;c<o;++c)if(i[c].name===t){i[c]=l;break}c===o&&i.push(l)}s.tween=i}}function B1(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Je(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Y1:G1)(n,e,t))}function ba(e,t,n){var r=e._id;return e.each(function(){var i=ot(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Je(i,r).value[t]}}function Hc(e,t){var n;return(typeof t=="number"?je:t instanceof bt?ei:(n=bt(t))?(t=n,ei):uc)(e,t)}function X1(e){return function(){this.removeAttribute(e)}}function Z1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j1(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function Q1(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function K1(e,t,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,l)))}}function J1(e,t,n){var r,i,s;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=l+"",a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,l)))}}function ep(e,t){var n=Wi(e),r=n==="transform"?z0:Hc;return this.attrTween(e,typeof t=="function"?(n.local?J1:K1)(n,r,ba(this,"attr."+e,t)):t==null?(n.local?Z1:X1)(n):(n.local?Q1:j1)(n,r,t))}function tp(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function np(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rp(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&np(e,s)),n}return i._value=t,i}function ip(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&tp(e,s)),n}return i._value=t,i}function sp(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wi(e);return this.tween(n,(r.local?rp:ip)(r,t))}function ap(e,t){return function(){wa(this,e).delay=+t.apply(this,arguments)}}function op(e,t){return t=+t,function(){wa(this,e).delay=t}}function lp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ap:op)(t,e)):Je(this.node(),t).delay}function cp(e,t){return function(){ot(this,e).duration=+t.apply(this,arguments)}}function up(e,t){return t=+t,function(){ot(this,e).duration=t}}function hp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cp:up)(t,e)):Je(this.node(),t).duration}function fp(e,t){if(typeof t!="function")throw new Error;return function(){ot(this,e).ease=t}}function dp(e){var t=this._id;return arguments.length?this.each(fp(t,e)):Je(this.node(),t).ease}function pp(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ot(this,e).ease=n}}function gp(e){if(typeof e!="function")throw new Error;return this.each(pp(this._id,e))}function mp(e){typeof e!="function"&&(e=zl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,l=r[i]=[],c,o=0;o<a;++o)(c=s[o])&&e.call(c,c.__data__,o,s)&&l.push(c);return new dt(r,this._parents,this._name,this._id)}function yp(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),l=0;l<s;++l)for(var c=t[l],o=n[l],u=c.length,f=a[l]=new Array(u),h,p=0;p<u;++p)(h=c[p]||o[p])&&(f[p]=h);for(;l<r;++l)a[l]=t[l];return new dt(a,this._parents,this._name,this._id)}function vp(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wp(e,t,n){var r,i,s=vp(t)?wa:ot;return function(){var a=s(this,e),l=a.on;l!==r&&(i=(r=l).copy()).on(t,n),a.on=i}}function bp(e,t){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(e):this.each(wp(n,e,t))}function xp(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sp(){return this.on("end.remove",xp(this._id))}function _p(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ra(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],c=l.length,o=s[a]=new Array(c),u,f,h=0;h<c;++h)(u=l[h])&&(f=e.call(u,u.__data__,h,l))&&("__data__"in u&&(f.__data__=u.__data__),o[h]=f,Bi(o[h],t,n,h,o,Je(u,n)));return new dt(s,this._parents,t,n)}function Tp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pl(e));for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var c=r[l],o=c.length,u,f=0;f<o;++f)if(u=c[f]){for(var h=e.call(u,u.__data__,f,c),p,y=Je(u,n),d=0,m=h.length;d<m;++d)(p=h[d])&&Bi(p,t,n,d,h,y);s.push(h),a.push(u)}return new dt(s,a,t,n)}var Mp=xn.prototype.constructor;function kp(){return new Mp(this._groups,this._parents)}function Cp(e,t){var n,r,i;return function(){var s=hn(this,e),a=(this.style.removeProperty(e),hn(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function Fc(e){return function(){this.style.removeProperty(e)}}function Vp(e,t,n){var r,i=n+"",s;return function(){var a=hn(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function Dp(e,t,n){var r,i,s;return function(){var a=hn(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),hn(this,e))),a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,l))}}function Ap(e,t){var n,r,i,s="style."+t,a="end."+s,l;return function(){var c=ot(this,e),o=c.on,u=c.value[s]==null?l||(l=Fc(t)):void 0;(o!==n||i!==u)&&(r=(n=o).copy()).on(a,i=u),c.on=r}}function Lp(e,t,n){var r=(e+="")=="transform"?P0:Hc;return t==null?this.styleTween(e,Cp(e,r)).on("end.style."+e,Fc(e)):typeof t=="function"?this.styleTween(e,Dp(e,r,ba(this,"style."+e,t))).each(Ap(this._id,e)):this.styleTween(e,Vp(e,r,t),n).on("end.style."+e,null)}function Hp(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Fp(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Hp(e,a,n)),r}return s._value=t,s}function Ip(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Fp(e,t,n==null?"":n))}function Np(e){return function(){this.textContent=e}}function $p(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Pp(e){return this.tween("text",typeof e=="function"?$p(ba(this,"text",e)):Np(e==null?"":e+""))}function zp(e){return function(t){this.textContent=e.call(this,t)}}function Ep(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&zp(i)),t}return r._value=e,r}function qp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ep(e))}function Rp(){for(var e=this._name,t=this._id,n=Nc(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,o=0;o<l;++o)if(c=a[o]){var u=Je(c,t);Bi(c,e,n,o,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new dt(r,this._parents,e,n)}function Wp(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var l={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var o=ot(this,r),u=o.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),o.on=t}),i===0&&s()})}var Op=0;function dt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ic(e){return xn().transition(e)}function Nc(){return++Op}var ct=xn.prototype;dt.prototype=Ic.prototype={constructor:dt,select:_p,selectAll:Tp,selectChild:ct.selectChild,selectChildren:ct.selectChildren,filter:mp,merge:yp,selection:kp,transition:Rp,call:ct.call,nodes:ct.nodes,node:ct.node,size:ct.size,empty:ct.empty,each:ct.each,on:bp,attr:ep,attrTween:sp,style:Lp,styleTween:Ip,text:Pp,textTween:qp,remove:Sp,tween:B1,delay:lp,duration:hp,ease:dp,easeVarying:gp,end:Wp,[Symbol.iterator]:ct[Symbol.iterator]};const Up=e=>+e;function Yp(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function $c(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var xa=3;(function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n})(xa);(function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n})(xa);var Gp=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(xa);function oi(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var vn=2*Math.PI,Sa=1,_a=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=vn);function i(s){return t*oi(- --s)*Math.sin((r-s)/n)}return i.amplitude=function(s){return e(s,n*vn)},i.period=function(s){return e(t,s)},i})(Sa,_a);var Bp=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=vn);function i(s){return 1-t*oi(s=+s)*Math.sin((s+r)/n)}return i.amplitude=function(s){return e(s,n*vn)},i.period=function(s){return e(t,s)},i}(Sa,_a);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=vn);function i(s){return((s=s*2-1)<0?t*oi(-s)*Math.sin((r-s)/n):2-t*oi(s)*Math.sin((r+s)/n))/2}return i.amplitude=function(s){return e(s,n*vn)},i.period=function(s){return e(t,s)},i})(Sa,_a);var Xp={time:null,delay:0,duration:250,ease:$c};function Zp(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jp(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=Nc(),(n=Xp).time=va(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],l=a.length,c,o=0;o<l;++o)(c=a[o])&&Bi(c,e,t,o,a,n||Zp(c,t));return new dt(r,this._parents,e,t)}xn.prototype.interrupt=U1;xn.prototype.transition=jp;function Qp(e){return e}var ds=1,ps=2,Es=3,$n=4,zo=1e-6;function Kp(e){return"translate("+e+",0)"}function Jp(e){return"translate(0,"+e+")"}function eg(e){return t=>+e(t)}function tg(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ng(){return!this.__axis}function Pc(e,t){var n=[],r=null,i=null,s=6,a=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,o=e===ds||e===$n?-1:1,u=e===$n||e===ps?"x":"y",f=e===ds||e===Es?Kp:Jp;function h(p){var y=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,d=i==null?t.tickFormat?t.tickFormat.apply(t,n):Qp:i,m=Math.max(s,0)+l,g=t.range(),b=+g[0]+c,v=+g[g.length-1]+c,w=(t.bandwidth?tg:eg)(t.copy(),c),T=p.selection?p.selection():p,A=T.selectAll(".domain").data([null]),$=T.selectAll(".tick").data(y,t).order(),D=$.exit(),F=$.enter().append("g").attr("class","tick"),N=$.select("line"),M=$.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(F),N=N.merge(F.append("line").attr("stroke","currentColor").attr(u+"2",o*s)),M=M.merge(F.append("text").attr("fill","currentColor").attr(u,o*m).attr("dy",e===ds?"0em":e===Es?"0.71em":"0.32em")),p!==T&&(A=A.transition(p),$=$.transition(p),N=N.transition(p),M=M.transition(p),D=D.transition(p).attr("opacity",zo).attr("transform",function(L){return isFinite(L=w(L))?f(L+c):this.getAttribute("transform")}),F.attr("opacity",zo).attr("transform",function(L){var H=this.parentNode.__axis;return f((H&&isFinite(H=H(L))?H:w(L))+c)})),D.remove(),A.attr("d",e===$n||e===ps?a?"M"+o*a+","+b+"H"+c+"V"+v+"H"+o*a:"M"+c+","+b+"V"+v:a?"M"+b+","+o*a+"V"+c+"H"+v+"V"+o*a:"M"+b+","+c+"H"+v),$.attr("opacity",1).attr("transform",function(L){return f(w(L)+c)}),N.attr(u+"2",o*s),M.attr(u,o*m).text(d),T.filter(ng).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ps?"start":e===$n?"end":"middle"),T.each(function(){this.__axis=w})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(s=a=+p,h):s},h.tickSizeInner=function(p){return arguments.length?(s=+p,h):s},h.tickSizeOuter=function(p){return arguments.length?(a=+p,h):a},h.tickPadding=function(p){return arguments.length?(l=+p,h):l},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function rg(e){return Pc(Es,e)}function ig(e){return Pc($n,e)}function Ae(e){return function(){return e}}const Eo=Math.abs,Ce=Math.atan2,Mt=Math.cos,sg=Math.max,gs=Math.min,et=Math.sin,Jt=Math.sqrt,$e=1e-12,Bn=Math.PI,li=Bn/2,ag=2*Bn;function og(e){return e>1?0:e<-1?Bn:Math.acos(e)}function qo(e){return e>=1?li:e<=-1?-li:Math.asin(e)}const qs=Math.PI,Rs=2*qs,kt=1e-6,lg=Rs-kt;function zc(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cg(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zc;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ta{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zc:cg(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-t,o=i-n,u=a-t,f=l-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>kt)if(!(Math.abs(f*c-o*u)>kt)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,y=i-l,d=c*c+o*o,m=p*p+y*y,g=Math.sqrt(d),b=Math.sqrt(h),v=s*Math.tan((qs-Math.acos((d+h-m)/(2*g*b)))/2),w=v/b,T=v/g;Math.abs(w-1)>kt&&this._append`L${t+w*u},${n+w*f}`,this._append`A${s},${s},0,0,${+(f*p>u*y)},${this._x1=t+T*c},${this._y1=n+T*o}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),o=t+l,u=n+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${o},${u}`:(Math.abs(this._x1-o)>kt||Math.abs(this._y1-u)>kt)&&this._append`L${o},${u}`,r&&(h<0&&(h=h%Rs+Rs),h>lg?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=o},${this._y1=u}`:h>kt&&this._append`A${r},${r},0,${+(h>=qs)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ec(){return new Ta}Ec.prototype=Ta.prototype;function Ma(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ta(t)}function ug(e){return e.innerRadius}function hg(e){return e.outerRadius}function fg(e){return e.startAngle}function dg(e){return e.endAngle}function pg(e){return e&&e.padAngle}function gg(e,t,n,r,i,s,a,l){var c=n-e,o=r-t,u=a-i,f=l-s,h=f*c-u*o;if(!(h*h<$e))return h=(u*(t-s)-f*(e-i))/h,[e+h*c,t+h*o]}function Tr(e,t,n,r,i,s,a){var l=e-n,c=t-r,o=(a?s:-s)/Jt(l*l+c*c),u=o*c,f=-o*l,h=e+u,p=t+f,y=n+u,d=r+f,m=(h+y)/2,g=(p+d)/2,b=y-h,v=d-p,w=b*b+v*v,T=i-s,A=h*d-y*p,$=(v<0?-1:1)*Jt(sg(0,T*T*w-A*A)),D=(A*v-b*$)/w,F=(-A*b-v*$)/w,N=(A*v+b*$)/w,M=(-A*b+v*$)/w,L=D-m,H=F-g,x=N-m,z=M-g;return L*L+H*H>x*x+z*z&&(D=N,F=M),{cx:D,cy:F,x01:-u,y01:-f,x11:D*(i/T-1),y11:F*(i/T-1)}}function mg(){var e=ug,t=hg,n=Ae(0),r=null,i=fg,s=dg,a=pg,l=null,c=Ma(o);function o(){var u,f,h=+e.apply(this,arguments),p=+t.apply(this,arguments),y=i.apply(this,arguments)-li,d=s.apply(this,arguments)-li,m=Eo(d-y),g=d>y;if(l||(l=u=c()),p<h&&(f=p,p=h,h=f),!(p>$e))l.moveTo(0,0);else if(m>ag-$e)l.moveTo(p*Mt(y),p*et(y)),l.arc(0,0,p,y,d,!g),h>$e&&(l.moveTo(h*Mt(d),h*et(d)),l.arc(0,0,h,d,y,g));else{var b=y,v=d,w=y,T=d,A=m,$=m,D=a.apply(this,arguments)/2,F=D>$e&&(r?+r.apply(this,arguments):Jt(h*h+p*p)),N=gs(Eo(p-h)/2,+n.apply(this,arguments)),M=N,L=N,H,x;if(F>$e){var z=qo(F/h*et(D)),V=qo(F/p*et(D));(A-=z*2)>$e?(z*=g?1:-1,w+=z,T-=z):(A=0,w=T=(y+d)/2),($-=V*2)>$e?(V*=g?1:-1,b+=V,v-=V):($=0,b=v=(y+d)/2)}var P=p*Mt(b),W=p*et(b),E=h*Mt(T),O=h*et(T);if(N>$e){var B=p*Mt(v),X=p*et(v),G=h*Mt(w),R=h*et(w),K;if(m<Bn)if(K=gg(P,W,G,R,B,X,E,O)){var he=P-K[0],te=W-K[1],ce=B-K[0],U=X-K[1],J=1/et(og((he*ce+te*U)/(Jt(he*he+te*te)*Jt(ce*ce+U*U)))/2),Q=Jt(K[0]*K[0]+K[1]*K[1]);M=gs(N,(h-Q)/(J-1)),L=gs(N,(p-Q)/(J+1))}else M=L=0}$>$e?L>$e?(H=Tr(G,R,P,W,p,L,g),x=Tr(B,X,E,O,p,L,g),l.moveTo(H.cx+H.x01,H.cy+H.y01),L<N?l.arc(H.cx,H.cy,L,Ce(H.y01,H.x01),Ce(x.y01,x.x01),!g):(l.arc(H.cx,H.cy,L,Ce(H.y01,H.x01),Ce(H.y11,H.x11),!g),l.arc(0,0,p,Ce(H.cy+H.y11,H.cx+H.x11),Ce(x.cy+x.y11,x.cx+x.x11),!g),l.arc(x.cx,x.cy,L,Ce(x.y11,x.x11),Ce(x.y01,x.x01),!g))):(l.moveTo(P,W),l.arc(0,0,p,b,v,!g)):l.moveTo(P,W),!(h>$e)||!(A>$e)?l.lineTo(E,O):M>$e?(H=Tr(E,O,B,X,h,-M,g),x=Tr(P,W,G,R,h,-M,g),l.lineTo(H.cx+H.x01,H.cy+H.y01),M<N?l.arc(H.cx,H.cy,M,Ce(H.y01,H.x01),Ce(x.y01,x.x01),!g):(l.arc(H.cx,H.cy,M,Ce(H.y01,H.x01),Ce(H.y11,H.x11),!g),l.arc(0,0,h,Ce(H.cy+H.y11,H.cx+H.x11),Ce(x.cy+x.y11,x.cx+x.x11),g),l.arc(x.cx,x.cy,M,Ce(x.y11,x.x11),Ce(x.y01,x.x01),!g))):l.arc(0,0,h,T,w,g)}if(l.closePath(),u)return l=null,u+""||null}return o.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Bn/2;return[Mt(f)*u,et(f)*u]},o.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Ae(+u),o):e},o.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Ae(+u),o):t},o.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Ae(+u),o):n},o.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ae(+u),o):r},o.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Ae(+u),o):i},o.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Ae(+u),o):s},o.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Ae(+u),o):a},o.context=function(u){return arguments.length?(l=u==null?null:u,o):l},o}var yg=Array.prototype.slice;function vg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qc(e){this._context=e}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wg(e){return new qc(e)}function Rc(e){return e[0]}function Wc(e){return e[1]}function bg(e,t){var n=Ae(!0),r=null,i=wg,s=null,a=Ma(l);e=typeof e=="function"?e:e===void 0?Rc:Ae(e),t=typeof t=="function"?t:t===void 0?Wc:Ae(t);function l(c){var o,u=(c=vg(c)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),o=0;o<=u;++o)!(o<u&&n(f=c[o],o,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,o,c),+t(f,o,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ae(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}class Oc{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function xg(e){return new Oc(e,!0)}function Sg(e){return new Oc(e,!1)}function _g(e){return e.source}function Tg(e){return e.target}function Uc(e){let t=_g,n=Tg,r=Rc,i=Wc,s=null,a=null,l=Ma(c);function c(){let o;const u=yg.call(arguments),f=t.apply(this,u),h=n.apply(this,u);if(s==null&&(a=e(o=l())),a.lineStart(),u[0]=f,a.point(+r.apply(this,u),+i.apply(this,u)),u[0]=h,a.point(+r.apply(this,u),+i.apply(this,u)),a.lineEnd(),o)return a=null,o+""||null}return c.source=function(o){return arguments.length?(t=o,c):t},c.target=function(o){return arguments.length?(n=o,c):n},c.x=function(o){return arguments.length?(r=typeof o=="function"?o:Ae(+o),c):r},c.y=function(o){return arguments.length?(i=typeof o=="function"?o:Ae(+o),c):i},c.context=function(o){return arguments.length?(o==null?s=a=null:a=e(s=o),c):s},c}function Mg(){return Uc(xg)}function kg(){return Uc(Sg)}function Ro(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Yc(e){this._context=e}Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ro(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ro(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cg(e){return new Yc(e)}function Wo(e){return e<0?-1:1}function Oo(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(Wo(s)+Wo(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Uo(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ms(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,i+l*t,s-l,a-l*n,s,a)}function ci(e){this._context=e}ci.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ms(this,this._t0,Uo(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ms(this,Uo(this,n=Oo(this,e,t)),n);break;default:ms(this,this._t0,n=Oo(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Gc(e){this._context=new Bc(e)}(Gc.prototype=Object.create(ci.prototype)).point=function(e,t){ci.prototype.point.call(this,t,e)};function Bc(e){this._context=e}Bc.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Vg(e){return new ci(e)}function Dg(e){return new Gc(e)}function Xc(e,t){this._context=e,this._t=t}Xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ag(e){return new Xc(e,1)}function Lg(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Hg(){return this.eachAfter(Lg)}function Fg(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Ig(e,t){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Ng(e,t){for(var n=this,r=[n],i=[],s,a,l,c=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,l=s.length;a<l;++a)r.push(s[a]);for(;n=i.pop();)e.call(t,n,++c,this);return this}function $g(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Pg(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function zg(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Eg(e){for(var t=this,n=qg(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function qg(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Rg(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Wg(){return Array.from(this)}function Og(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ug(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Yg(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function ka(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Xg)):t===void 0&&(t=Bg);for(var n=new Xn(e),r,i=[n],s,a,l,c;r=i.pop();)if((a=t(r.data))&&(c=(a=Array.from(a)).length))for(r.children=a,l=c-1;l>=0;--l)i.push(s=a[l]=new Xn(a[l])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(jg)}function Gg(){return ka(this).eachBefore(Zg)}function Bg(e){return e.children}function Xg(e){return Array.isArray(e)?e[1]:null}function Zg(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function jg(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Xn(e){this.data=e,this.depth=this.height=0,this.parent=null}Xn.prototype=ka.prototype={constructor:Xn,count:Hg,each:Fg,eachAfter:Ng,eachBefore:Ig,find:$g,sum:Pg,sort:zg,path:Eg,ancestors:Rg,descendants:Wg,leaves:Og,links:Ug,copy:Gg,[Symbol.iterator]:Yg};function Qg(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Kg(e,t,n,r,i){for(var s=e.children,a,l=-1,c=s.length,o=e.value&&(r-t)/e.value;++l<c;)a=s[l],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*o}function Jg(){var e=1,t=1,n=0,r=!1;function i(a){var l=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/l,a.eachBefore(s(t,l)),r&&a.eachBefore(Qg),a}function s(a,l){return function(c){c.children&&Kg(c,c.x0,a*(c.depth+1)/l,c.x1,a*(c.depth+2)/l);var o=c.x0,u=c.y0,f=c.x1-n,h=c.y1-n;f<o&&(o=f=(o+f)/2),h<u&&(u=h=(u+h)/2),c.x0=o,c.y0=u,c.x1=f,c.y1=h}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}function em(e,t){return e.parent===t.parent?1:2}function ys(e){var t=e.children;return t?t[0]:e.t}function vs(e){var t=e.children;return t?t[t.length-1]:e.t}function tm(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function nm(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function rm(e,t,n){return e.a.parent===t.parent?e.a:n}function zr(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}zr.prototype=Object.create(Xn.prototype);function im(e){for(var t=new zr(e,0),n,r=[t],i,s,a,l;n=r.pop();)if(s=n._.children)for(n.children=new Array(l=s.length),a=l-1;a>=0;--a)r.push(i=n.children[a]=new zr(s[a],a)),i.parent=n;return(t.parent=new zr(null,0)).children=[t],t}function sm(){var e=em,t=1,n=1,r=null;function i(o){var u=im(o);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(a),r)o.eachBefore(c);else{var f=o,h=o,p=o;o.eachBefore(function(b){b.x<f.x&&(f=b),b.x>h.x&&(h=b),b.depth>p.depth&&(p=b)});var y=f===h?1:e(f,h)/2,d=y-f.x,m=t/(h.x+y+d),g=n/(p.depth||1);o.eachBefore(function(b){b.x=(b.x+d)*m,b.y=b.depth*g})}return o}function s(o){var u=o.children,f=o.parent.children,h=o.i?f[o.i-1]:null;if(u){nm(o);var p=(u[0].z+u[u.length-1].z)/2;h?(o.z=h.z+e(o._,h._),o.m=o.z-p):o.z=p}else h&&(o.z=h.z+e(o._,h._));o.parent.A=l(o,h,o.parent.A||f[0])}function a(o){o._.x=o.z+o.parent.m,o.m+=o.parent.m}function l(o,u,f){if(u){for(var h=o,p=o,y=u,d=h.parent.children[0],m=h.m,g=p.m,b=y.m,v=d.m,w;y=vs(y),h=ys(h),y&&h;)d=ys(d),p=vs(p),p.a=o,w=y.z+b-h.z-m+e(y._,h._),w>0&&(tm(rm(y,o,f),o,w),m+=w,g+=w),b+=y.m,m+=h.m,v+=d.m,g+=p.m;y&&!vs(p)&&(p.t=y,p.m+=b-g),h&&!ys(d)&&(d.t=h,d.m+=m-v,f=o)}return f}function c(o){o.x*=t,o.y=o.depth*n}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}const am={passive:!1},Zn={capture:!0,passive:!1};function ws(e){e.stopImmediatePropagation()}function on(e){e.preventDefault(),e.stopImmediatePropagation()}function Ca(e){var t=e.document.documentElement,n=He(e).on("dragstart.drag",on,Zn);"onselectstart"in t?n.on("selectstart.drag",on,Zn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Va(e,t){var n=e.document.documentElement,r=He(e).on("dragstart.drag",null);t&&(r.on("click.drag",on,Zn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Mr=e=>()=>e;function Ws(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:a,y:l,dx:c,dy:o,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:o,enumerable:!0,configurable:!0},_:{value:u}})}Ws.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function om(e){return!e.ctrlKey&&!e.button}function lm(){return this.parentNode}function cm(e,t){return t==null?{x:e.x,y:e.y}:t}function um(){return navigator.maxTouchPoints||"ontouchstart"in this}function hm(){var e=om,t=lm,n=cm,r=um,i={},s=hr("start","drag","end"),a=0,l,c,o,u,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",m).on("touchmove.drag",g,am).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,T){if(!(u||!e.call(this,w,T))){var A=v(this,t.call(this,w,T),w,T,"mouse");!A||(He(w.view).on("mousemove.drag",y,Zn).on("mouseup.drag",d,Zn),Ca(w.view),ws(w),o=!1,l=w.clientX,c=w.clientY,A("start",w))}}function y(w){if(on(w),!o){var T=w.clientX-l,A=w.clientY-c;o=T*T+A*A>f}i.mouse("drag",w)}function d(w){He(w.view).on("mousemove.drag mouseup.drag",null),Va(w.view,o),on(w),i.mouse("end",w)}function m(w,T){if(!!e.call(this,w,T)){var A=w.changedTouches,$=t.call(this,w,T),D=A.length,F,N;for(F=0;F<D;++F)(N=v(this,$,w,T,A[F].identifier,A[F]))&&(ws(w),N("start",w,A[F]))}}function g(w){var T=w.changedTouches,A=T.length,$,D;for($=0;$<A;++$)(D=i[T[$].identifier])&&(on(w),D("drag",w,T[$]))}function b(w){var T=w.changedTouches,A=T.length,$,D;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),$=0;$<A;++$)(D=i[T[$].identifier])&&(ws(w),D("end",w,T[$]))}function v(w,T,A,$,D,F){var N=s.copy(),M=Ze(F||A,T),L,H,x;if((x=n.call(w,new Ws("beforestart",{sourceEvent:A,target:h,identifier:D,active:a,x:M[0],y:M[1],dx:0,dy:0,dispatch:N}),$))!=null)return L=x.x-M[0]||0,H=x.y-M[1]||0,function z(V,P,W){var E=M,O;switch(V){case"start":i[D]=z,O=a++;break;case"end":delete i[D],--a;case"drag":M=Ze(W||P,T),O=a;break}N.call(V,w,new Ws(V,{sourceEvent:P,subject:x,target:h,identifier:D,active:O,x:M[0]+L,y:M[1]+H,dx:M[0]-E[0],dy:M[1]-E[1],dispatch:N}),$)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Mr(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:Mr(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Mr(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Mr(!!w),h):r},h.on=function(){var w=s.on.apply(s,arguments);return w===s?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}const bs=e=>()=>e;function fm(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function dm(e){e.stopImmediatePropagation()}function xs(e){e.preventDefault(),e.stopImmediatePropagation()}var Yo={name:"drag"},Ss={name:"space"},Gt={name:"handle"},Bt={name:"center"};const{abs:Go,max:Ve,min:De}=Math;function Bo(e){return[+e[0],+e[1]]}function Os(e){return[Bo(e[0]),Bo(e[1])]}var _s={name:"x",handles:["w","e"].map(jn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ts={name:"y",handles:["n","s"].map(jn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},pm={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(jn),input:function(e){return e==null?null:Os(e)},output:function(e){return e}},ut={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Zo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gm={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mm={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function jn(e){return{type:e}}function ym(e){return!e.ctrlKey&&!e.button}function vm(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ms(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function bm(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function xm(){return Sm(pm)}function Sm(e){var t=vm,n=ym,r=wm,i=!0,s=hr("start","brush","end"),a=6,l;function c(m){var g=m.property("__brush",d).selectAll(".overlay").data([jn("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ut.overlay).merge(g).each(function(){var v=Ms(this).extent;He(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),m.selectAll(".selection").data([jn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ut.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=m.selectAll(".handle").data(e.handles,function(v){return v.type});b.exit().remove(),b.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return ut[v.type]}),m.each(o).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(m,g,b){m.tween?m.on("start.brush",function(v){u(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){u(this,arguments).end(v)}).tween("brush",function(){var v=this,w=v.__brush,T=u(v,arguments),A=w.selection,$=e.input(typeof g=="function"?g.apply(this,arguments):g,w.extent),D=ur(A,$);function F(N){w.selection=N===1&&$===null?null:D(N),o.call(v),T.brush()}return A!==null&&$!==null?F:F(1)}):m.each(function(){var v=this,w=arguments,T=v.__brush,A=e.input(typeof g=="function"?g.apply(v,w):g,T.extent),$=u(v,w).beforestart();an(v),T.selection=A===null?null:A,o.call(v),$.start(b).brush(b).end(b)})},c.clear=function(m,g){c.move(m,null,g)};function o(){var m=He(this),g=Ms(this).selection;g?(m.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?g[1][0]-a/2:g[0][0]-a/2}).attr("y",function(b){return b.type[0]==="s"?g[1][1]-a/2:g[0][1]-a/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?g[1][0]-g[0][0]+a:a}).attr("height",function(b){return b.type==="e"||b.type==="w"?g[1][1]-g[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(m,g,b){var v=m.__brush.emitter;return v&&(!b||!v.clean)?v:new f(m,g,b)}function f(m,g,b){this.that=m,this.args=g,this.state=m.__brush,this.active=0,this.clean=b}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,g){return this.starting?(this.starting=!1,this.emit("start",m,g)):this.emit("brush",m),this},brush:function(m,g){return this.emit("brush",m,g),this},end:function(m,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,g)),this},emit:function(m,g,b){var v=He(this.that).datum();s.call(m,this.that,new fm(m,{sourceEvent:g,target:c,selection:e.output(this.state.selection),mode:b,dispatch:s}),v)}};function h(m){if(l&&!m.touches||!n.apply(this,arguments))return;var g=this,b=m.target.__data__.type,v=(i&&m.metaKey?b="overlay":b)==="selection"?Yo:i&&m.altKey?Bt:Gt,w=e===Ts?null:gm[b],T=e===_s?null:mm[b],A=Ms(g),$=A.extent,D=A.selection,F=$[0][0],N,M,L=$[0][1],H,x,z=$[1][0],V,P,W=$[1][1],E,O,B=0,X=0,G,R=w&&T&&i&&m.shiftKey,K,he,te=Array.from(m.touches||[m],ee=>{const pe=ee.identifier;return ee=Ze(ee,g),ee.point0=ee.slice(),ee.identifier=pe,ee});an(g);var ce=u(g,arguments,!0).beforestart();if(b==="overlay"){D&&(G=!0);const ee=[te[0],te[1]||te[0]];A.selection=D=[[N=e===Ts?F:De(ee[0][0],ee[1][0]),H=e===_s?L:De(ee[0][1],ee[1][1])],[V=e===Ts?z:Ve(ee[0][0],ee[1][0]),E=e===_s?W:Ve(ee[0][1],ee[1][1])]],te.length>1&&de(m)}else N=D[0][0],H=D[0][1],V=D[1][0],E=D[1][1];M=N,x=H,P=V,O=E;var U=He(g).attr("pointer-events","none"),J=U.selectAll(".overlay").attr("cursor",ut[b]);if(m.touches)ce.moved=q,ce.ended=Z;else{var Q=He(m.view).on("mousemove.brush",q,!0).on("mouseup.brush",Z,!0);i&&Q.on("keydown.brush",oe,!0).on("keyup.brush",le,!0),Ca(m.view)}o.call(g),ce.start(m,v.name);function q(ee){for(const pe of ee.changedTouches||[ee])for(const Me of te)Me.identifier===pe.identifier&&(Me.cur=Ze(pe,g));if(R&&!K&&!he&&te.length===1){const pe=te[0];Go(pe.cur[0]-pe[0])>Go(pe.cur[1]-pe[1])?he=!0:K=!0}for(const pe of te)pe.cur&&(pe[0]=pe.cur[0],pe[1]=pe.cur[1]);G=!0,xs(ee),de(ee)}function de(ee){const pe=te[0],Me=pe.point0;var ke;switch(B=pe[0]-Me[0],X=pe[1]-Me[1],v){case Ss:case Yo:{w&&(B=Ve(F-N,De(z-V,B)),M=N+B,P=V+B),T&&(X=Ve(L-H,De(W-E,X)),x=H+X,O=E+X);break}case Gt:{te[1]?(w&&(M=Ve(F,De(z,te[0][0])),P=Ve(F,De(z,te[1][0])),w=1),T&&(x=Ve(L,De(W,te[0][1])),O=Ve(L,De(W,te[1][1])),T=1)):(w<0?(B=Ve(F-N,De(z-N,B)),M=N+B,P=V):w>0&&(B=Ve(F-V,De(z-V,B)),M=N,P=V+B),T<0?(X=Ve(L-H,De(W-H,X)),x=H+X,O=E):T>0&&(X=Ve(L-E,De(W-E,X)),x=H,O=E+X));break}case Bt:{w&&(M=Ve(F,De(z,N-B*w)),P=Ve(F,De(z,V+B*w))),T&&(x=Ve(L,De(W,H-X*T)),O=Ve(L,De(W,E+X*T)));break}}P<M&&(w*=-1,ke=N,N=V,V=ke,ke=M,M=P,P=ke,b in Xo&&J.attr("cursor",ut[b=Xo[b]])),O<x&&(T*=-1,ke=H,H=E,E=ke,ke=x,x=O,O=ke,b in Zo&&J.attr("cursor",ut[b=Zo[b]])),A.selection&&(D=A.selection),K&&(M=D[0][0],P=D[1][0]),he&&(x=D[0][1],O=D[1][1]),(D[0][0]!==M||D[0][1]!==x||D[1][0]!==P||D[1][1]!==O)&&(A.selection=[[M,x],[P,O]],o.call(g),ce.brush(ee,v.name))}function Z(ee){if(dm(ee),ee.touches){if(ee.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Va(ee.view,G),Q.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),J.attr("cursor",ut.overlay),A.selection&&(D=A.selection),bm(D)&&(A.selection=null,o.call(g)),ce.end(ee,v.name)}function oe(ee){switch(ee.keyCode){case 16:{R=w&&T;break}case 18:{v===Gt&&(w&&(V=P-B*w,N=M+B*w),T&&(E=O-X*T,H=x+X*T),v=Bt,de(ee));break}case 32:{(v===Gt||v===Bt)&&(w<0?V=P-B:w>0&&(N=M-B),T<0?E=O-X:T>0&&(H=x-X),v=Ss,J.attr("cursor",ut.selection),de(ee));break}default:return}xs(ee)}function le(ee){switch(ee.keyCode){case 16:{R&&(K=he=R=!1,de(ee));break}case 18:{v===Bt&&(w<0?V=P:w>0&&(N=M),T<0?E=O:T>0&&(H=x),v=Gt,de(ee));break}case 32:{v===Ss&&(ee.altKey?(w&&(V=P-B*w,N=M+B*w),T&&(E=O-X*T,H=x+X*T),v=Bt):(w<0?V=P:w>0&&(N=M),T<0?E=O:T>0&&(H=x),v=Gt),J.attr("cursor",ut[b]),de(ee));break}default:return}xs(ee)}}function p(m){u(this,arguments).moved(m)}function y(m){u(this,arguments).ended(m)}function d(){var m=this.__brush||{selection:null};return m.extent=Os(t.apply(this,arguments)),m.dim=e,m}return c.extent=function(m){return arguments.length?(t=typeof m=="function"?m:bs(Os(m)),c):t},c.filter=function(m){return arguments.length?(n=typeof m=="function"?m:bs(!!m),c):n},c.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:bs(!!m),c):r},c.handleSize=function(m){return arguments.length?(a=+m,c):a},c.keyModifiers=function(m){return arguments.length?(i=!!m,c):i},c.on=function(){var m=s.on.apply(s,arguments);return m===s?c:m},c}const kr=e=>()=>e;function _m(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ft(e,t,n){this.k=e,this.x=t,this.y=n}ft.prototype={constructor:ft,scale:function(e){return e===1?this:new ft(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ft(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Da=new ft(1,0,0);ft.prototype;function ks(e){e.stopImmediatePropagation()}function Dn(e){e.preventDefault(),e.stopImmediatePropagation()}function Tm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Mm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jo(){return this.__zoom||Da}function km(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Cm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vm(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Dm(){var e=Tm,t=Mm,n=Vm,r=km,i=Cm,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,c=W0,o=hr("start","zoom","end"),u,f,h,p=500,y=150,d=0,m=10;function g(x){x.property("__zoom",jo).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(x,z,V,P){var W=x.selection?x.selection():x;W.property("__zoom",jo),x!==W?T(x,z,V,P):W.interrupt().each(function(){A(this,arguments).event(P).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},g.scaleBy=function(x,z,V,P){g.scaleTo(x,function(){var W=this.__zoom.k,E=typeof z=="function"?z.apply(this,arguments):z;return W*E},V,P)},g.scaleTo=function(x,z,V,P){g.transform(x,function(){var W=t.apply(this,arguments),E=this.__zoom,O=V==null?w(W):typeof V=="function"?V.apply(this,arguments):V,B=E.invert(O),X=typeof z=="function"?z.apply(this,arguments):z;return n(v(b(E,X),O,B),W,a)},V,P)},g.translateBy=function(x,z,V,P){g.transform(x,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof V=="function"?V.apply(this,arguments):V),t.apply(this,arguments),a)},null,P)},g.translateTo=function(x,z,V,P,W){g.transform(x,function(){var E=t.apply(this,arguments),O=this.__zoom,B=P==null?w(E):typeof P=="function"?P.apply(this,arguments):P;return n(Da.translate(B[0],B[1]).scale(O.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof V=="function"?-V.apply(this,arguments):-V),E,a)},P,W)};function b(x,z){return z=Math.max(s[0],Math.min(s[1],z)),z===x.k?x:new ft(z,x.x,x.y)}function v(x,z,V){var P=z[0]-V[0]*x.k,W=z[1]-V[1]*x.k;return P===x.x&&W===x.y?x:new ft(x.k,P,W)}function w(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function T(x,z,V,P){x.on("start.zoom",function(){A(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(P).end()}).tween("zoom",function(){var W=this,E=arguments,O=A(W,E).event(P),B=t.apply(W,E),X=V==null?w(B):typeof V=="function"?V.apply(W,E):V,G=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),R=W.__zoom,K=typeof z=="function"?z.apply(W,E):z,he=c(R.invert(X).concat(G/R.k),K.invert(X).concat(G/K.k));return function(te){if(te===1)te=K;else{var ce=he(te),U=G/ce[2];te=new ft(U,X[0]-ce[0]*U,X[1]-ce[1]*U)}O.zoom(null,te)}})}function A(x,z,V){return!V&&x.__zooming||new $(x,z)}function $(x,z){this.that=x,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,z),this.taps=0}$.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,z){return this.mouse&&x!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var z=He(this.that).datum();o.call(x,this.that,new _m(x,{sourceEvent:this.sourceEvent,target:g,type:x,transform:this.that.__zoom,dispatch:o}),z)}};function D(x,...z){if(!e.apply(this,arguments))return;var V=A(this,z).event(x),P=this.__zoom,W=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,r.apply(this,arguments)))),E=Ze(x);if(V.wheel)(V.mouse[0][0]!==E[0]||V.mouse[0][1]!==E[1])&&(V.mouse[1]=P.invert(V.mouse[0]=E)),clearTimeout(V.wheel);else{if(P.k===W)return;V.mouse=[E,P.invert(E)],an(this),V.start()}Dn(x),V.wheel=setTimeout(O,y),V.zoom("mouse",n(v(b(P,W),V.mouse[0],V.mouse[1]),V.extent,a));function O(){V.wheel=null,V.end()}}function F(x,...z){if(h||!e.apply(this,arguments))return;var V=x.currentTarget,P=A(this,z,!0).event(x),W=He(x.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",G,!0),E=Ze(x,V),O=x.clientX,B=x.clientY;Ca(x.view),ks(x),P.mouse=[E,this.__zoom.invert(E)],an(this),P.start();function X(R){if(Dn(R),!P.moved){var K=R.clientX-O,he=R.clientY-B;P.moved=K*K+he*he>d}P.event(R).zoom("mouse",n(v(P.that.__zoom,P.mouse[0]=Ze(R,V),P.mouse[1]),P.extent,a))}function G(R){W.on("mousemove.zoom mouseup.zoom",null),Va(R.view,P.moved),Dn(R),P.event(R).end()}}function N(x,...z){if(!!e.apply(this,arguments)){var V=this.__zoom,P=Ze(x.changedTouches?x.changedTouches[0]:x,this),W=V.invert(P),E=V.k*(x.shiftKey?.5:2),O=n(v(b(V,E),P,W),t.apply(this,z),a);Dn(x),l>0?He(this).transition().duration(l).call(T,O,P,x):He(this).call(g.transform,O,P,x)}}function M(x,...z){if(!!e.apply(this,arguments)){var V=x.touches,P=V.length,W=A(this,z,x.changedTouches.length===P).event(x),E,O,B,X;for(ks(x),O=0;O<P;++O)B=V[O],X=Ze(B,this),X=[X,this.__zoom.invert(X),B.identifier],W.touch0?!W.touch1&&W.touch0[2]!==X[2]&&(W.touch1=X,W.taps=0):(W.touch0=X,E=!0,W.taps=1+!!u);u&&(u=clearTimeout(u)),E&&(W.taps<2&&(f=X[0],u=setTimeout(function(){u=null},p)),an(this),W.start())}}function L(x,...z){if(!!this.__zooming){var V=A(this,z).event(x),P=x.changedTouches,W=P.length,E,O,B,X;for(Dn(x),E=0;E<W;++E)O=P[E],B=Ze(O,this),V.touch0&&V.touch0[2]===O.identifier?V.touch0[0]=B:V.touch1&&V.touch1[2]===O.identifier&&(V.touch1[0]=B);if(O=V.that.__zoom,V.touch1){var G=V.touch0[0],R=V.touch0[1],K=V.touch1[0],he=V.touch1[1],te=(te=K[0]-G[0])*te+(te=K[1]-G[1])*te,ce=(ce=he[0]-R[0])*ce+(ce=he[1]-R[1])*ce;O=b(O,Math.sqrt(te/ce)),B=[(G[0]+K[0])/2,(G[1]+K[1])/2],X=[(R[0]+he[0])/2,(R[1]+he[1])/2]}else if(V.touch0)B=V.touch0[0],X=V.touch0[1];else return;V.zoom("touch",n(v(O,B,X),V.extent,a))}}function H(x,...z){if(!!this.__zooming){var V=A(this,z).event(x),P=x.changedTouches,W=P.length,E,O;for(ks(x),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),E=0;E<W;++E)O=P[E],V.touch0&&V.touch0[2]===O.identifier?delete V.touch0:V.touch1&&V.touch1[2]===O.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(O=Ze(O,this),Math.hypot(f[0]-O[0],f[1]-O[1])<m)){var B=He(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(x){return arguments.length?(r=typeof x=="function"?x:kr(+x),g):r},g.filter=function(x){return arguments.length?(e=typeof x=="function"?x:kr(!!x),g):e},g.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:kr(!!x),g):i},g.extent=function(x){return arguments.length?(t=typeof x=="function"?x:kr([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),g):t},g.scaleExtent=function(x){return arguments.length?(s[0]=+x[0],s[1]=+x[1],g):[s[0],s[1]]},g.translateExtent=function(x){return arguments.length?(a[0][0]=+x[0][0],a[1][0]=+x[1][0],a[0][1]=+x[0][1],a[1][1]=+x[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(x){return arguments.length?(n=x,g):n},g.duration=function(x){return arguments.length?(l=+x,g):l},g.interpolate=function(x){return arguments.length?(c=x,g):c},g.on=function(){var x=o.on.apply(o,arguments);return x===o?g:x},g.clickDistance=function(x){return arguments.length?(d=(x=+x)*x,g):Math.sqrt(d)},g.tapDistance=function(x){return arguments.length?(m=+x,g):m},g}const I={select:He,selectAll:If,json:$f,scaleLinear:vc,scaleSqrt:vd,scalePoint:l0,scaleBand:oa,scalePow:pa,scaleOrdinal:aa,scaleLog:wc,schemeTableau10:H1,interpolateRainbow:F1,lch:x0,hsl:Ql,color:bt,quantize:O0,interpolate:ur,max:n0,maxIndex:r0,min:i0,minIndex:s0,extent:Ir,sum:o0,bin:t0,timeout:$s,transition:Ic,easeLinear:Up,easePolyInOut:Gp,easeQuadInOut:Yp,easeCubicInOut:$c,easeElasticOut:Bp,axisLeft:ig,axisBottom:rg,line:bg,curveStepAfter:Ag,brush:xm,zoom:Dm,zoomIdentity:Da,drag:hm,format:Yi,curveMonotoneX:Vg,curveMonotoneY:Dg,curveBasis:Cg,timeFormat:Cc,hierarchy:ka,partition:Jg,tree:sm,arc:mg,linkHorizontal:Mg,linkVertical:kg,path:Ec},wn=(e,t)=>Math.round((e+Number.EPSILON)*10**t)/10**t,Am=(e,t=null,n="download.json")=>{const r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e));let i=t,s=!1;t===null&&(i=document.createElement("a"),i.style.display="none",s=!0),i==null||i.setAttribute("href",r),i==null||i.setAttribute("download",`${n}`),i==null||i.click(),s&&(i==null||i.remove())},Qo=e=>{const t=e[0],n=e[1],r=e[2],i=[t,n,r].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return i[0]*.2126+i[1]*.7152+i[2]*.0722},bn=(e,t)=>{const n=Qo(e),r=Qo(t);return n>r?(r+.05)/(n+.05):(n+.05)/(r+.05)},Ko=(e,t)=>e.size===t.size&&[...e].every(n=>t.has(n));class Lm{constructor(t,n,r,i){k(this,"favoritesStore");k(this,"favoritesStoreValue");k(this,"searchStore");k(this,"searchStoreValue");k(this,"sunburstStore");k(this,"sunburstStoreValue");k(this,"handlerUpdated");k(this,"favoritesClicked",()=>{this.favoritesStoreValue.shown=!this.favoritesStoreValue.shown,this.favoritesStore.set(this.favoritesStoreValue),this.favoritesStoreValue.shown&&this.searchStoreValue.shown&&(this.searchStoreValue.shown=!1,this.searchStore.set(this.searchStoreValue))});k(this,"searchClicked",()=>{this.searchStoreValue.shown=!this.searchStoreValue.shown,this.searchStore.set(this.searchStoreValue),this.searchStoreValue.shown&&this.favoritesStoreValue.shown&&(this.favoritesStoreValue.shown=!1,this.favoritesStore.set(this.favoritesStoreValue))});k(this,"depthBoxClicked",t=>{t<this.sunburstStoreValue.depthLow||(t>this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Vt.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow<t&&t<this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Vt.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow===t||this.sunburstStoreValue.depthHigh===t||console.error("Unknown case in depthBoxClicked()"))});k(this,"getDepthBoxStyle",t=>{const n=this.sunburstStoreValue.depthColors[t-1];let r="inherit";if(n===null||n==="")return"";{const i=[252,252,252],s=[74,74,74],a=I.color(n).rgb(),l=[a.r,a.g,a.b];bn(i,l)<bn(s,l)&&(r="hsla(0, 0%, 99%, 1)")}return`
    background-color: ${n}; color: ${r}; border: none;
    `});this.handlerUpdated=t,this.favoritesStore=n,this.favoritesStoreValue=sr(),this.favoritesStore.subscribe(s=>{this.favoritesStoreValue=s,this.handlerUpdated()}),this.sunburstStore=r,this.sunburstStoreValue=ta(),this.sunburstStore.subscribe(s=>{this.sunburstStoreValue=s,this.handlerUpdated()}),this.searchStore=i,this.searchStoreValue=ar(),this.searchStore.subscribe(s=>{this.searchStoreValue=s,this.handlerUpdated()})}}const Hm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>',Fm='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"></path></svg>',Im=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M8,14.25L7.655,14.916L7.647,14.912L7.629,14.902C7.524,14.848 7.421,14.791 7.319,14.732C6.1,14.038 4.95,13.23 3.885,12.318C2.045,10.731 0,8.35 0,5.5C0,2.836 2.086,1 4.25,1C5.797,1 7.153,1.802 8,3.02C8.847,1.802 10.203,1 11.75,1C13.914,1 16,2.836 16,5.5C16,8.35 13.955,10.731 12.115,12.318C10.959,13.306 9.705,14.172 8.371,14.902L8.353,14.912L8.347,14.915L8.345,14.915L8,14.25ZM8,14.25L8.345,14.916C8.129,15.028 7.871,15.028 7.655,14.916L8,14.25Z"/>
</svg>
`;function Jo(e,t,n){const r=e.slice();return r[13]=t[n],r}function el(e,t,n){const r=e.slice();return r[13]=t[n],r}function tl(e){let t;return{c(){var n,r;t=C("div"),_(t,"class","depth-line svelte-n44f0z"),ae(t,"in-range",e[13]+2<=((n=e[2])==null?void 0:n.sunburstStoreValue.depthHigh)&&e[13]+2>((r=e[2])==null?void 0:r.sunburstStoreValue.depthLow))},m(n,r){se(n,t,r)},p(n,r){var i,s;r&4&&ae(t,"in-range",n[13]+2<=((i=n[2])==null?void 0:i.sunburstStoreValue.depthHigh)&&n[13]+2>((s=n[2])==null?void 0:s.sunburstStoreValue.depthLow))},d(n){n&&ne(t)}}}function nl(e){let t,n=e[13]+1+"",r,i,s,a,l;function c(){return e[6](e[13])}return{c(){var o,u,f,h;t=C("div"),r=fe(n),i=Y(),_(t,"class","depth-box svelte-n44f0z"),_(t,"style",s=(o=e[2])==null?void 0:o.getDepthBoxStyle(e[13]+1)),ae(t,"in-range",e[13]+1<=((u=e[2])==null?void 0:u.sunburstStoreValue.depthHigh)&&e[13]+1>=((f=e[2])==null?void 0:f.sunburstStoreValue.depthLow)),ae(t,"no-hover",e[13]+1===((h=e[2])==null?void 0:h.sunburstStoreValue.depthHigh))},m(o,u){se(o,t,u),S(t,r),S(t,i),a||(l=re(t,"click",c),a=!0)},p(o,u){var f,h,p,y;e=o,u&4&&n!==(n=e[13]+1+"")&&be(r,n),u&4&&s!==(s=(f=e[2])==null?void 0:f.getDepthBoxStyle(e[13]+1))&&_(t,"style",s),u&4&&ae(t,"in-range",e[13]+1<=((h=e[2])==null?void 0:h.sunburstStoreValue.depthHigh)&&e[13]+1>=((p=e[2])==null?void 0:p.sunburstStoreValue.depthLow)),u&4&&ae(t,"no-hover",e[13]+1===((y=e[2])==null?void 0:y.sunburstStoreValue.depthHigh))},d(o){o&&ne(t),a=!1,l()}}}function Nm(e){var x,z;let t,n,r,i=e[0]<600?"Depth":"Show Depth",s,a,l,c,o,u,f,h,p,y,d,m,g,b,v,w,T,A,$,D,F,N=[...Array(Math.max(((x=e[2])==null?void 0:x.sunburstStoreValue.depthMax)-1,0)).keys()],M=[];for(let V=0;V<N.length;V+=1)M[V]=tl(el(e,N,V));let L=[...Array((z=e[2])==null?void 0:z.sunburstStoreValue.depthMax).keys()],H=[];for(let V=0;V<L.length;V+=1)H[V]=nl(Jo(e,L,V));return{c(){var V,P,W,E;t=C("div"),n=C("div"),r=C("div"),s=fe(i),a=Y(),l=C("div"),c=C("div");for(let O=0;O<M.length;O+=1)M[O].c();o=Y();for(let O=0;O<H.length;O+=1)H[O].c();u=Y(),f=C("div"),h=C("div"),p=C("span"),y=new Fn(!1),d=Y(),m=C("div"),g=Y(),b=C("span"),b.textContent="Favorites",v=Y(),w=C("div"),T=C("span"),A=Y(),$=C("span"),$.textContent="Search",_(r,"class","depth-label svelte-n44f0z"),_(c,"class","depth-box-lines svelte-n44f0z"),_(l,"class","depth-box-container svelte-n44f0z"),_(n,"class","depths svelte-n44f0z"),y.a=d,_(m,"class","hidden-heart svelte-n44f0z"),ae(m,"pulse",!1),_(p,"class","svg-icon svelte-n44f0z"),_(b,"class","button-text svelte-n44f0z"),ae(b,"no-display",((V=e[2])==null?void 0:V.sunburstStoreValue.depthMax)>8&&e[0]<650),_(h,"class","tool-button svelte-n44f0z"),ae(h,"shown",(P=e[2])==null?void 0:P.favoritesStoreValue.shown),_(T,"class","svg-icon svelte-n44f0z"),_($,"class","button-text svelte-n44f0z"),ae($,"no-display",((W=e[2])==null?void 0:W.sunburstStoreValue.depthMax)>8&&e[0]<650),_(w,"class","tool-button svelte-n44f0z"),ae(w,"shown",(E=e[2])==null?void 0:E.searchStoreValue.shown),_(f,"class","tools svelte-n44f0z"),_(t,"class","toolbar svelte-n44f0z")},m(V,P){se(V,t,P),S(t,n),S(n,r),S(r,s),S(n,a),S(n,l),S(l,c);for(let W=0;W<M.length;W+=1)M[W]&&M[W].m(c,null);S(l,o);for(let W=0;W<H.length;W+=1)H[W]&&H[W].m(l,null);S(t,u),S(t,f),S(f,h),S(h,p),y.m(Fm,p),S(p,d),S(p,m),m.innerHTML=Im,S(h,g),S(h,b),S(f,v),S(f,w),S(w,T),T.innerHTML=Hm,S(w,A),S(w,$),e[9](t),D||(F=[re(h,"click",e[7]),re(w,"click",e[8])],D=!0)},p(V,[P]){var W,E,O,B,X,G;if(P&1&&i!==(i=V[0]<600?"Depth":"Show Depth")&&be(s,i),P&4){N=[...Array(Math.max(((W=V[2])==null?void 0:W.sunburstStoreValue.depthMax)-1,0)).keys()];let R;for(R=0;R<N.length;R+=1){const K=el(V,N,R);M[R]?M[R].p(K,P):(M[R]=tl(K),M[R].c(),M[R].m(c,null))}for(;R<M.length;R+=1)M[R].d(1);M.length=N.length}if(P&4){L=[...Array((E=V[2])==null?void 0:E.sunburstStoreValue.depthMax).keys()];let R;for(R=0;R<L.length;R+=1){const K=Jo(V,L,R);H[R]?H[R].p(K,P):(H[R]=nl(K),H[R].c(),H[R].m(l,null))}for(;R<H.length;R+=1)H[R].d(1);H.length=L.length}P&5&&ae(b,"no-display",((O=V[2])==null?void 0:O.sunburstStoreValue.depthMax)>8&&V[0]<650),P&4&&ae(h,"shown",(B=V[2])==null?void 0:B.favoritesStoreValue.shown),P&5&&ae($,"no-display",((X=V[2])==null?void 0:X.sunburstStoreValue.depthMax)>8&&V[0]<650),P&4&&ae(w,"shown",(G=V[2])==null?void 0:G.searchStoreValue.shown)},i:ue,o:ue,d(V){V&&ne(t),Or(M,V),Or(H,V),e[9](null),D=!1,Se(F)}}}function $m(e,t,n){let{favoritesStore:r=null}=t,{sunburstStore:i=null}=t,{searchStore:s=null}=t,{sunburstWidth:a=650}=t,l=null,c=null;st(()=>{});const o=()=>{n(2,c)},u=()=>{r&&i&&s&&n(2,c=new Lm(o,r,i,s))},f=d=>c==null?void 0:c.depthBoxClicked(d+1),h=()=>{c==null||c.favoritesClicked()},p=()=>{c==null||c.searchClicked()};function y(d){Fe[d?"unshift":"push"](()=>{l=d,n(1,l)})}return e.$$set=d=>{"favoritesStore"in d&&n(3,r=d.favoritesStore),"sunburstStore"in d&&n(4,i=d.sunburstStore),"searchStore"in d&&n(5,s=d.searchStore),"sunburstWidth"in d&&n(0,a=d.sunburstWidth)},e.$$.update=()=>{e.$$.dirty&56&&r&&i&&s&&u()},[a,l,c,r,i,s,f,h,p,y]}class Pm extends Be{constructor(t){super(),Ge(this,t,$m,Nm,ze,{favoritesStore:3,sunburstStore:4,searchStore:5,sunburstWidth:0})}}const Er={sunburstWidth:650,treeWindowWidth:150,treeWindowHeaderHeight:26,treeWindowHeight:0,toolbarHeight:36},zm={mouseenterDelay:300};Er.treeWindowHeight=Er.treeWindowHeaderHeight+Er.treeWindowWidth;const Em={"red-50":"hsl(350, 100.0%, 96.08%)","red-100":"hsl(354, 100.0%, 90.2%)","red-200":"hsl(0, 72.65%, 77.06%)","red-300":"hsl(0, 68.67%, 67.45%)","red-400":"hsl(1, 83.25%, 62.55%)","red-500":"hsl(4, 89.62%, 58.43%)","red-600":"hsl(1, 77.19%, 55.29%)","red-700":"hsl(0, 65.08%, 50.59%)","red-800":"hsl(0, 66.39%, 46.67%)","red-900":"hsl(0, 73.46%, 41.37%)","red-a100":"hsl(4, 100.0%, 75.1%)","red-a200":"hsl(0, 100.0%, 66.08%)","red-a400":"hsl(348, 100.0%, 54.51%)","red-a700":"hsl(0, 100.0%, 41.76%)","pink-50":"hsl(340, 80.0%, 94.12%)","pink-100":"hsl(339, 81.33%, 85.29%)","pink-200":"hsl(339, 82.11%, 75.88%)","pink-300":"hsl(339, 82.56%, 66.27%)","pink-400":"hsl(339, 81.9%, 58.82%)","pink-500":"hsl(339, 82.19%, 51.57%)","pink-600":"hsl(338, 77.78%, 47.65%)","pink-700":"hsl(336, 77.98%, 42.75%)","pink-800":"hsl(333, 79.27%, 37.84%)","pink-900":"hsl(328, 81.33%, 29.41%)","pink-a100":"hsl(339, 100.0%, 75.1%)","pink-a200":"hsl(339, 100.0%, 62.55%)","pink-a400":"hsl(338, 100.0%, 48.04%)","pink-a700":"hsl(333, 84.11%, 41.96%)","purple-50":"hsl(292, 44.44%, 92.94%)","purple-100":"hsl(291, 46.07%, 82.55%)","purple-200":"hsl(291, 46.94%, 71.18%)","purple-300":"hsl(291, 46.6%, 59.61%)","purple-400":"hsl(291, 46.61%, 50.78%)","purple-500":"hsl(291, 63.72%, 42.16%)","purple-600":"hsl(287, 65.05%, 40.39%)","purple-700":"hsl(282, 67.88%, 37.84%)","purple-800":"hsl(277, 70.17%, 35.49%)","purple-900":"hsl(267, 75.0%, 31.37%)","purple-a100":"hsl(291, 95.38%, 74.51%)","purple-a200":"hsl(291, 95.9%, 61.76%)","purple-a400":"hsl(291, 100.0%, 48.82%)","purple-a700":"hsl(280, 100.0%, 50.0%)","deep-purple-50":"hsl(264, 45.45%, 93.53%)","deep-purple-100":"hsl(261, 45.68%, 84.12%)","deep-purple-200":"hsl(261, 46.27%, 73.73%)","deep-purple-300":"hsl(261, 46.81%, 63.14%)","deep-purple-400":"hsl(261, 46.72%, 55.1%)","deep-purple-500":"hsl(261, 51.87%, 47.25%)","deep-purple-600":"hsl(259, 53.91%, 45.1%)","deep-purple-700":"hsl(257, 57.75%, 41.76%)","deep-purple-800":"hsl(254, 60.8%, 39.02%)","deep-purple-900":"hsl(251, 68.79%, 33.92%)","deep-purple-a100":"hsl(261, 100.0%, 76.67%)","deep-purple-a200":"hsl(255, 100.0%, 65.1%)","deep-purple-a400":"hsl(258, 100.0%, 56.08%)","deep-purple-a700":"hsl(265, 100.0%, 45.88%)","indigo-50":"hsl(231, 43.75%, 93.73%)","indigo-100":"hsl(231, 45.0%, 84.31%)","indigo-200":"hsl(230, 44.36%, 73.92%)","indigo-300":"hsl(230, 44.09%, 63.53%)","indigo-400":"hsl(230, 44.25%, 55.69%)","indigo-500":"hsl(230, 48.36%, 47.84%)","indigo-600":"hsl(231, 50.0%, 44.71%)","indigo-700":"hsl(231, 53.62%, 40.59%)","indigo-800":"hsl(232, 57.22%, 36.67%)","indigo-900":"hsl(234, 65.79%, 29.8%)","indigo-a100":"hsl(230, 100.0%, 77.45%)","indigo-a200":"hsl(230, 98.84%, 66.08%)","indigo-a400":"hsl(230, 98.97%, 61.76%)","indigo-a700":"hsl(230, 99.04%, 59.22%)","blue-50":"hsl(205, 86.67%, 94.12%)","blue-100":"hsl(207, 88.89%, 85.88%)","blue-200":"hsl(206, 89.74%, 77.06%)","blue-300":"hsl(206, 89.02%, 67.84%)","blue-400":"hsl(206, 89.95%, 60.98%)","blue-500":"hsl(206, 89.74%, 54.12%)","blue-600":"hsl(208, 79.28%, 50.78%)","blue-700":"hsl(209, 78.72%, 46.08%)","blue-800":"hsl(211, 80.28%, 41.76%)","blue-900":"hsl(216, 85.06%, 34.12%)","blue-a100":"hsl(217, 100.0%, 75.49%)","blue-a200":"hsl(217, 100.0%, 63.33%)","blue-a400":"hsl(217, 100.0%, 58.04%)","blue-a700":"hsl(224, 100.0%, 58.04%)","light-blue-50":"hsl(198, 93.55%, 93.92%)","light-blue-100":"hsl(198, 92.41%, 84.51%)","light-blue-200":"hsl(198, 92.37%, 74.31%)","light-blue-300":"hsl(198, 91.3%, 63.92%)","light-blue-400":"hsl(198, 91.93%, 56.27%)","light-blue-500":"hsl(198, 97.57%, 48.43%)","light-blue-600":"hsl(199, 97.41%, 45.49%)","light-blue-700":"hsl(201, 98.1%, 41.37%)","light-blue-800":"hsl(202, 97.91%, 37.45%)","light-blue-900":"hsl(206, 98.72%, 30.59%)","light-blue-a100":"hsl(198, 100.0%, 75.1%)","light-blue-a200":"hsl(198, 100.0%, 62.55%)","light-blue-a400":"hsl(198, 100.0%, 50.0%)","light-blue-a700":"hsl(202, 100.0%, 45.88%)","cyan-50":"hsl(186, 72.22%, 92.94%)","cyan-100":"hsl(186, 71.11%, 82.35%)","cyan-200":"hsl(186, 71.62%, 70.98%)","cyan-300":"hsl(186, 71.15%, 59.22%)","cyan-400":"hsl(186, 70.87%, 50.2%)","cyan-500":"hsl(186, 100.0%, 41.57%)","cyan-600":"hsl(186, 100.0%, 37.84%)","cyan-700":"hsl(185, 100.0%, 32.75%)","cyan-800":"hsl(185, 100.0%, 28.04%)","cyan-900":"hsl(182, 100.0%, 19.61%)","cyan-a100":"hsl(180, 100.0%, 75.88%)","cyan-a200":"hsl(180, 100.0%, 54.71%)","cyan-a400":"hsl(186, 100.0%, 50.0%)","cyan-a700":"hsl(187, 100.0%, 41.57%)","teal-50":"hsl(176, 40.91%, 91.37%)","teal-100":"hsl(174, 41.28%, 78.63%)","teal-200":"hsl(174, 41.9%, 64.9%)","teal-300":"hsl(174, 41.83%, 50.78%)","teal-400":"hsl(174, 62.75%, 40.0%)","teal-500":"hsl(174, 100.0%, 29.41%)","teal-600":"hsl(173, 100.0%, 26.86%)","teal-700":"hsl(173, 100.0%, 23.73%)","teal-800":"hsl(172, 100.0%, 20.59%)","teal-900":"hsl(169, 100.0%, 15.1%)","teal-a100":"hsl(166, 100.0%, 82.75%)","teal-a200":"hsl(165, 100.0%, 69.61%)","teal-a400":"hsl(165, 82.26%, 51.37%)","teal-a700":"hsl(171, 100.0%, 37.45%)","green-50":"hsl(124, 39.39%, 93.53%)","green-100":"hsl(121, 37.5%, 84.31%)","green-200":"hsl(122, 37.4%, 74.31%)","green-300":"hsl(122, 38.46%, 64.31%)","green-400":"hsl(122, 38.46%, 56.67%)","green-500":"hsl(122, 39.44%, 49.22%)","green-600":"hsl(122, 40.97%, 44.51%)","green-700":"hsl(122, 43.43%, 38.82%)","green-800":"hsl(123, 46.2%, 33.53%)","green-900":"hsl(124, 55.37%, 23.73%)","green-a100":"hsl(136, 77.22%, 84.51%)","green-a200":"hsl(150, 81.82%, 67.65%)","green-a400":"hsl(150, 100.0%, 45.1%)","green-a700":"hsl(144, 100.0%, 39.22%)","light-green-50":"hsl(88, 51.72%, 94.31%)","light-green-100":"hsl(87, 50.68%, 85.69%)","light-green-200":"hsl(88, 50.0%, 76.47%)","light-green-300":"hsl(87, 50.0%, 67.06%)","light-green-400":"hsl(87, 50.24%, 59.8%)","light-green-500":"hsl(87, 50.21%, 52.75%)","light-green-600":"hsl(89, 46.12%, 48.04%)","light-green-700":"hsl(92, 47.91%, 42.16%)","light-green-800":"hsl(95, 49.46%, 36.47%)","light-green-900":"hsl(103, 55.56%, 26.47%)","light-green-a100":"hsl(87, 100.0%, 78.24%)","light-green-a200":"hsl(87, 100.0%, 67.45%)","light-green-a400":"hsl(92, 100.0%, 50.59%)","light-green-a700":"hsl(96, 81.15%, 47.84%)","lime-50":"hsl(65, 71.43%, 94.51%)","lime-100":"hsl(64, 69.01%, 86.08%)","lime-200":"hsl(65, 70.69%, 77.25%)","lime-300":"hsl(65, 70.37%, 68.24%)","lime-400":"hsl(65, 69.7%, 61.18%)","lime-500":"hsl(65, 69.96%, 54.31%)","lime-600":"hsl(63, 59.68%, 49.61%)","lime-700":"hsl(62, 61.43%, 43.73%)","lime-800":"hsl(59, 62.89%, 38.04%)","lime-900":"hsl(53, 69.93%, 30.0%)","lime-a100":"hsl(65, 100.0%, 75.29%)","lime-a200":"hsl(65, 100.0%, 62.75%)","lime-a400":"hsl(73, 100.0%, 50.0%)","lime-a700":"hsl(75, 100.0%, 45.88%)","yellow-50":"hsl(55, 100.0%, 95.29%)","yellow-100":"hsl(53, 100.0%, 88.43%)","yellow-200":"hsl(53, 100.0%, 80.78%)","yellow-300":"hsl(53, 100.0%, 73.14%)","yellow-400":"hsl(53, 100.0%, 67.25%)","yellow-500":"hsl(53, 100.0%, 61.57%)","yellow-600":"hsl(48, 98.04%, 60.0%)","yellow-700":"hsl(42, 96.26%, 58.04%)","yellow-800":"hsl(37, 94.64%, 56.08%)","yellow-900":"hsl(28, 91.74%, 52.55%)","yellow-a100":"hsl(60, 100.0%, 77.65%)","yellow-a200":"hsl(60, 100.0%, 50.0%)","yellow-a400":"hsl(55, 100.0%, 50.0%)","yellow-a700":"hsl(50, 100.0%, 50.0%)","amber-50":"hsl(46, 100.0%, 94.12%)","amber-100":"hsl(45, 100.0%, 85.1%)","amber-200":"hsl(45, 100.0%, 75.49%)","amber-300":"hsl(45, 100.0%, 65.49%)","amber-400":"hsl(45, 100.0%, 57.84%)","amber-500":"hsl(45, 100.0%, 51.37%)","amber-600":"hsl(42, 100.0%, 50.0%)","amber-700":"hsl(37, 100.0%, 50.0%)","amber-800":"hsl(33, 100.0%, 50.0%)","amber-900":"hsl(26, 100.0%, 50.0%)","amber-a100":"hsl(47, 100.0%, 74.9%)","amber-a200":"hsl(47, 100.0%, 62.55%)","amber-a400":"hsl(46, 100.0%, 50.0%)","amber-a700":"hsl(40, 100.0%, 50.0%)","orange-50":"hsl(36, 100.0%, 93.92%)","orange-100":"hsl(35, 100.0%, 84.9%)","orange-200":"hsl(35, 100.0%, 75.1%)","orange-300":"hsl(35, 100.0%, 65.1%)","orange-400":"hsl(35, 100.0%, 57.45%)","orange-500":"hsl(35, 100.0%, 50.0%)","orange-600":"hsl(33, 100.0%, 49.22%)","orange-700":"hsl(30, 100.0%, 48.04%)","orange-800":"hsl(27, 100.0%, 46.86%)","orange-900":"hsl(21, 100.0%, 45.1%)","orange-a100":"hsl(38, 100.0%, 75.1%)","orange-a200":"hsl(33, 100.0%, 62.55%)","orange-a400":"hsl(34, 100.0%, 50.0%)","orange-a700":"hsl(25, 100.0%, 50.0%)","deep-orange-50":"hsl(5, 71.43%, 94.51%)","deep-orange-100":"hsl(14, 100.0%, 86.86%)","deep-orange-200":"hsl(14, 100.0%, 78.43%)","deep-orange-300":"hsl(14, 100.0%, 69.8%)","deep-orange-400":"hsl(14, 100.0%, 63.14%)","deep-orange-500":"hsl(14, 100.0%, 56.67%)","deep-orange-600":"hsl(14, 90.68%, 53.73%)","deep-orange-700":"hsl(14, 80.39%, 50.0%)","deep-orange-800":"hsl(14, 82.28%, 46.47%)","deep-orange-900":"hsl(14, 88.18%, 39.8%)","deep-orange-a100":"hsl(14, 100.0%, 75.1%)","deep-orange-a200":"hsl(14, 100.0%, 62.55%)","deep-orange-a400":"hsl(14, 100.0%, 50.0%)","deep-orange-a700":"hsl(11, 100.0%, 43.33%)","brown-50":"hsl(19, 15.79%, 92.55%)","brown-100":"hsl(16, 15.79%, 81.37%)","brown-200":"hsl(14, 15.19%, 69.02%)","brown-300":"hsl(15, 15.32%, 56.47%)","brown-400":"hsl(15, 17.5%, 47.06%)","brown-500":"hsl(15, 25.39%, 37.84%)","brown-600":"hsl(15, 25.29%, 34.12%)","brown-700":"hsl(14, 25.68%, 29.02%)","brown-800":"hsl(11, 25.81%, 24.31%)","brown-900":"hsl(8, 27.84%, 19.02%)","gray-50":"hsl(0, 0.0%, 98.04%)","gray-100":"hsl(0, 0.0%, 96.08%)","gray-200":"hsl(0, 0.0%, 93.33%)","gray-300":"hsl(0, 0.0%, 87.84%)","gray-400":"hsl(0, 0.0%, 74.12%)","gray-500":"hsl(0, 0.0%, 61.96%)","gray-600":"hsl(0, 0.0%, 45.88%)","gray-700":"hsl(0, 0.0%, 38.04%)","gray-800":"hsl(0, 0.0%, 25.88%)","gray-900":"hsl(0, 0.0%, 12.94%)","blue-gray-50":"hsl(204, 15.15%, 93.53%)","blue-gray-100":"hsl(198, 15.66%, 83.73%)","blue-gray-200":"hsl(199, 15.33%, 73.14%)","blue-gray-300":"hsl(199, 15.63%, 62.35%)","blue-gray-400":"hsl(200, 15.38%, 54.12%)","blue-gray-500":"hsl(199, 18.3%, 46.08%)","blue-gray-600":"hsl(198, 18.45%, 40.39%)","blue-gray-700":"hsl(199, 18.34%, 33.14%)","blue-gray-800":"hsl(199, 17.91%, 26.27%)","blue-gray-900":"hsl(199, 19.15%, 18.43%)","blue-gray-1000":"hsl(199, 20.93%, 8.43%)"},ve={colors:Em,layout:Er,time:zm};var Ue=(e=>(e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e))(Ue||{}),jt=(e=>(e[e.First=0]="First",e[e.Second=1]="Second",e[e.Both=2]="Both",e))(jt||{}),Pn=(e=>(e[e.PairArray=0]="PairArray",e[e.PairString=1]="PairString",e))(Pn||{}),Qe=(e=>(e[e.SectorArc=0]="SectorArc",e[e.MidLine=1]="MidLine",e))(Qe||{});const qm=[[" ",19.3],["!",34.3],['"',39.7],["#",58],["$",58],["%",78.6],["&",70.3],["'",23],["(",30],[")",30],["*",40],["+",58],[",",21.2],["-",34.7],[".",21.2],["/",37.3],["0",58],["1",58],["2",58],["3",58],["4",58],["5",58],["6",58],["7",58],["8",58],["9",58],[":",25.2],[";",25.2],["<",58],["=",58],[">",58],["?",39.8],["@",82.2],["A",68],["B",64.7],["C",68.5],["D",75.3],["E",58.1],["F",56.6],["G",73.4],["H",75.6],["I",30.7],["J",44.4],["K",68.1],["L",51.4],["M",92],["N",75.6],["O",79.8],["P",61.1],["Q",79.8],["R",64.4],["S",53],["T",59],["U",73],["V",68],["W",101.9],["X",64.3],["Y",62.9],["Z",62.4],["[",30],["\\",37.5],["]",30],["^",58],["_",39.4],["`",30.7],["a",50.7],["b",55.9],["c",46.7],["d",55.9],["e",52.4],["f",33.7],["g",51.1],["h",55.6],["i",25.6],["j",25.4],["k",52.4],["l",25.6],["m",82.1],["n",55.6],["o",55.6],["p",55.2],["q",55.9],["r",40.3],["s",43.4],["t",37.3],["u",55.6],["v",51.2],["w",76.6],["x",50.4],["y",51.2],["z",46.2],["{",30],["|",30],["}",30],["~",58],["_median",55.9]],Rm=[['"&',-9.1],['",',-11.4],['"-',-8.9],['".',-11.4],['"/',-9.1],['"@',-2.3],['"A',-9.1],['"C',-2.3],['"G',-2.3],['"O',-2.3],['"Q',-2.3],['"V',2.4],['"W',2.4],['"Y',1.5],['"\\',2.4],['"a',-3.2],['"c',-4.6],['"d',-4.6],['"e',-4.6],['"o',-4.6],['"q',-4.6],["'&",-9.1],["',",-11.4],["'-",-8.9],["'.",-11.4],["'/",-9.1],["'@",-2.3],["'A",-9.1],["'C",-2.3],["'G",-2.3],["'O",-2.3],["'Q",-2.3],["'V",2.4],["'W",2.4],["'Y",1.5],["'\\",2.4],["'a",-3.2],["'c",-4.6],["'d",-4.6],["'e",-4.6],["'o",-4.6],["'q",-4.6],["(@",-2],["(C",-2],["(G",-2],["(O",-2],["(Q",-2],["(c",-1.6],["(d",-1.6],["(e",-1.6],["(o",-1.6],["(q",-1.6],["*&",-9.1],["*,",-11.4],["*-",-8.9],["*.",-11.4],["*/",-9.1],["*@",-2.3],["*A",-9.1],["*C",-2.3],["*G",-2.3],["*O",-2.3],["*Q",-2.3],["*V",2.4],["*W",2.4],["*Y",1.5],["*\\",2.4],["*a",-3.2],["*c",-4.6],["*d",-4.6],["*e",-4.6],["*o",-4.6],["*q",-4.6],[',"',-11.4],[",'",-11.4],[",*",-11.4],[",-",-6.8],[",@",-2.8],[",C",-2.8],[",G",-2.8],[",O",-2.8],[",Q",-2.8],[",T",-9],[",V",-9],[",W",-6.1],[",Y",-7.6],[",\\",-9],[",v",-6.6],[",w",-3.1],[",y",-6.6],['-"',-8.9],["-&",-2.6],["-'",-8.9],["-*",-8.9],["-,",-6.8],["-.",-6.8],["-/",-2.6],["-A",-2.6],["-T",-9],["-V",-5.6],["-W",-1.6],["-X",-3.1],["-Y",-8],["-Z",-2.3],["-\\",-5.6],['."',-11.4],[".'",-11.4],[".*",-11.4],[".-",-6.8],[".@",-2.8],[".C",-2.8],[".G",-2.8],[".O",-2.8],[".Q",-2.8],[".T",-9],[".V",-9],[".W",-6.1],[".Y",-7.6],[".\\",-9],[".v",-6.6],[".w",-3.1],[".y",-6.6],['/"',2.4],["/&",-6.8],["/'",2.4],["/*",2.4],["/,",-9.6],["/-",-5.6],["/.",-9.6],["//",-6.8],["/:",-4.4],["/;",-4.4],["/?",2.4],["/@",-2.6],["/A",-6.8],["/C",-2.6],["/G",-2.6],["/J",-7.6],["/O",-2.6],["/Q",-2.6],["/a",-5.8],["/c",-5.8],["/d",-5.8],["/e",-5.8],["/f",-1.5],["/g",-6.8],["/m",-4.4],["/n",-4.4],["/o",-5.8],["/p",-4.4],["/q",-5.8],["/r",-4.4],["/s",-5.3],["/t",-2.1],["/u",-4.4],["/v",-2.4],["/x",-2.6],["/y",-2.4],["/z",-4.1],['@"',-2.3],["@&",-2.1],["@'",-2.3],["@)",-2],["@*",-2.3],["@,",-2.8],["@.",-2.8],["@/",-2.1],["@A",-2.1],["@T",-4.9],["@V",-2.6],["@X",-1.5],["@Y",-4],["@Z",-3.5],["@\\",-2.6],["@]",-2],["@}",-2],['A"',-9.1],["A'",-9.1],["A*",-9.1],["A-",-2.6],["A?",-2.8],["A@",-2.1],["AC",-2.1],["AG",-2.1],["AJ",2.5],["AO",-2.1],["AQ",-2.1],["AT",-6.6],["AU",-2.8],["AV",-6.8],["AW",-4.2],["AY",-8.2],["A\\",-6.8],["Av",-4.1],["Ay",-4.1],["C-",-7.5],['D"',-2.3],["D&",-2.1],["D'",-2.3],["D)",-2],["D*",-2.3],["D,",-2.8],["D.",-2.8],["D/",-2.1],["DA",-2.1],["DT",-4.9],["DV",-2.6],["DX",-1.5],["DY",-4],["DZ",-3.5],["D\\",-2.6],["D]",-2],["D}",-2],["F&",-6.6],["F,",-9],["F.",-9],["F/",-6.6],["F:",-3],["F;",-3],["F?",1.5],["FA",-6.6],["FJ",-9.9],["Fc",-3.5],["Fd",-3.5],["Fe",-3.5],["Fm",-3],["Fn",-3],["Fo",-3.5],["Fp",-3],["Fq",-3.5],["Fr",-3],["Fu",-3],["J&",-2.8],["J,",-2.5],["J.",-2.5],["J/",-2.8],["JA",-2.8],["K-",-3.1],["K@",-1.5],["KC",-1.5],["KG",-1.5],["KO",-1.5],["KQ",-1.5],["Kc",-1.8],["Kd",-1.8],["Ke",-1.8],["Kf",-2.6],["Ko",-1.8],["Kq",-1.8],["Kt",-4.1],["Kv",-3.3],["Kw",-2.8],["Ky",-3.3],['L"',-14.5],["L'",-14.5],["L*",-14.5],["L,",2.7],["L-",-9.9],["L.",2.7],["L?",-2.5],["L@",-4],["LC",-4],["LG",-4],["LO",-4],["LQ",-4],["LT",-8.6],["LV",-9.1],["LW",-7.6],["LY",-10.6],["L\\",-9.1],["Lc",-1.8],["Ld",-1.8],["Le",-1.8],["Lo",-1.8],["Lq",-1.8],["Lv",-5.4],["Lw",-4],["Ly",-5.4],['O"',-2.3],["O&",-2.1],["O'",-2.3],["O)",-2],["O*",-2.3],["O,",-2.8],["O.",-2.8],["O/",-2.1],["OA",-2.1],["OT",-4.9],["OV",-2.6],["OX",-1.5],["OY",-4],["OZ",-3.5],["O\\",-2.6],["O]",-2],["O}",-2],["P&",-6.9],["P,",-12.4],["P.",-12.4],["P/",-6.9],["PA",-6.9],["PJ",-9.1],["Pa",-2.5],["Pc",-1.5],["Pd",-1.5],["Pe",-1.5],["Po",-1.5],["Pq",-1.5],['Q"',-2.3],["Q&",-2.1],["Q'",-2.3],["Q)",-2],["Q*",-2.3],["Q,",-2.8],["Q.",-2.8],["Q/",-2.1],["QA",-2.1],["QT",-4.9],["QV",-2.6],["QX",-1.5],["QY",-4],["QZ",-3.5],["Q\\",-2.6],["Q]",-2],["Q}",-2],["R@",-2.3],["RC",-2.3],["RG",-2.3],["RO",-2.3],["RQ",-2.3],["RT",-2.6],["RU",-2.1],["T&",-6.6],["T,",-9],["T-",-9],["T.",-9],["T/",-6.6],["T:",-8],["T;",-8],["T@",-4.9],["TA",-6.6],["TC",-4.9],["TG",-4.9],["TJ",-10],["TO",-4.9],["TQ",-4.9],["Ta",-12.5],["Tc",-10.5],["Td",-10.5],["Te",-10.5],["Tg",-9.4],["Tm",-8],["Tn",-8],["To",-10.5],["Tp",-8],["Tq",-10.5],["Tr",-8],["Ts",-8.1],["Tu",-8],["Tv",-9],["Tw",-7],["Tx",-7.2],["Ty",-9],["Tz",-6],["U&",-2.8],["U,",-2.5],["U.",-2.5],["U/",-2.8],["UA",-2.8],['V"',2.4],["V&",-6.8],["V'",2.4],["V*",2.4],["V,",-9.6],["V-",-5.6],["V.",-9.6],["V/",-6.8],["V:",-4.4],["V;",-4.4],["V?",2.4],["V@",-2.6],["VA",-6.8],["VC",-2.6],["VG",-2.6],["VJ",-7.6],["VO",-2.6],["VQ",-2.6],["Va",-5.8],["Vc",-5.8],["Vd",-5.8],["Ve",-5.8],["Vf",-1.5],["Vg",-6.8],["Vm",-4.4],["Vn",-4.4],["Vo",-5.8],["Vp",-4.4],["Vq",-5.8],["Vr",-4.4],["Vs",-5.3],["Vt",-2.1],["Vu",-4.4],["Vv",-2.4],["Vx",-2.6],["Vy",-2.4],["Vz",-4.1],['W"',2.4],["W&",-4.7],["W'",2.4],["W*",2.4],["W,",-6.1],["W-",-1.6],["W.",-6.1],["W/",-4.7],["W?",1.7],["WA",-4.7],["WJ",-5.1],["Wa",-4.4],["Wc",-1.6],["Wd",-1.6],["We",-1.6],["Wg",-4.9],["Wo",-1.6],["Wq",-1.6],["Ws",-2.3],["X-",-3.1],["X@",-1.5],["XC",-1.5],["XG",-1.5],["XO",-1.5],["XQ",-1.5],["Xc",-1.8],["Xd",-1.8],["Xe",-1.8],["Xf",-2.6],["Xo",-1.8],["Xq",-1.8],["Xt",-4.1],["Xv",-3.3],["Xw",-2.8],["Xy",-3.3],['Y"',1.5],["Y&",-8.2],["Y'",1.5],["Y*",1.5],["Y,",-7.6],["Y-",-8],["Y.",-7.6],["Y/",-8.2],["Y:",-6.1],["Y;",-6.1],["Y?",1.7],["Y@",-4],["YA",-8.2],["YC",-4],["YG",-4],["YJ",-10],["YO",-4],["YQ",-4],["Ya",-6.4],["Yc",-8],["Yd",-8],["Ye",-8],["Yg",-8.6],["Ym",-6.1],["Yn",-6.1],["Yo",-8],["Yp",-6.1],["Yq",-8],["Yr",-6.1],["Ys",-6.4],["Yu",-6.1],["Yv",-5],["Yw",-4.6],["Yx",-6.6],["Yy",-5],["Z-",-3.5],["Z?",1.7],["Z@",-2.9],["ZC",-2.9],["ZG",-2.9],["ZO",-2.9],["ZQ",-2.9],["Zc",-1.9],["Zd",-1.9],["Ze",-1.9],["Zo",-1.9],["Zq",-1.9],["Zs",-1.4],["Zv",-2],["Zy",-2],["[@",-2],["[C",-2],["[G",-2],["[O",-2],["[Q",-2],["[c",-1.6],["[d",-1.6],["[e",-1.6],["[o",-1.6],["[q",-1.6],['\\"',-9.1],["\\'",-9.1],["\\*",-9.1],["\\-",-2.6],["\\?",-2.8],["\\@",-2.1],["\\C",-2.1],["\\G",-2.1],["\\J",2.5],["\\O",-2.1],["\\Q",-2.1],["\\T",-6.6],["\\U",-2.8],["\\V",-6.8],["\\W",-4.2],["\\Y",-8.2],["\\\\",-6.8],["\\v",-4.1],["\\y",-4.1],['a"',-3.6],["a'",-3.6],["a*",-3.6],["av",-1.6],["aw",-.8],["ay",-1.6],['b"',-4.6],["b'",-4.6],["b)",-1.6],["b*",-4.6],["bV",-5.8],["bW",-1.6],["b\\",-5.8],["b]",-1.6],["bv",-1.3],["bx",-3],["by",-1.3],["b}",-1.6],['e"',-4.6],["e'",-4.6],["e)",-1.6],["e*",-4.6],["eV",-5.8],["eW",-1.6],["e\\",-5.8],["e]",-1.6],["ev",-1.3],["ex",-3],["ey",-1.3],["e}",-1.6],['f"',3.4],["f'",3.4],["f*",3.4],["f,",-6.5],["f.",-6.5],["fi",-2.3],['h"',-3.6],["h'",-3.6],["h*",-3.6],["hv",-1.6],["hw",-.8],["hy",-1.6],["kc",-3],["kd",-3],["ke",-3],["ko",-3],["kq",-3],['m"',-3.6],["m'",-3.6],["m*",-3.6],["mv",-1.6],["mw",-.8],["my",-1.6],['n"',-3.6],["n'",-3.6],["n*",-3.6],["nv",-1.6],["nw",-.8],["ny",-1.6],['o"',-4.6],["o'",-4.6],["o)",-1.6],["o*",-4.6],["oV",-5.8],["oW",-1.6],["o\\",-5.8],["o]",-1.6],["ov",-1.3],["ox",-3],["oy",-1.3],["o}",-1.6],['p"',-4.6],["p'",-4.6],["p)",-1.6],["p*",-4.6],["pV",-5.8],["pW",-1.6],["p\\",-5.8],["p]",-1.6],["pv",-1.3],["px",-3],["py",-1.3],["p}",-1.6],["r,",-6.6],["r.",-6.6],["ra",-1.9],["v&",-4.1],["v,",-6.6],["v.",-6.6],["v/",-4.1],["vA",-4.1],["vc",-1.3],["vd",-1.3],["ve",-1.3],["vo",-1.3],["vq",-1.3],["w,",-3.1],["w.",-3.1],["xc",-3],["xd",-3],["xe",-3],["xo",-3],["xq",-3],["y&",-4.1],["y,",-6.6],["y.",-6.6],["y/",-4.1],["yA",-4.1],["yc",-1.3],["yd",-1.3],["ye",-1.3],["yo",-1.3],["yq",-1.3],["{@",-2],["{C",-2],["{G",-2],["{O",-2],["{Q",-2],["{c",-1.6],["{d",-1.6],["{e",-1.6],["{o",-1.6],["{q",-1.6]],Wm={textWidth:qm,kerningWidth:Rm},Om=(e,t,n=16)=>{const r=new Map(e.textWidth),i=new Map(e.kerningWidth),s=[...t];let a=0;for(const[l,c]of s.entries())a+=r.get(c)||r.get("_median"),l!==s.length-1&&(a+=i.get(`${c}${s[l+1]}`)||0);return a/(100/n)},Pe=(e,t=16)=>Om(Wm,e,t),Cr=Math.PI/2,Zc=20;function Um(e,t){switch(t){case Qe.SectorArc:{const n=[this.xScale(e.x0)-Cr,this.xScale(e.x1)-Cr],r=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),i=(n[0]+n[1])/2,s=i>0&&i<Math.PI;s&&n.reverse();const a=I.path();return a.arc(0,0,r,n[0],n[1],s),a.toString()}case Qe.MidLine:{const n=[this.xScale(e.x0)-Cr,this.xScale(e.x1)-Cr],r=(n[0]+n[1])/2,i=this.yScale(e.y0),s=this.yScale(e.y1),a=i*Math.cos(r),l=i*Math.sin(r),c=s*Math.cos(r),o=s*Math.sin(r),u=I.path();return r>=Math.PI/2&&r<=Math.PI*3/2?(u.moveTo(c,o),u.lineTo(a,l)):(u.moveTo(a,l),u.lineTo(c,o)),u.toString()}}}function Ym(e,t=16,n=null,r=0){n==null&&(n=this.getFeatureInfo(e.data.f).nameValue);const i=Pe(n,t),s=this.xScale(e.x1)-this.xScale(e.x0),a=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),l=s*a;return i<=l-r}const Aa=(e,t)=>{const n=I.color(e(t.data.f));let r="currentcolor";if(n!==null){const i=[252,252,252],s=[74,74,74],a=I.color(n).rgb(),l=[a.r,a.g,a.b];bn(i,l)<bn(s,l)&&(r="hsla(0, 0%, 99%, 1)")}return r};function Gm(){const t=this.svg.select("g.mid-circle-group").selectAll("g.mid-circle");if(t.size()===0)return;const n=this.svg.select(`g.arc-${this.sunburstStoreValue.depthLow}`).datum(),i=(this.yScale(n.y1)-this.yScale(n.y0))/t.size(),s=Math.PI*1.2,a=t.append("text").attr("class","feature-name").style("fill",o=>Aa(this.getFeatureColor,o)),l=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),c=(o,u)=>{const f=this.getFeatureInfo(o.data.f);let h=f.nameValue,p=Pe(h,16*l);if(p>u)for(h=f.shortValue,p=Pe(h,16*l);p>u;)h=h.replace("...",""),h=h.slice(0,h.length-1),h=`${h}...`,p=Pe(h,16*l);return h};a.filter(o=>o.depth===1).style("font-size",`${l}rem`).text(o=>c(o,i*2-10)),a.filter(o=>o.depth!==1).style("font-size",`${l}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",o=>`#mid-circle-text-arc-${o.depth}`).text(o=>c(o,i*(o.depth-.5)*s))}function Bm(){const e=this.svg.select("g.arc-group"),t=this.svg.select("g.text-group");let n=e.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow:this.sunburstStoreValue.depthLow+1}`);n=n.sort((f,h)=>f.x0-h.x0),n=n.filter(f=>f.x0>=this.xScale.domain()[0]&&f.x1<=this.xScale.domain()[1]&&f.data.f!=="_");const r=t.selectAll("g.text-group").data(n.data()).join("g").attr("class","text-group");r.append("path").attr("class","text-arc").attr("id",(f,h)=>`text-arc-${h}`).attr("d",f=>this.textArc(f,Qe.SectorArc)),r.append("path").attr("class","text-line").attr("id",(f,h)=>`text-line-${h}`).attr("d",f=>this.textArc(f,Qe.MidLine));const i=r.append("text").attr("class","feature-name");i.style("fill",f=>Aa(this.getFeatureColor,f));const s=new Set,a=new Map;if(i.size()===0)return;const l=this.yScale(i.datum().y1)-this.yScale(i.datum().y0)-15,c=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),o=i.style("font-size",`${c}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(f,h)=>{const p=this.getFeatureInfo(f.data.f);let y=p.nameValue,d=!1;return s.has(p.name)&&(y=p.value,d=!0),s.add(p.name),Pe(y,16*c)<l?(a.set(h,Qe.MidLine),`#text-line-${h}`):!d&&this.doesTextFitArc(f,16*c,y,10)?(a.set(h,Qe.SectorArc),`#text-arc-${h}`):(a.set(h,Qe.MidLine),`#text-line-${h}`)});s.clear(),o.text((f,h)=>{const p=this.getFeatureInfo(f.data.f);let y=p.nameValue,d=!1;if(s.has(p.name)&&(y=p.value,d=!0),a.get(h)===Qe.MidLine){if(this.yScale(f.y1)*(this.xScale(f.x1)-this.xScale(f.x0))<Zc)return"";let g=Pe(y,16*c);if(g>l&&!d)for(y=p.shortValue,g=Pe(y,16*c);g>l;)y=y.replace("...",""),y=y.slice(0,y.length-1),y=`${y}...`,g=Pe(y,16*c)}return s.add(p.name),y});const u=new Set;Array.from(this.featureMap.entries()).forEach(f=>{s.has(f[1][0])||u.add(f[0])}),this.drawSecondaryText(u)}function Xm(e){const t=this.svg.select("g.arc-group"),n=this.svg.select("g.text-group");let r=t.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow+1:this.sunburstStoreValue.depthLow+2}`);if(r=r.filter(f=>f.x0>=this.xScale.domain()[0]&&f.x1<=this.xScale.domain()[1]&&e.has(+f.data.f)),r.size()===0)return;r=r.sort((f,h)=>f.x0-h.x0);const i=n.selectAll("g.s-text-group").data(r.data()).join("g").attr("class","text-group");i.append("path").attr("class","text-arc").attr("id",(f,h)=>`s-text-arc-${h}`).attr("d",f=>this.textArc(f,Qe.SectorArc)),i.append("path").attr("class","text-line").attr("id",(f,h)=>`s-text-line-${h}`).attr("d",f=>this.textArc(f,Qe.MidLine));const s=i.append("text").attr("class","feature-name"),a=this.yScale(s.datum().y1)-this.yScale(s.datum().y0)-15,l=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow);s.style("fill",f=>Aa(this.getFeatureColor,f));const c=new Set([]),o=s.style("font-size",`${l}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(f,h)=>{const y=this.getFeatureInfo(f.data.f).nameValue;return Pe(y,16*l)<a?`#s-text-line-${h}`:this.doesTextFitArc(f,16*l,y,10)?(c.add(h),`#s-text-arc-${h}`):`#s-text-line-${h}`}),u=new Set;o.text((f,h)=>{if(u.has(f.data.f))return"";const p=this.getFeatureInfo(f.data.f);let y=p.nameValue;if(this.yScale(f.y1)*(this.xScale(f.x1)-this.xScale(f.x0))<Zc)return"";if(!c.has(h)){let m=Pe(y,16*l);if(m>a)for(y=p.shortValue,m=Pe(y,16*l);m>a;)y=y.replace("...",""),y=y.slice(0,y.length-1),y=`${y}...`,m=Pe(y,16*l)}return u.add(f.data.f),y})}function Zm(){this.svg.select(".text-group").selectAll("*").remove(),this.svg.selectAll("text.feature-name").remove()}let En=null,qr=null,jc=new Date().getTime();function jm(e,t){if(e.stopPropagation(),e.preventDefault(),t!==null&&t.data.f==="_")return;let n={x0:0,x1:1,y0:0,y1:1},r=t;const i=this.xScale.domain(),s=this.yScale.domain(),a=this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow;if(t===null||t.x0==i[0]&&t.x1==i[1]){const o=this.arcDomainStack.pop();o!==void 0?(r=o.node,n=o,this.sunburstStoreValue.depthLow=r.depth===0?1:r.depth,this.sunburstStoreValue.depthHigh=Math.min(this.sunburstStoreValue.depthLow+o.depthGap,this.sunburstStoreValue.depthMax)):console.error("No more arc domain from the stack to pop!")}else{const o=1/(this.sunburstStoreValue.depthMax+1);this.sunburstStoreValue.depthLow=t.depth,this.sunburstStoreValue.depthHigh=Math.min(t.depth+a,this.sunburstStoreValue.depthMax),n={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y0+o*(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow+1)};const u={x0:i[0],x1:i[1],y0:s[0],y1:s[1],node:this.curHeadNode,depthGap:a};this.arcDomainStack.push(u)}const l=new Array(this.sunburstStoreValue.depthMax).fill("");r.ancestors().forEach(o=>{if(o.depth>0){const u=this.getFeatureColor(o.data.f);l[o.depth-1]=u}}),this.sunburstStoreValue.depthColors=l,this.sunburstStore.set(this.sunburstStoreValue),this.curHeadNode=r,this.sunburstUpdated(),this.arcZoom(n)}function Qm(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{const i=this.svg.select(`path#arc-${r.data.nid}`);I.select(i.node().parentElement).raise(),i.classed("highlighted",!0)})}function Km(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{this.svg.select(`path#arc-${r.data.nid}`).classed("highlighted",!1)})}function Jm(e,t){e.preventDefault(),e.stopPropagation(),this.arcMouseenterHandler(e,t),qr!==null&&(window.clearTimeout(qr),qr=null);const n=()=>{if(t.data.t===void 0)return;const r=t.data.t;this.treeWindowStoreValue.treeID=+r;const i=t.ancestors().filter(a=>a.depth!==0).map(a=>a.data.f).reverse();this.treeWindowStoreValue.ancestorFs=i;const s=this.getTreeWindowPos(t);this.treeWindowStoreValue.x=s.x,this.treeWindowStoreValue.y=s.y,this.treeWindowStoreValue.show=!0,this.treeWindowStore.set(this.treeWindowStoreValue),this.curHeadNode.value&&this.curHeadNode.value<300&&this.svg.select(".arc-group").selectAll(`path.arc.leaf-${r}`).filter(l=>l.data.nid!==t.data.nid).classed("same-leaf-highlight",!0),En=null};this.treeWindowStoreValue.show||new Date().getTime()-jc<500?n():En=window.setTimeout(n,ve.time.mouseenterDelay)}function e6(e,t){t.data.t!==void 0&&(e.preventDefault(),e.stopPropagation(),this.arcMouseleaveHandler(e,t),this.curHeadNode.value&&this.curHeadNode.value<300&&this.svg.select(".arc-group").selectAll(`path.arc.leaf-${t.data.t}`).classed("same-leaf-highlight",!1),En!==null&&(window.clearTimeout(En),En=null),qr=window.setTimeout(()=>{this.treeWindowStoreValue.show=!1,this.treeWindowStore.set(this.treeWindowStoreValue),jc=new Date().getTime()},100))}function t6(e){let t=(this.xScale(e.x0)+this.xScale(e.x1))/2-Math.PI/2;const n=this.yScale(e.y1)+8,r={x:Math.cos(t)*n,y:Math.sin(t)*n,quad:Math.floor(t/(Math.PI/2))+2};e.x0===this.xScale.domain()[0]&&e.x1===this.xScale.domain()[1]&&(r.x=Math.cos(-Math.PI/4)*n,r.y=Math.sin(-Math.PI/4)*n,r.quad=1);const i=u=>{const f={x:0,y:0};switch(u.quad){case 1:{f.x=u.x,f.y=u.y-ve.layout.treeWindowHeight;break}case 2:{f.x=u.x,f.y=u.y;break}case 3:{f.x=u.x-ve.layout.treeWindowWidth,f.y=u.y;break}case 4:{f.x=u.x-ve.layout.treeWindowWidth,f.y=u.y-ve.layout.treeWindowHeight;break}default:console.warn("Unknown quad!")}return f};let s=window.innerHeight;I.select(".timbertrek-page").size()>0&&(s=I.select(".timbertrek-page").node().getBoundingClientRect().height);const a=5,l=this.svg.node().getBoundingClientRect(),c={x:l.x+l.width/2,y:l.y+l.height/2};let o=i(r);if(o.y+c.y<a){const f=-(c.y-ve.layout.treeWindowHeight-a);t=Math.asin(f/n),r.quad===4&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,o=i(r)}if(o.y+c.y+ve.layout.treeWindowHeight>s-a){const u=s-a-c.y-ve.layout.treeWindowHeight;t=Math.asin(u/n),r.quad===3&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,o=i(r)}return o.x=c.x+o.x,o.y=c.y+o.y,o}function n6(e,t){if(e.preventDefault(),e.stopPropagation(),localStorage.getItem("treeWindowPinnedOnce")!=="true"&&localStorage.setItem("treeWindowPinnedOnce","true"),t.data.t===void 0)return;const n=t.data.t,r=this.treeWindowStoreValue.treeMap.get(n);if(r===void 0)return;const i=this.getTreeWindowPos(t),s={x:i.x,y:i.y,width:ve.layout.treeWindowWidth,height:ve.layout.treeWindowHeight},a={x:20,y:20};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const l=this.pinnedTreeStoreValue.pinnedTrees.filter(c=>c.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];a.x=l.x+20,a.y=l.y+30}if(this.pinnedTreeStoreValue.pinnedTrees.map(l=>l.treeID).includes(n)){let l=-1;for(let o=0;o<this.pinnedTreeStoreValue.pinnedTrees.length;o++)if(this.pinnedTreeStoreValue.pinnedTrees[o].treeID===n){l=o;break}if(l===-1){console.warn("Could not find the clicked tree in the pinnedTrees array!");return}const c=this.pinnedTreeStoreValue.pinnedTrees[l];c.isPinned?c.jiggle():(c.isPinned=!0,c.startPos=s,c.x=a.x,c.y=a.y),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}else{const l={tree:r[0],treeMetric:wn(r[2],4),treeID:n,x:a.x,y:a.y,startPos:s,isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(l),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}function r6(){const t=this.treeWindowStoreValue.treeMap.get(412);if(t!==void 0){const n={x:70,y:150};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const i=this.pinnedTreeStoreValue.pinnedTrees.filter(s=>s.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];n.x=i.x+20,n.y=i.y+30}const r={tree:t[0],treeMetric:wn(t[2],4),treeID:412,x:n.x,y:n.y,startPos:{x:0,y:0,width:0,height:0},isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(r),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}let yt=null;function i6(){this.treeMapMap.forEach((n,r)=>{n[2]>=this.localAccuracyLow&&n[2]<=this.localAccuracyHigh?this.selectedTrees.accuracy.add(r):this.selectedTrees.accuracy.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=I.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(l=>{i.add(l)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburst(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!1)}function s6(){if(this.searchStoreValue.treeMinSampleMap===null)return;for(const[n,r]of this.searchStoreValue.treeMinSampleMap)r>=this.localMinSampleLow&&r<=this.localMinSampleHigh?this.selectedTrees.minSample.add(n):this.selectedTrees.minSample.delete(n);const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=I.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(l=>{i.add(l)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburst(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!1)}function a6(){if(this.searchStoreValue.treeHeightMap===null)return;this.searchStoreValue.treeHeightMap.forEach((n,r)=>{this.localHeightRange.has(n)?this.selectedTrees.height.add(r):this.selectedTrees.height.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=I.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(l=>{i.add(l)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function o6(){if(this.searchStoreValue.treeDepthFeaturesMap===null)return;for(const[n,r]of this.searchStoreValue.treeDepthFeaturesMap){let i=!0;e:for(const[s,a]of r)for(const l of a)if(!this.localDepthFeatures.get(s).has(l)){i=!1;break e}i?this.selectedTrees.depth.add(n):this.selectedTrees.depth.delete(n)}const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=I.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(l=>{i.add(l)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function l6(){if(this.searchStoreValue.treeDepthFeaturesMap===null)return;for(const[n,r]of this.searchStoreValue.treeDepthFeaturesMap){let i=!0;e:for(const[s,a]of r)for(const l of a)if(!this.localAllFeatures.has(l)){i=!1;break e}i?this.selectedTrees.allFeature.add(n):this.selectedTrees.allFeature.delete(n)}const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=I.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(l=>{i.add(l)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function c6(e=500){const t=this.svg.select(".content-group"),n=I.transition().duration(e).ease(I.easeLinear);this.removeText(),this.arcDomainStack.forEach(i=>{i.x0=i.node.x0,i.x1=i.node.x1}),t.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),i=>i.data.nid).select("path").transition(n).tween("data",i=>{const s={x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1,data:i.data},a=I.interpolate(i.previous,s),l=I.interpolate(this.xScale.domain(),[this.curHeadNode.x0,this.curHeadNode.x1]);return c=>{this.xScale.domain(l(c)),i.previous=a(c)}}).style("display",i=>i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1?"none":(i.value!==void 0&&i.value===0,"initial")).attrTween("d",i=>()=>this.arc(i.previous)).on("end",(i,s,a)=>{const l=I.select(a[s]);let c="initial";i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1||i.value!==void 0&&i.value===0?c="none":c="initial",l.style("display",c)}),yt!==null&&(window.clearTimeout(yt),yt=null),yt=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},700),this.sunburstUpdated()}function u6(){const e=this.svg.select(".content-group");this.removeText(),this.arcDomainStack.forEach(t=>{t.x0=t.node.x0,t.x1=t.node.x1}),this.xScale.domain([this.curHeadNode.x0,this.curHeadNode.x1]),e.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),t=>t.data.nid).select("path").attr("d",t=>this.arc(t)).style("display",t=>t.data.f===";"||t.depth>this.sunburstStoreValue.depthHigh+1||t.value!==void 0&&t.value===0?"none":"initial"),yt!==null&&(window.clearTimeout(yt),yt=null),yt=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},500),this.sunburstUpdated()}const Vr=800;var ui,Qc,hi,Kc,fi,Jc,di,eu,pi,tu,gi,nu,mi,ru;class h6{constructor({component:t,data:n,initDepthGap:r=2,sunburstStore:i,treeWindowStore:s,pinnedTreeStore:a,searchStore:l,sunburstUpdated:c}){ie(this,ui);ie(this,hi);ie(this,fi);ie(this,di);ie(this,pi);ie(this,gi);ie(this,mi);k(this,"svg");k(this,"sunburstStore");k(this,"sunburstStoreValue");k(this,"treeWindowStore");k(this,"treeWindowStoreValue");k(this,"pinnedTreeStore");k(this,"pinnedTreeStoreValue");k(this,"searchStore");k(this,"searchStoreValue");k(this,"sunburstUpdated");k(this,"padding");k(this,"width");k(this,"height");k(this,"maxRadius");k(this,"xScale");k(this,"yScale");k(this,"textFontScale");k(this,"data");k(this,"dataRoot");k(this,"treeMapMap");k(this,"partition");k(this,"totalPathNum");k(this,"totalTreeNum");k(this,"featureCount");k(this,"featureValueCount");k(this,"featureOrder");k(this,"arc");k(this,"featureMap");k(this,"colorScale");k(this,"arcDomainStack");k(this,"curHeadNode");k(this,"localAccuracyLow");k(this,"localAccuracyHigh");k(this,"localMinSampleLow");k(this,"localMinSampleHigh");k(this,"localHeightRange");k(this,"localDepthFeatures");k(this,"localAllFeatures");k(this,"viewInitialized",!1);k(this,"selectedTrees");k(this,"textArc",Um);k(this,"doesTextFitArc",Ym);k(this,"removeText",Zm);k(this,"drawText",Bm);k(this,"drawSecondaryText",Xm);k(this,"drawCenterText",Gm);k(this,"arcClicked",jm);k(this,"arcMouseenterHandler",Qm);k(this,"arcMouseleaveHandler",Km);k(this,"leafArcClickHandler",n6);k(this,"leafArcMouseenterHandler",Jm);k(this,"leafArcMouseleaveHandler",e6);k(this,"getTreeWindowPos",t6);k(this,"tempShowPinnedTree",r6);k(this,"syncAccuracyRange",i6);k(this,"syncMinSampleRange",s6);k(this,"updateSunburst",u6);k(this,"updateSunburstWithAnimation",c6);k(this,"syncHeightRange",a6);k(this,"syncDepthFeatures",o6);k(this,"syncAllFeatures",l6);k(this,"getFeatureColor",t=>this.colorScale(this.getFeatureNameValue(t,jt.First,Pn.PairString)));this.svg=I.select(t).select("svg").attr("width","100%").attr("height","100%").attr("viewbox","0 0 650 650").attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:10,right:10};const o=this.svg.node().getBoundingClientRect();this.width=o.width-this.padding.left-this.padding.right,this.height=o.height-this.padding.top-this.padding.bottom,this.data=n.trie,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(u=>{this.treeMapMap.set(+u,n.treeMap[+u])}),this.featureMap=new Map;for(const[u,f]of Object.entries(n.featureMap))this.featureMap.set(parseInt(u),f);this.featureCount=new Map,this.featureValueCount=new Map,this.colorScale=I.scaleOrdinal(),this.featureOrder=[],this.dataRoot=I.hierarchy(this.data,u=>u.c).sum(u=>u.f==="_"?1:0),this.partition=j(this,ui,Qc).call(this),this.curHeadNode=this.partition,this.totalTreeNum=this.partition.treeNum,this.totalPathNum=this.partition.value,this.sunburstStore=i,this.sunburstStoreValue=ta(),j(this,fi,Jc).call(this,r),this.treeWindowStore=s,this.treeWindowStoreValue=na(),j(this,di,eu).call(this),this.pinnedTreeStore=a,this.pinnedTreeStoreValue=or(),j(this,pi,tu).call(this),this.searchStore=l,this.searchStoreValue=ar(),this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow,this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.localDepthFeatures=Cs(this.searchStoreValue.curDepthFeatures),this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures]),this.selectedTrees={accuracy:new Set(this.treeMapMap.keys()),minSample:new Set(this.treeMapMap.keys()),height:new Set(this.treeMapMap.keys()),depth:new Set(this.treeMapMap.keys()),allFeature:new Set(this.treeMapMap.keys())},j(this,gi,nu).call(this),this.sunburstUpdated=c,this.maxRadius=this.width/2,this.xScale=I.scaleLinear().domain([0,1]).range([0,2*Math.PI]).clamp(!0),this.yScale=I.scaleLinear().domain([0,1]).range([0,this.maxRadius]),this.textFontScale=I.scaleLinear().domain([1,this.sunburstStoreValue.depthMax-1]).range([.93,.7]),this.arcDomainStack=[],this.arc=I.arc().startAngle(u=>this.xScale(u.x0)).endAngle(u=>{const f=u;let h=f.x1;return f.x0===f.x1&&(h=f.x0+1e-6),this.xScale(h)}).padAngle(u=>{const f=u,h=this.xScale(u.x1)-this.xScale(u.x0);return f.data.f==="_"?h<.001?0:Math.min(h/2,.015):0}).padRadius(this.radius*1.5).innerRadius(u=>Math.max(0,this.yScale(u.y0))).outerRadius(u=>Math.max(this.yScale(u.y0),this.yScale(u.y1)-1)),console.time("Draw sunburst"),this.initView(),this.viewInitialized=!0,console.timeEnd("Draw sunburst")}get radius(){return this.width/(2*(this.sunburstStoreValue.depthMax-this.sunburstStoreValue.depthLow+1))}getFeatureInfo(t){const n={name:"",value:"",nameValue:"",short:"",shortValue:""},r=parseInt(t);if(!isNaN(r)){const i=this.featureMap.get(r);i!==void 0&&(n.name=i[0],n.value=i[1],n.short=i[2],n.nameValue=`${n.name} ${n.value}`,n.shortValue=`${n.short} ${n.value}`)}return n}getFeatureNameValue(t,n=jt.First,r=Pn.PairArray){let i=-1;if(t.includes(" "))switch(n){case jt.First:i=+t.replace(/(.*)\s.*/,"$1");break;case jt.Second:i=+t.replace(/.*\s(.*)/,"$1");break;case jt.Both:i=+t.replace(/(.*)\s.*/,"$1");break;default:console.error("Unknown cases")}else i=+t;switch(r){case Pn.PairArray:return isNaN(i)?["",""]:this.featureMap.get(i);case Pn.PairString:{if(isNaN(i))return"";const s=this.featureMap.get(i);return s!==void 0?`${s[0]}:${s[1]}`:(console.error(`Encounter unrecorded key ${i}`),"")}}}initView(){const t=this.svg.append("g").attr("class","content-group").attr("transform",`translate(${this.padding.left+this.width/2}, ${this.padding.top+this.height/2})`);t.append("g").attr("class","mid-circle-group");const n=t.append("g").attr("class","arc-group");t.append("g").attr("class","text-group");const r=n.selectAll("g.arc").data(this.partition.descendants().slice(1),a=>a.data.nid).join("g").attr("class",a=>`arc arc-${a.depth} ${a.data.f==="_"?"leaf leaf-".concat(String(a.data.t)):""}`).classed("leaf",a=>a.data.f==="_");r.append("path").attr("class","arc").attr("class",a=>`arc arc-${a.depth} ${a.data.f==="_"?"leaf leaf-".concat(String(a.data.t)):""}`).attr("id",a=>`arc-${a.data.nid}`).attr("d",a=>this.arc(a)).on("click",(a,l)=>this.arcClicked(a,l)).on("mouseenter",(a,l)=>this.arcMouseenterHandler(a,l)).on("mouseleave",(a,l)=>this.arcMouseleaveHandler(a,l)).style("fill",a=>a.data.f==="_"?"null":this.getFeatureColor(a.data.f)).style("display",a=>a.data.f===";"||a.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial").filter(a=>a.data.f==="_").on("click",(a,l)=>this.leafArcClickHandler(a,l)).on("mouseenter",(a,l)=>this.leafArcMouseenterHandler(a,l)).on("mouseleave",(a,l)=>this.leafArcMouseleaveHandler(a,l)),r.append("title").text(a=>this.getFeatureInfo(a.data.f).nameValue);const s=1/(this.sunburstStoreValue.depthMax+1);this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:0,y1:(this.sunburstStoreValue.depthHigh+1)*s},500)}arcZoom(t,n=Vr){this.removeText(),j(this,mi,ru).call(this,t),this.svg.select(".arc-group").transition().duration(n).ease(I.easeCubicInOut).tween("zoom",()=>{const i=I.interpolate(this.xScale.domain(),[t.x0,t.x1]),s=I.interpolate(this.yScale.domain(),[t.y0,t.y1]);return a=>{this.xScale.domain(i(a)),this.yScale.domain(s(a))}}).on("end",()=>{this.drawText(),this.drawCenterText()}).selectAll(".arc").attrTween("d",i=>()=>this.arc(i)).style("fill-opacity",i=>i.depth>this.sunburstStoreValue.depthHigh?.2:1).style("pointer-events",i=>i.depth>this.sunburstStoreValue.depthHigh?"none":"initial").style("display",i=>{const s=i;return s.data.f===";"||s.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial"})}}ui=new WeakSet,Qc=function(){let t=0;this.dataRoot.eachBefore(r=>{r.data.f==="_"&&(r.data.u=!0),r.data.nid=t++});for(const[r,i]of this.featureMap){if(this.featureValueCount.has(i[0]))this.featureValueCount.get(i[0]).set(i[1],0);else{const s=new Map;s.set(i[1],0),this.featureValueCount.set(i[0],s)}this.featureCount.has(i[0])||this.featureCount.set(i[0],0)}this.dataRoot.children.forEach(r=>{const[i,s]=this.getFeatureNameValue(r.data.f);this.featureCount.set(i,this.featureCount.get(i)+r.value),this.featureValueCount.get(i).set(s,this.featureValueCount.get(i).get(s)+r.value)}),this.featureCount.set("",0),this.colorScale=j(this,hi,Kc).call(this),this.dataRoot=this.dataRoot.sort((r,i)=>{const s=this.getFeatureInfo(r.data.f).name,a=this.getFeatureInfo(i.data.f).name,l=this.featureCount.get(s),c=this.featureCount.get(a),o=I.lch(this.getFeatureColor(r.data.f)).l,u=I.lch(this.getFeatureColor(i.data.f)).l;return l!==void 0&&c!==void 0?c-l||s.localeCompare(a)||o-u:(console.warn(`Encountered unrecorded keys '${s}', '${a}'`),0)}),this.featureOrder=this.dataRoot.children.map(r=>parseInt(r.data.f)),this.featureMap.forEach((r,i)=>{if(!this.featureOrder.includes(i)){const s=[];this.featureMap.forEach((a,l)=>{a[0]===r[0]&&this.featureOrder.indexOf(l)!==-1&&s.push(this.featureOrder.indexOf(l))}),this.featureOrder.splice(Math.max(...s)+1,0,i)}});const n=I.partition()(this.dataRoot);return n.eachAfter(r=>{var i;if(r.data.f==="_")r.uniqueTreeIDs=new Set([r.data.t]);else{const s=new Set;(i=r.children)==null||i.forEach(a=>{var l;(l=a.uniqueTreeIDs)==null||l.forEach(c=>{s.add(c)})}),r.uniqueTreeIDs=s}}),n.each(r=>{var i;r.treeNum=((i=r.uniqueTreeIDs)==null?void 0:i.size)||0,r.uniqueTreeIDs=null}),n},hi=new WeakSet,Kc=function(){const t=[],n=[],s=[I.lch(49.184,30.07,260.445),I.lch(68.968,73.064,62.176),I.lch(56.278,61.87,27.615),I.lch(60.11,50.293,135.863),I.lch(82.442,65.798,87.008),I.lch(69.948,22.911,191.071),I.lch(57.703,28.677,334.556),I.lch(52.777,22.881,53.64)],a=new Map;for(const[o,u]of s.entries())a.set(o,[0,u]);return Array.from(this.featureCount.keys()).filter(o=>o!=="").sort((o,u)=>this.featureCount.get(u)-this.featureCount.get(o)).forEach((o,u)=>{let f,h;if(u>7){console.warn("Number of feature is greater than 8:",o);let g=-1,b=1/0;for(let v=0;v<s.length;v++)a.get(v)[0]<b&&(g=v,b=a.get(v)[0]);f=a.get(g)[1],h=g}else f=s[u],h=u;const p=Array.from(this.featureValueCount.get(o).keys()).sort((g,b)=>this.featureValueCount.get(o).get(b)-this.featureValueCount.get(o).get(g)),y=p.length;let d=f;if(f.l+y*20<=92)p.forEach((g,b)=>{const v=`${o}:${g}`;d=I.lch(f.l+b*20,f.c,f.h),t.push(v),n.push(d.formatHsl())});else{const g=(92-f.l)/y;p.forEach((b,v)=>{const w=`${o}:${b}`;d=I.lch(f.l+v*g,f.c,f.h),t.push(w),n.push(d.formatHsl())})}const m=I.lch(d.l+10,d.c,d.h);a.set(h,[a.get(h)[0]+y,m])}),I.scaleOrdinal(n).domain(t)},fi=new WeakSet,Jc=function(t){this.sunburstStore.subscribe(n=>{switch(this.sunburstStoreValue=n,this.sunburstStoreValue.action){case Vt.DepthChanged:{this.sunburstStoreValue.action=Vt.None;const r=1/(this.sunburstStoreValue.depthMax+1),i=this.arcDomainStack.length>0?this.yScale.domain()[0]:0;this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:i,y1:(this.sunburstStoreValue.depthHigh+1)*r},500),this.sunburstStore.set(this.sunburstStoreValue);break}case Vt.None:break;default:console.error("Unknown case in sunburstStore action")}}),this.sunburstStoreValue.depthMax=this.partition.height,this.sunburstStoreValue.depthLow=1,this.sunburstStoreValue.depthHigh=this.sunburstStoreValue.depthLow+t,this.sunburstStoreValue.action=Vt.None,this.sunburstStoreValue.depthColors=new Array(this.sunburstStoreValue.depthMax).fill(""),this.sunburstStore.set(this.sunburstStoreValue)},di=new WeakSet,eu=function(){this.treeWindowStore.subscribe(t=>{this.treeWindowStoreValue=t}),this.treeWindowStoreValue.getFeatureColor=this.getFeatureColor,this.treeWindowStore.set(this.treeWindowStoreValue)},pi=new WeakSet,tu=function(){this.pinnedTreeStore.subscribe(t=>{this.pinnedTreeStoreValue=t}),this.pinnedTreeStoreValue.getFeatureColor=this.getFeatureColor,this.pinnedTreeStoreValue.getFeatureInfo=t=>this.getFeatureInfo(t),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)},gi=new WeakSet,nu=function(){this.searchStore.subscribe(n=>{this.searchStoreValue=n,this.viewInitialized&&this.searchStoreValue.shown&&(this.searchStoreValue.curAccuracyHigh!==this.localAccuracyHigh||this.searchStoreValue.curAccuracyLow!==this.localAccuracyLow)?(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.syncAccuracyRange()):(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow),this.viewInitialized&&this.searchStoreValue.shown&&(this.searchStoreValue.curMinSampleHigh!==this.localMinSampleHigh||this.searchStoreValue.curMinSampleLow!==this.localMinSampleLow)?(this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow,this.syncMinSampleRange()):(this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow);const r=[...this.localHeightRange].every(a=>this.searchStoreValue.curHeightRange.has(a))&&this.localHeightRange.size===this.searchStoreValue.curHeightRange.size;this.viewInitialized&&this.searchStoreValue.shown&&!r?(this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.syncHeightRange()):this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]);const i=[...this.searchStoreValue.curDepthFeatures.entries()].every(a=>this.localDepthFeatures.has(a[0])?Ko(this.localDepthFeatures.get(a[0]),a[1]):!1);this.viewInitialized&&this.searchStoreValue.shown&&!i?(this.localDepthFeatures=Cs(this.searchStoreValue.curDepthFeatures),this.syncDepthFeatures()):this.localDepthFeatures=Cs(this.searchStoreValue.curDepthFeatures);const s=Ko(this.localAllFeatures,this.searchStoreValue.curAllFeatures);this.viewInitialized&&this.searchStoreValue.shown&&!s?(this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures]),this.syncAllFeatures()):this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures])}),this.searchStoreValue.getFeatureColor=this.getFeatureColor,this.searchStoreValue.featureMap=this.featureMap,this.searchStoreValue.featureOrder=this.featureOrder;for(let n=1;n<this.partition.height;n++){const r=new Set([...this.featureMap.keys()].map(i=>i));this.searchStoreValue.curDepthFeatures.set(n,r)}const t=new Set([...this.featureMap.keys()].map(n=>n));this.searchStoreValue.curAllFeatures=t,this.searchStore.set(this.searchStoreValue)},mi=new WeakSet,ru=function(t){let n=!1;this.arcDomainStack.length>0&&(n=this.curHeadNode.depth-this.arcDomainStack[this.arcDomainStack.length-1].node.depth!==1);const r=this.svg.select("g.content-group").selectAll("g.mid-circle-group").data([0]).join("g").attr("class","mid-circle-group").raise(),i=this.curHeadNode.ancestors().filter(u=>u.depth!==0),s=I.scaleLinear().domain([t.y0,t.y1]).range([0,this.maxRadius]),a=s(this.curHeadNode.y1)-s(this.curHeadNode.y0),l=i.map(u=>u.depth),c=I.scaleLinear().domain([I.min(l)-1,I.max(l)]).range([0,a]),o=c(1);r.selectAll("g.mid-circle").data(i,u=>u.value).join(u=>{const f=u.append("g").attr("class","mid-circle").on("click",h=>this.arcClicked(h,null));return f.append("circle").attr("r",0).style("fill",h=>this.getFeatureColor(h.data.f)).call(h=>h.transition().duration(0).delay(n?Vr-100:Vr+100).attr("r",p=>c(p.depth))),f.append("path").attr("class","mid-circle-text-arc").attr("id",h=>`mid-circle-text-arc-${h.depth}`).attr("d",h=>{const p=[Math.PI*.5,Math.PI*2.5],y=o*(h.depth-.5),d=I.path();return d.arc(0,0,y,p[0],p[1],!1),d.toString()}),f.append("title").text(h=>this.getFeatureInfo(h.data.f).nameValue),f},u=>{const f=u;return f.select("circle").transition("zoom").duration(Vr).ease(I.easeCubicInOut).attr("r",h=>c(h.depth)),f.select("path").attr("d",h=>{const p=[Math.PI*.5,Math.PI*2.5],y=o*(h.depth-.5),d=I.path();return d.arc(0,0,y,p[0],p[1],!1),d.toString()}),f})};const Cs=e=>{const t=new Map;return e.forEach((n,r)=>{t.set(r,new Set([...n]))}),t};function f6(e){var w,T,A,$,D,F,N,M,L,H;let t,n,r,i,s,a,l,c,o,u,f=((w=e[1])==null?void 0:w.curHeadNode.value)===((T=e[1])==null?void 0:T.totalPathNum)?`${((A=e[1])==null?void 0:A.curHeadNode.value)|0}`:`${(($=e[1])==null?void 0:$.curHeadNode.value)|0}/${(D=e[1])==null?void 0:D.totalPathNum}`,h,p,y,d,m=((F=e[1])==null?void 0:F.curHeadNode.treeNum)===((N=e[1])==null?void 0:N.totalTreeNum)?`${((M=e[1])==null?void 0:M.curHeadNode.treeNum)|0}`:`${((L=e[1])==null?void 0:L.curHeadNode.treeNum)|0}/${(H=e[1])==null?void 0:H.totalTreeNum}`,g,b,v;return{c(){var x,z,V;t=C("div"),n=C("div"),r=C("span"),r.textContent="No tree meets the current constraints :(",i=Y(),s=C("span"),s.textContent="Try to relax the filtering in the Search Panel",a=Y(),l=Ri("svg"),c=Y(),o=C("div"),u=C("span"),h=fe(f),p=fe(" paths"),y=Y(),d=C("span"),g=fe(m),b=fe(" trees"),_(n,"class","no-tree-message svelte-4kjqob"),ae(n,"show",((x=e[1])==null?void 0:x.curHeadNode.treeNum)===0),_(l,"class","sunburst-svg"),_(u,"class","tree-stat"),_(d,"class","tree-stat"),_(o,"class","stat-overlay svelte-4kjqob"),_(o,"title",v=`There are ${(z=e[1])==null?void 0:z.curHeadNode.value} decision paths `.concat(`and ${(V=e[1])==null?void 0:V.curHeadNode.treeNum} decisions trees in the current selection.`)),_(t,"class","sunburst svelte-4kjqob")},m(x,z){se(x,t,z),S(t,n),S(n,r),S(n,i),S(n,s),S(t,a),S(t,l),S(t,c),S(t,o),S(o,u),S(u,h),S(u,p),S(o,y),S(o,d),S(d,g),S(d,b),e[9](t)},p(x,[z]){var V,P,W,E,O,B,X,G,R,K,he,te,ce;z&2&&ae(n,"show",((V=x[1])==null?void 0:V.curHeadNode.treeNum)===0),z&2&&f!==(f=((P=x[1])==null?void 0:P.curHeadNode.value)===((W=x[1])==null?void 0:W.totalPathNum)?`${((E=x[1])==null?void 0:E.curHeadNode.value)|0}`:`${((O=x[1])==null?void 0:O.curHeadNode.value)|0}/${(B=x[1])==null?void 0:B.totalPathNum}`)&&be(h,f),z&2&&m!==(m=((X=x[1])==null?void 0:X.curHeadNode.treeNum)===((G=x[1])==null?void 0:G.totalTreeNum)?`${((R=x[1])==null?void 0:R.curHeadNode.treeNum)|0}`:`${((K=x[1])==null?void 0:K.curHeadNode.treeNum)|0}/${(he=x[1])==null?void 0:he.totalTreeNum}`)&&be(g,m),z&2&&v!==(v=`There are ${(te=x[1])==null?void 0:te.curHeadNode.value} decision paths `.concat(`and ${(ce=x[1])==null?void 0:ce.curHeadNode.treeNum} decisions trees in the current selection.`))&&_(o,"title",v)},i:ue,o:ue,d(x){x&&ne(t),e[9](null)}}}function d6(e,t,n){let{data:r=null}=t,{sunburstStore:i=null}=t,{treeWindowStore:s=null}=t,{pinnedTreeStore:a=null}=t,{searchStore:l=null}=t,{initDepthGap:c=2}=t,o=null,u=!1,f=null;const h=()=>{n(1,f)};st(()=>{n(8,u=!0)});const p=()=>{o&&r&&i&&s&&l&&a&&n(1,f=new h6({component:o,data:r,initDepthGap:c,sunburstStore:i,treeWindowStore:s,pinnedTreeStore:a,searchStore:l,sunburstUpdated:h}))};function y(d){Fe[d?"unshift":"push"](()=>{o=d,n(0,o)})}return e.$$set=d=>{"data"in d&&n(2,r=d.data),"sunburstStore"in d&&n(3,i=d.sunburstStore),"treeWindowStore"in d&&n(4,s=d.treeWindowStore),"pinnedTreeStore"in d&&n(5,a=d.pinnedTreeStore),"searchStore"in d&&n(6,l=d.searchStore),"initDepthGap"in d&&n(7,c=d.initDepthGap)},e.$$.update=()=>{e.$$.dirty&381&&r&&i&&s&&a&&l&&u&&o&&p()},[o,f,r,i,s,a,l,c,u,y]}class p6 extends Be{constructor(t){super(),Ge(this,t,d6,f6,ze,{data:2,sunburstStore:3,treeWindowStore:4,pinnedTreeStore:5,searchStore:6,initDepthGap:7})}}var yi,iu,vi,su,wi,au;class g6{constructor({component:t,treeMapMap:n,featureMap:r,treeWindowStore:i,treeWindowUpdated:s,width:a=150,height:l=150}){ie(this,yi);ie(this,vi);ie(this,wi);k(this,"treeMap");k(this,"curTreeID");k(this,"curAncestorFs");k(this,"treeWindowStore");k(this,"treeWindowStoreValue");k(this,"treeWindowUpdated");k(this,"svg");k(this,"padding");k(this,"width");k(this,"height");k(this,"getStyle",()=>`left: ${this.treeWindowStoreValue.x}px;
      top: ${this.treeWindowStoreValue.y}px;`);k(this,"shouldHidePinLabel",()=>localStorage.getItem("treeWindowPinnedOnce")===null?(localStorage.setItem("treeWindowPinnedOnce","false"),!1):localStorage.getItem("treeWindowPinnedOnce")==="true");this.treeMap=n,this.curTreeID=0,this.curAncestorFs=[],this.treeWindowUpdated=s,this.treeWindowStore=i,this.treeWindowStoreValue=na(),j(this,yi,iu).call(this,r),this.svg=I.select(t).select("svg.tree-svg").attr("width",a).attr("height",l).attr("viewbox",`0 0 ${a} ${l}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=a-this.padding.left-this.padding.right,this.height=l-this.padding.top-this.padding.bottom}get tree(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?t[0]:(console.warn(`No such tree on the record ${this.curTreeID}`),null)}get treeMetric(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?wn(t[2],4):null}}yi=new WeakSet,iu=function(t){this.treeWindowStore.subscribe(n=>{this.treeWindowStoreValue=n,this.svg!==void 0&&(this.treeWindowStoreValue.treeID!==this.curTreeID||this.treeWindowStoreValue.ancestorFs.length!==this.curAncestorFs.length||!this.treeWindowStoreValue.ancestorFs.every((r,i)=>r===this.curAncestorFs[i]))&&this.treeMap.get(this.treeWindowStoreValue.treeID)&&(this.curTreeID=this.treeWindowStoreValue.treeID,this.curAncestorFs=[...this.treeWindowStoreValue.ancestorFs],j(this,vi,su).call(this)),this.treeWindowUpdated()}),this.treeWindowStoreValue.featureMap=t,this.treeWindowStoreValue.treeMap=this.treeMap,this.treeWindowStore.set(this.treeWindowStoreValue)},vi=new WeakSet,su=function(){this.svg.selectAll("g.content").remove(),j(this,wi,au).call(this)},wi=new WeakSet,au=function(){if(this.tree===null){console.warn("Trying to draw a tree that does not exist");return}const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=I.hierarchy(this.tree,d=>d.c),r=7,i=r*1,s=I.tree().size([this.width,this.height])(n),a=t.append("g").attr("class","link-group");a.selectAll("path.link").data(s.links()).join("path").attr("class",d=>`link link-${d.source.data.f[0]}`).attr("id",d=>{const m=d.source.ancestors().length>1?d.source.ancestors()[1].data.f[0]:"r",g=d.source.data.f[0],b=d.target.data.f[0];return d.target.data.f[0]==="+"?`link-${m}-${g}-p`:d.target.data.f[0]==="-"?`link-${m}-${g}-n`:`link-${m}-${g}-${b}`}).attr("d",d=>I.line()([[d.source.x,d.source.y],[d.target.x,d.target.y]]));const c=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",d=>`translate(${d.x}, ${d.y})`),o=new Set(["-","+"]);c.filter(d=>!o.has(d.data.f[0])).append("circle").attr("r",r).style("fill",d=>this.treeWindowStoreValue.getFeatureColor?this.treeWindowStoreValue.getFeatureColor(d.data.f[0]):ve.colors["gray-500"]),c.filter(d=>o.has(d.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",2).attr("ry",2).attr("width",2*i).attr("height",2*i),c.filter(d=>o.has(d.data.f[0])).append("text").attr("dy",.5).text(d=>d.data.f[0]);for(let d=0;d<this.curAncestorFs.length-1;d++){const m=d===0?"r":this.curAncestorFs[d-1],g=this.curAncestorFs[d],b=this.curAncestorFs[d+1];this.curAncestorFs[d+1]==="_"?(a.selectAll(`#link-${m}-${g}-p`).classed("highlighted",!0),a.selectAll(`#link-${m}-${g}-n`).classed("highlighted",!0)):a.selectAll(`#link-${m}-${g}-${b}`).classed("highlighted",!0)}const u=a.selectAll(`.link-${this.curAncestorFs[0]}`).data(),f=5,h=-1,p=[{x:(u[0].source.x+u[0].target.x)/2-f,y:(u[0].source.y+u[0].target.y)/2+h},{x:(u[1].source.x+u[1].target.x)/2+f,y:(u[1].source.y+u[1].target.y)/2+h}];t.append("g").attr("class","label-group").selectAll("text.split-label").data(p).join("text").attr("class","split-label").classed("split-label-left",(d,m)=>m===0).attr("x",d=>d.x).attr("y",d=>d.y).text((d,m)=>m===0?"true":"false")};const m6='<svg viewBox="0 0 48 63" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M45.606-7.813c-.033.782.309 1.278 1.025 1.49.716.211 1.351.073 1.904-.415l5.713-5.762 6.348 15.771c.162.391.431.668.805.831.375.162.741.179 1.099.048l4.102-1.709c.39-.162.642-.431.756-.805.114-.375.074-.757-.122-1.148l-6.738-15.527 8.008-.488c.781-.033 1.318-.35 1.611-.953.293-.602.163-1.212-.39-1.831L48.828-39.356c-.553-.553-1.131-.707-1.733-.463-.602.244-.904.74-.904 1.489l-.585 30.517Z" style="fill-rule:nonzero" transform="translate(-18.934 59.052) scale(.91051)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.43013 0 0 1.46942 -3373.023 -6348.854)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 -1.01125 1.03904 1.03904 -6884.807 -2079.508)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 -1.43013 1.46942 0 -6348.578 3420.756)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(-1.01125 -1.01125 1.03904 -1.03904 -2079.243 6931.533)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 1.01125 -1.03904 1.03904 2129.287 -6885.076)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 1.43013 -1.46942 0 6396.933 -3375.343)"/></svg>';function y6(e){var $,D;let t,n,r,i,s=(($=e[1])==null?void 0:$.treeWindowStoreValue.treeID)+"",a,l,c,o,u=((D=e[1])==null?void 0:D.treeMetric)+"",f,h,p,y,d,m,g,b,v,w,T,A;return{c(){var F,N,M;t=C("div"),n=C("div"),r=C("span"),i=fe("Tree "),a=fe(s),l=Y(),c=C("span"),o=fe("("),f=fe(u),h=fe(")"),p=Y(),y=C("div"),d=C("div"),m=C("div"),g=C("div"),b=Y(),v=C("span"),v.textContent="pin",w=Y(),T=Ri("svg"),_(r,"class","tree-name svelte-1m5yt70"),_(c,"class","tree-acc"),_(n,"class","tree-header svelte-1m5yt70"),_(g,"class","svg-icon svelte-1m5yt70"),_(m,"class","label svelte-1m5yt70"),_(d,"class","label-container svelte-1m5yt70"),ae(d,"no-display",(F=e[1])==null?void 0:F.shouldHidePinLabel()),_(T,"class","tree-svg svelte-1m5yt70"),_(y,"class","content svelte-1m5yt70"),_(t,"class","tree-window svelte-1m5yt70"),_(t,"style",A=(N=e[1])==null?void 0:N.getStyle()),ae(t,"show",(M=e[1])==null?void 0:M.treeWindowStoreValue.show)},m(F,N){se(F,t,N),S(t,n),S(n,r),S(r,i),S(r,a),S(n,l),S(n,c),S(c,o),S(c,f),S(c,h),S(t,p),S(t,y),S(y,d),S(d,m),S(m,g),g.innerHTML=m6,S(m,b),S(m,v),S(y,w),S(y,T),e[6](t)},p(F,[N]){var M,L,H,x,z;N&2&&s!==(s=((M=F[1])==null?void 0:M.treeWindowStoreValue.treeID)+"")&&be(a,s),N&2&&u!==(u=((L=F[1])==null?void 0:L.treeMetric)+"")&&be(f,u),N&2&&ae(d,"no-display",(H=F[1])==null?void 0:H.shouldHidePinLabel()),N&2&&A!==(A=(x=F[1])==null?void 0:x.getStyle())&&_(t,"style",A),N&2&&ae(t,"show",(z=F[1])==null?void 0:z.treeWindowStoreValue.show)},i:ue,o:ue,d(F){F&&ne(t),e[6](null)}}}function v6(e,t,n){let{data:r=null}=t,{featureMap:i=null}=t,{treeWindowStore:s=null}=t,a=null,l=!1,c=null;st(()=>{n(5,l=!0)});const o=()=>{n(1,c)},u=()=>{if(a&&r&&i&&s){const h=r.treeMap,p=new Map;Object.keys(h).forEach(y=>{p.set(+y,h[+y])}),n(1,c=new g6({component:a,treeMapMap:p,featureMap:i,treeWindowStore:s,treeWindowUpdated:o}))}};function f(h){Fe[h?"unshift":"push"](()=>{a=h,n(0,a)})}return e.$$set=h=>{"data"in h&&n(2,r=h.data),"featureMap"in h&&n(3,i=h.featureMap),"treeWindowStore"in h&&n(4,s=h.treeWindowStore)},e.$$.update=()=>{e.$$.dirty&61&&r&&i&&s&&l&&a&&u()},[a,c,r,i,s,l,f]}class w6 extends Be{constructor(t){super(),Ge(this,t,v6,y6,ze,{data:2,featureMap:3,treeWindowStore:4})}}const Ee=8;var ht,Ct,bi,ou,Qn,Us,xi,lu,Kn,Si,cu,Jn,Ys,_i,uu,Ti,hu,Mi,fu;class b6{constructor({component:t,pinnedTree:n,pinnedTreeStore:r,favoritesStore:i,pinnedTreeWindowUpdated:s,initSwitchChecked:a,width:l=200,height:c=200}){ie(this,ht);ie(this,bi);ie(this,Qn);ie(this,xi);ie(this,Si);ie(this,Jn);ie(this,_i);ie(this,Ti);ie(this,Mi);k(this,"pinnedTree");k(this,"pinnedTreeWindowUpdated");k(this,"svg");k(this,"padding");k(this,"width");k(this,"height");k(this,"dragRegion");k(this,"pinnedTreeStore");k(this,"pinnedTreeStoreValue");k(this,"pinnedTreeStoreUnsubscriber");k(this,"favoritesStore");k(this,"favoritesStoreValue");k(this,"favoritesStoreUnsubscriber");k(this,"sankey");k(this,"accuracyScale",null);k(this,"hidden",!0);k(this,"endPos");k(this,"node");k(this,"playLaunchingAnimation",()=>{const t=this.pinnedTree.startPos.width/this.endPos.width,n=this.pinnedTree.startPos.height/this.endPos.height,r=this.pinnedTree.startPos.x-this.endPos.x,i=this.pinnedTree.startPos.y-this.endPos.y;this.node.animate([{transformOrigin:"top left",opacity:0,transform:`
            translate(${r}px, ${i}px)
            scale(${t}, ${n})
          `},{transformOrigin:"top left",opacity:1,transform:"none"}],{duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",fill:"none"})});ie(this,Kn,t=>{const n=I.color(t);let r="currentcolor";if(n!==null){const i=[252,252,252],s=[74,74,74],a=I.color(n).rgb(),l=[a.r,a.g,a.b];bn(i,l)<bn(s,l)&&(r="hsla(0, 0%, 99%, 1)")}return r});k(this,"getStyle",()=>`
      left: ${this.pinnedTree.x}px;      top: ${this.pinnedTree.y}px;`);k(this,"alterLayout",()=>{this.sankey?(j(this,Ti,hu).call(this),this.sankey=!1):(j(this,Mi,fu).call(this),this.sankey=!0)});k(this,"heartClicked",async t=>{if(t.preventDefault(),t.stopPropagation(),j(this,ht,Ct).call(this),this.pinnedTree.isFav=!this.pinnedTree.isFav,this.pinnedTreeWindowUpdated(),this.pinnedTree.isFav){await Js();const n=I.select(".hidden-heart");n.transition().duration(400).ease(I.easeCubicInOut).style("transform","scale(1)").style("opacity",1).on("end",()=>{n.classed("pulse",!0),setTimeout(()=>{n.classed("pulse",!1).transition().duration(400).style("transform","scale(0)").style("opacity",0)},1500)});const r=I.select(this.node).select(".icon-heart").classed("play-animation",!0).on("animationend",()=>{r.classed("play-animation",!1)});new Set(this.favoritesStoreValue.favTrees.map(s=>s.pinnedTree.treeID)).has(this.pinnedTree.treeID)||this.favoritesStoreValue.favTrees.push({pinnedTree:this.pinnedTree,pinnedTreeUpdated:()=>{this.pinnedTreeWindowUpdated()},getFeatureColor:this.pinnedTreeStoreValue.getFeatureColor===null?()=>ve.colors["gray-500"]:this.pinnedTreeStoreValue.getFeatureColor})}else{const r=[...this.favoritesStoreValue.favTrees.map(i=>i.pinnedTree.treeID)].indexOf(this.pinnedTree.treeID);r>-1&&this.favoritesStoreValue.favTrees.splice(r,1)}this.favoritesStore.set(this.favoritesStoreValue),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});k(this,"noteClicked",t=>{t.preventDefault(),t.stopPropagation(),j(this,ht,Ct).call(this);const n=I.select(this.node).select(".note-window");n.classed("show",!n.classed("show"))});k(this,"closeClicked",t=>{t.preventDefault(),t.stopPropagation();let n=!1;if(this.pinnedTreeStoreValue.lastActiveTreeID!==null&&(n=this.pinnedTreeStoreValue.lastActiveTreeID===this.pinnedTree.treeID),this.pinnedTree.isFav)this.pinnedTree.isPinned=!1;else{const r=this.pinnedTreeStoreValue.pinnedTrees.indexOf(this.pinnedTree);r>-1?this.pinnedTreeStoreValue.pinnedTrees.splice(r,1):console.warn("Trying to delete a tree that does not exist!")}if(n){let r=!1;for(let i=this.pinnedTreeStoreValue.pinnedTrees.length-1;i>=0;i--)if(this.pinnedTreeStoreValue.pinnedTrees[i].isPinned){this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTreeStoreValue.pinnedTrees[i].treeID,r=!0;break}r||(this.pinnedTreeStoreValue.lastActiveTreeID=null)}this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});k(this,"cancelEvent",t=>{t.preventDefault(),t.stopPropagation()});k(this,"headerMousedownHandler",t=>{t.preventDefault(),t.stopPropagation(),j(this,ht,Ct).call(this);const n={x:t.pageX,y:t.pageY},r=s=>{s.preventDefault(),s.stopPropagation();let a=this.node.offsetLeft+s.pageX-n.x,l=this.node.offsetTop+s.pageY-n.y;a=Math.max(this.dragRegion.minLeft,a),a=Math.min(this.dragRegion.maxLeft,a),l=Math.max(this.dragRegion.minTop,l),l=Math.min(this.dragRegion.maxTop,l),n.x=s.pageX,n.y=s.pageY,this.node.style.left=`${a}px`,this.node.style.top=`${l}px`},i=()=>{document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",i,!0),document.body.style.cursor="default",this.pinnedTree.x=parseFloat(this.node.style.left),this.pinnedTree.y=parseFloat(this.node.style.top)};document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",i,!0),document.body.style.cursor="move"});k(this,"contentMousedownHandler",t=>{j(this,ht,Ct).call(this)});k(this,"switchToggled",t=>{t.stopPropagation(),t.preventDefault();const n=I.select(t.currentTarget);n.attr("aria-checked",n.attr("aria-checked")==="true"?"false":!0),this.alterLayout()});var h;this.pinnedTree=n,this.pinnedTreeWindowUpdated=s,this.width=l,this.height=c,this.node=t;const u=((h=this.node.parentNode)==null?void 0:h.parentNode).getBoundingClientRect();this.dragRegion={minLeft:0,maxLeft:u.width-this.width,minTop:0,maxTop:u.height-this.height-50},this.pinnedTree.jiggle=()=>{j(this,ht,Ct).call(this),this.node.classList.add("jiggle"),this.node.onanimationend=()=>{this.node.classList.remove("jiggle")}},this.pinnedTreeStore=r,this.pinnedTreeStoreValue=or(),this.pinnedTreeStoreUnsubscriber=this.pinnedTreeStore.subscribe(p=>{this.pinnedTreeStoreValue=p}),this.favoritesStore=i,this.favoritesStoreValue=sr(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(p=>{this.favoritesStoreValue=p}),j(this,ht,Ct).call(this),this.svg=I.select(t).select("svg.tree-svg").attr("width",l).attr("height",c).attr("viewbox",`0 0 ${l} ${c}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=l-this.padding.left-this.padding.right,this.height=c-this.padding.top-this.padding.bottom,a?(this.sankey=!0,j(this,Si,cu).call(this)):(this.sankey=!1,j(this,bi,ou).call(this));const f=I.select(t).node().getBoundingClientRect();this.endPos={x:this.pinnedTree.x,y:this.pinnedTree.y,width:f.width,height:f.height},this.hidden=!1,this.pinnedTreeWindowUpdated(),this.playLaunchingAnimation()}}ht=new WeakSet,Ct=function(){var n;const t=this.node.parentNode;(n=t==null?void 0:t.parentNode)==null||n.appendChild(t),this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTree.treeID},bi=new WeakSet,ou=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=I.hierarchy(this.pinnedTree.tree,o=>o.c),r=Ee*1,i=I.tree().size([this.width,this.height])(n),s=t.append("g").attr("class","link-group");s.selectAll("path.link").data(i.links()).join("path").attr("class",o=>`link link-${o.source.data.f[0]}`).attr("id",o=>o.target.data.f[0]==="+"?`link-${o.source.data.f[0]}-p`:o.target.data.f[0]==="-"?`link-${o.source.data.f[0]}-n`:`link-${o.source.data.f[0]}-${o.target.data.f[0]}`).attr("d",o=>I.line()([[o.source.x,o.source.y],[o.target.x,o.target.y]]));const l=t.append("g").attr("class","node-group").selectAll("g").data(i.descendants()).join("g").attr("class","node").attr("transform",o=>`translate(${o.x}, ${o.y})`),c=new Set(["-","+"]);if(l.filter(o=>!c.has(o.data.f[0])).append("rect").attr("class","node-rect").attr("x",-r).attr("y",-r).attr("rx",Ee).attr("ry",Ee).attr("width",2*r).attr("height",2*r).style("fill",o=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(o.data.f[0]):ve.colors["gray-500"]),l.filter(o=>!c.has(o.data.f[0])).append("title").text(o=>this.pinnedTreeStoreValue.getFeatureInfo?this.pinnedTreeStoreValue.getFeatureInfo(o.data.f[0]).nameValue:""),l.filter(o=>c.has(o.data.f[0])).append("title").text(o=>{const u=o.data.f[0]==="+"?"yes":"no",f=`${wn(o.data.f[2]/o.data.f[1],4)} (${o.data.f[2]} / ${o.data.f[1]})`;return`Predict: ${u} - Accuracy: ${f}`}),this.accuracyScale===null){const o=[];l.filter(u=>c.has(u.data.f[0])).each(u=>{o.push(u.data.f[2]/u.data.f[1])}),this.accuracyScale=I.scaleLinear().domain([Math.min(...o),Math.max(...o)]).range([.3,1])}l.filter(o=>c.has(o.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",-r).attr("y",-r).attr("rx",2).attr("ry",2).attr("width",2*r).attr("height",2*r).style("stroke-opacity",o=>this.accuracyScale(o.data.f[2]/o.data.f[1])),l.filter(o=>c.has(o.data.f[0])).append("text").attr("dy",.5).text(o=>o.data.f[0]).style("opacity",o=>this.accuracyScale(o.data.f[2]/o.data.f[1])),j(this,Qn,Us).call(this,s,t,i)},Qn=new WeakSet,Us=function(t,n,r,i=null){const s=t.selectAll(`.link-${this.pinnedTree.tree.f[0]}`).data(),a=5,l=-1,c=[{x:(s[0].source.x+s[0].target.x)/2-a,y:(s[0].source.y+s[0].target.y)/2+l},{x:(s[1].source.x+s[1].target.x)/2+a,y:(s[1].source.y+s[1].target.y)/2+l}],o=n.append("g").attr("class","edge-label-group standard").style("opacity",i?0:1);o.selectAll("text.split-label").data(c).join("text").attr("class","split-label").classed("split-label-left",(y,d)=>d===0).attr("x",y=>y.x).attr("y",y=>y.y+3).text((y,d)=>d===0?"true":"false").style("display",s[0].source.height>6?"none":"unset");const u=j(this,xi,lu).call(this,r,Ee),f=n.append("g").attr("class","node-label-group standard").style("opacity",i?0:1),h=f.selectAll("g.node-label").data(u).join("g").attr("class","node-label").classed("node-label-left",y=>y.pos===Ue.left).attr("transform",y=>`translate(${y.x}, ${y.y})`),p=h.append("text").text(y=>y.text).style("fill",y=>y.backTextColor);h.append("title").text(y=>y.textLong),p.each((y,d,m)=>{const g=I.select(m[d]);if(d+1<m.length){const b=I.select(m[d+1]),v=g.data()[0],w=b.data()[0];v.y===w.y&&v.pos===Ue.right&&w.pos===Ue.right&&w.index===v.index+1&&(v.width*=2)}}),p.each((y,d,m)=>{const g=m[d],b=I.select(g);let v=y.text,w=g.getBoundingClientRect().width;for(;w>y.width;){if(v==="..."){v=".";break}v=v.replace("...",""),v=v.slice(0,v.length-1),v=`${v}...`,w=Pe(v,16*.8)}b.text(v)}),i&&(o.transition(i).style("opacity",1),f.transition(i).style("opacity",1))},xi=new WeakSet,lu=function(t,n){const r=[];let s=12,a=this.width-12;const l=5,c=t.descendants();for(const[o,u]of c.entries()){let f=!1;const h=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(u.data.f[0]).shortValue,p=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(u.data.f[0]).nameValue;let y=ve.colors["gray-50"],d=ve.colors["gray-700"];if(this.pinnedTreeStoreValue.getFeatureColor){const v=this.pinnedTreeStoreValue.getFeatureColor(u.data.f[0]);d=v,y=es(this,Kn).call(this,v)}o+1<c.length&&u.depth===c[o+1].depth&&(f=!0,a=c[o+1].x-n-l);const m=u.x-n-s-l;let g=a-u.x-n-l;f&&c[o+1].data.f[0]!=="+"&&c[o+1].data.f[0]!=="-"&&(g=(a-u.x-n)/2-l);let b;m>g?(b={x:u.x-n-l,y:u.y,pos:Ue.left,featureName:u.data.f[0],width:m,text:h,textLong:p,frontTextColor:y,backTextColor:d,index:o},s=u.x+n,a=this.width-12):(b={x:u.x+n+l,y:u.y,pos:Ue.right,featureName:u.data.f[0],width:g,text:h,textLong:p,frontTextColor:y,backTextColor:d,index:o},u.data.f[0]!=="+"&&u.data.f[0]!=="-"?s=u.x+n+l+g:s=u.x+n+l,a=this.width-12),u.data.f[0]!=="+"&&u.data.f[0]!=="-"&&r.push(b),o+1<c.length&&u.depth!==c[o+1].depth&&(s=12,a=this.width-12)}return r},Kn=new WeakMap,Si=new WeakSet,cu=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=I.hierarchy(this.pinnedTree.tree,d=>d.c),r=Ee*1,i=I.tree().size([this.width,this.height])(n),s=t.append("g").attr("class","link-group"),a=t.append("g").attr("class","node-group"),l={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},c=i.data.f[1],o=I.scaleLinear().domain([0,c]).range([0,this.width+this.padding.left+this.padding.right-l.left-l.right]),u=[];let f=0,h=-1;i.descendants().forEach(d=>{const m=Object.assign(d);m.depth!==h&&(f=m.parent===null?l.left:m.parent.x,h=m.depth),m.x=f,m.width=o(m.data.f[1]),f+=m.width,u.push(m)});const p=a.selectAll("g").data(u).join("g").attr("class","node").attr("transform",d=>`translate(${d.x}, ${d.y})`);p.filter(d=>d.data.f[0]!=="+"&&d.data.f[0]!=="-").append("title").text(d=>this.pinnedTreeStoreValue.getFeatureInfo?this.pinnedTreeStoreValue.getFeatureInfo(d.data.f[0]).nameValue:""),p.filter(d=>d.data.f[0]==="+"||d.data.f[0]==="-").append("title").text(d=>{const m=d.data.f[0]==="+"?"yes":"no",g=`${wn(d.data.f[2]/d.data.f[1],4)} (${d.data.f[2]} / ${d.data.f[1]})`;return`Predict: ${m} - Accuracy: ${g}`});const y=new Set(["-","+"]);if(p.filter(d=>!y.has(d.data.f[0])).append("rect").attr("class","node-rect sankey").attr("x",0).attr("y",-r).attr("width",d=>d.width).attr("height",2*r).attr("rx",d=>d.width<16?1:2).attr("ry",d=>d.width<16?1:2).style("fill",d=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(d.data.f[0]):ve.colors["gray-500"]),this.accuracyScale===null){const d=[];p.filter(m=>y.has(m.data.f[0])).each(m=>{d.push(m.data.f[2]/m.data.f[1])}),this.accuracyScale=I.scaleLinear().domain([Math.min(...d),Math.max(...d)]).range([.3,1])}p.filter(d=>y.has(d.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",0).attr("y",-r).attr("rx",d=>d.width<16?1:2).attr("ry",d=>d.width<16?1:2).attr("width",d=>d.width).attr("height",2*r).style("stroke-opacity",d=>this.accuracyScale(d.data.f[2]/d.data.f[1])),p.filter(d=>y.has(d.data.f[0])).append("text").attr("x",d=>d.width/2).attr("dy",.5).text(d=>d.data.f[0]).style("opacity",d=>d.width<16?0:this.accuracyScale(d.data.f[2]/d.data.f[1])),s.selectAll("path.link").data(i.links()).join("path").attr("class",d=>`link link-${d.source.data.f[0]}`).attr("id",d=>d.target.data.f[0]==="+"?`link-${d.source.data.f[0]}-p`:d.target.data.f[0]==="-"?`link-${d.source.data.f[0]}-n`:`link-${d.source.data.f[0]}-${d.target.data.f[0]}`).attr("d",d=>{const m=d.source,g=d.target;return I.line()([[m.x+m.width/2,m.y],[g.x+g.width/2,g.y-r]])}),j(this,Jn,Ys).call(this,s,t,u,r)},Jn=new WeakSet,Ys=function(t,n,r,i,s=null){const a=t.selectAll(`.link-${this.pinnedTree.tree.f[0]}`).data(),l=5,c=-.5,o=[];for(const d of[0,1]){const m=a[d].source,g=a[d].target,b=m.x+m.width/2,v=g.x+g.width/2,w=m.y,T=g.y-i,A=r[1].y-r[0].y-2*Ee,$=Ee/(A+Ee)*Math.abs(b-v),D=d===0?b-$:b+$,F=w+Ee;o.push({x:d===0?(D+v)/2-l:(D+v)/2+l,y:(F+T)/2+c})}const u=n.append("g").attr("class","edge-label-group sankey").style("opacity",s?0:1);u.selectAll("text.split-label").data(o).join("text").attr("class","split-label").classed("split-label-left",(d,m)=>m===0).attr("x",d=>d.x).attr("y",d=>d.y+3).text((d,m)=>m===0?"true":"false").style("display",a[0].source.height>6?"none":"unset");const f=j(this,_i,uu).call(this,r),h=n.append("g").attr("class","node-label-group sankey").style("opacity",s?0:1),p=h.selectAll("g.node-label").data(f).join("g").attr("class","node-label").classed("node-label-left",d=>d.pos===Ue.left).classed("node-label-middle",d=>d.pos===Ue.middle).attr("transform",d=>`translate(${d.x}, ${d.y})`),y=p.append("text").text(d=>d.text).style("fill",d=>d.pos===Ue.middle?d.frontTextColor:d.backTextColor);p.append("title").text(d=>d.textLong),y.each((d,m,g)=>{const b=g[m],v=I.select(b);let w=d.text,T=b.getBoundingClientRect().width;for(;T>d.width;){if(w==="..."){w=".";break}w=w.replace("...",""),w=w.slice(0,w.length-1),w=`${w}...`,T=Pe(w,16*.8)}v.text(w)}),s&&(u.transition(s).style("opacity",1),h.transition(s).style("opacity",1))},_i=new WeakSet,uu=function(t){const n=[];let s=20,a=this.width-20;const l=5;for(const[c,o]of t.entries()){let u=!1;const f=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(o.data.f[0]).shortValue,h=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(o.data.f[0]).nameValue;let p=ve.colors["gray-50"],y=ve.colors["gray-700"];if(this.pinnedTreeStoreValue.getFeatureColor){const v=this.pinnedTreeStoreValue.getFeatureColor(o.data.f[0]);y=v,p=es(this,Kn).call(this,v)}c+1<t.length&&o.depth===t[c+1].depth&&(u=!0,a=t[c+1].x-l);const d=o.x-s-l,m=u?0:a-o.x-o.width-l,g=o.width-2*l;let b;d>m&&d>g?(b={x:o.x-l,y:o.y+1,pos:Ue.left,featureName:o.data.f[0],width:d,text:f,textLong:h,frontTextColor:p,backTextColor:y,index:c},s=o.x+o.width,a=this.width-20):g>=d&&g>=m?(b={x:o.x+o.width/2,y:o.y+1,pos:Ue.middle,featureName:o.data.f[0],width:g,text:f,textLong:h,frontTextColor:p,backTextColor:y,index:c},s=o.x+o.width,a=this.width-20):(b={x:o.x+o.width+l,y:o.y+1,pos:Ue.right,featureName:o.data.f[0],width:m,text:f,textLong:h,frontTextColor:p,backTextColor:y,index:c},s=o.x+o.width,a=this.width-20),o.data.f[0]!=="+"&&o.data.f[0]!=="-"&&n.push(b),c+1<t.length&&o.depth!==t[c+1].depth&&(s=20,a=this.width-20)}return n},Ti=new WeakSet,hu=function(){const t=this.svg.select("g.content"),n=I.hierarchy(this.pinnedTree.tree,u=>u.c),r=Ee*1,i=I.tree().size([this.width,this.height])(n),s=I.transition().duration(400).ease(I.easeCubicInOut),a=t.select(".link-group");a.selectAll("path.link").data(i.links()).join("path").transition(s).attr("d",u=>I.line()([[u.source.x,u.source.y],[u.target.x,u.target.y]]));const c=t.select(".node-group").selectAll("g.node").data(i.descendants()).join("g");c.transition(s).attr("transform",u=>`translate(${u.x}, ${u.y})`);const o=new Set(["-","+"]);c.filter(u=>!o.has(u.data.f[0])).select("rect.node-rect").classed("sankey",!1).transition(s).attr("x",-r).attr("y",-r).attr("rx",Ee).attr("ry",Ee).attr("width",2*r).attr("height",2*r),c.filter(u=>o.has(u.data.f[0])).select("rect.leaf-rect").attr("class","leaf-rect").transition(s).attr("x",-r).attr("y",-r).attr("rx",2).attr("ry",2).attr("width",2*r).attr("height",2*r),c.filter(u=>o.has(u.data.f[0])).select("text").transition(s).attr("x",0).attr("dy",.5).style("opacity",u=>this.accuracyScale(u.data.f[2]/u.data.f[1])),t.select(".node-label-group.sankey").transition(s).style("opacity",0).style("pointer-events","none"),t.select(".edge-label-group.sankey").transition(s).style("opacity",0).style("pointer-events","none"),t.select(".node-label-group.standard").size()===0?j(this,Qn,Us).call(this,a,t,i,s):(t.select(".node-label-group.standard").transition(s).style("opacity",1).style("pointer-events","unset"),t.select(".edge-label-group.standard").transition(s).style("opacity",1).style("pointer-events","unset")),localStorage.setItem("initSwitchChecked","false")},Mi=new WeakSet,fu=function(){const t=this.svg.select(".content"),n=I.hierarchy(this.pinnedTree.tree,m=>m.c),r=Ee*1,i=I.tree().size([this.width,this.height])(n),s=t.select(".link-group"),a=t.select(".node-group"),l={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},c=i.data.f[1],o=I.scaleLinear().domain([0,c]).range([0,this.width+this.padding.left+this.padding.right-l.left-l.right]),u=[];let f=0,h=-1;i.descendants().forEach(m=>{const g=Object.assign(m);g.depth!==h&&(f=g.parent===null?l.left:g.parent.x,h=g.depth),g.x=f,g.width=o(g.data.f[1]),f+=g.width,u.push(g)});const p=I.transition().duration(400).ease(I.easeCubicInOut),y=a.selectAll("g.node").data(u).join("g");y.transition(p).attr("transform",m=>`translate(${m.x}, ${m.y})`);const d=new Set(["-","+"]);y.filter(m=>!d.has(m.data.f[0])).select("rect.node-rect").classed("sankey",!0).transition(p).attr("x",0).attr("y",-r).attr("width",m=>m.width).attr("height",2*r).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2),y.filter(m=>d.has(m.data.f[0])).select("rect.leaf-rect").transition(p).attr("x",0).attr("y",-r).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2).attr("width",m=>m.width).attr("height",2*r),y.filter(m=>d.has(m.data.f[0])).select("text").transition(p).attr("x",m=>m.width/2).attr("dy",.5).text(m=>m.data.f[0]).style("opacity",m=>m.width<16?0:this.accuracyScale(m.data.f[2]/m.data.f[1])),s.selectAll("path.link").data(i.links()).join("path").transition(p).attr("d",m=>{const g=m.source,b=m.target;return I.line()([[g.x+g.width/2,g.y],[b.x+b.width/2,b.y-r]])}),t.select(".node-label-group.standard").transition(p).style("opacity",0).style("pointer-events","none"),t.select(".edge-label-group.standard").transition(p).style("opacity",0).style("pointer-events","none"),t.select(".node-label-group.sankey").size()===0?j(this,Jn,Ys).call(this,s,t,u,r,p):(t.select(".node-label-group.sankey").transition(p).style("opacity",1).style("pointer-events","unset"),t.select(".edge-label-group.sankey").transition(p).style("opacity",1).style("pointer-events","unset")),localStorage.setItem("initSwitchChecked","true")};const x6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"></path></svg>',du='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm2.33-11.5c-1.22 0-1.83.5-2.323 1.136C7.513 5 6.903 4.5 5.682 4.5c-1.028 0-2.169.784-2.169 2.5 0 1.499 1.493 3.433 3.246 4.517.52.321.89.479 1.248.484.357-.005.728-.163 1.247-.484C11.007 10.433 12.5 8.5 12.5 7c0-1.716-1.14-2.5-2.17-2.5z"></path></svg>',S6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zM4 5a1 1 0 011-1h6a1 1 0 011 1v5a1 1 0 01-1 1H8.707l-1.853 1.854A.5.5 0 016 12.5V11H5a1 1 0 01-1-1V5z"></path></svg>',_6=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3641,-31)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-heart-circle-clicked">
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:rgb(244,67,54);"/>
                </g>
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM10.33,4.5C9.11,4.5 8.5,5 8.007,5.636C7.513,5 6.903,4.5 5.682,4.5C4.654,4.5 3.513,5.284 3.513,7C3.513,8.499 5.006,10.433 6.759,11.517C7.279,11.838 7.649,11.996 8.007,12.001C8.364,11.996 8.735,11.838 9.254,11.517C11.007,10.433 12.5,8.5 12.5,7C12.5,5.284 11.36,4.5 10.33,4.5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,T6=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3843,-44)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-note-circle-clicked" transform="matrix(1,0,0,1,-0.0850173,-0.438976)">
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:hsl(123,46.2%,33.53%);"/>
                </g>
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM4,5C4,4.451 4.451,4 5,4L11,4C11.549,4 12,4.451 12,5L12,10C12,10.549 11.549,11 11,11L8.707,11L6.854,12.854C6.76,12.948 6.633,13.001 6.5,13.001C6.226,13.001 6,12.775 6,12.501L6,11L5,11C4.451,11 4,10.549 4,10L4,5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;function M6(e){let t;return{c(){t=C("div"),_(t,"class","svg-icon svelte-z5vbym")},m(n,r){se(n,t,r),t.innerHTML=du},p:ue,d(n){n&&ne(t)}}}function k6(e){let t;return{c(){t=C("div"),_(t,"class","svg-icon icon-heart svelte-z5vbym"),ae(t,"play-animation",!1)},m(n,r){se(n,t,r),t.innerHTML=_6},p:ue,d(n){n&&ne(t)}}}function C6(e){let t;return{c(){t=C("div"),_(t,"class","svg-icon svelte-z5vbym")},m(n,r){se(n,t,r),t.innerHTML=T6},p:ue,d(n){n&&ne(t)}}}function V6(e){let t;return{c(){t=C("div"),_(t,"class","svg-icon svelte-z5vbym")},m(n,r){se(n,t,r),t.innerHTML=S6},p:ue,d(n){n&&ne(t)}}}function rl(e){let t,n,r;return{c(){t=C("textarea"),_(t,"class","note-window-input svelte-z5vbym"),_(t,"name","note-input"),_(t,"placeholder","Leave a comment.")},m(i,s){se(i,t,s),Ur(t,e[1].pinnedTree.note),n||(r=[re(t,"input",e[11]),re(t,"input",e[12])],n=!0)},p(i,s){s&2&&Ur(t,i[1].pinnedTree.note)},d(i){i&&ne(t),n=!1,Se(r)}}}function D6(e){var q,de;let t,n,r,i,s,a=((q=e[1])==null?void 0:q.pinnedTree.treeID)+"",l,c,o,u,f=((de=e[1])==null?void 0:de.pinnedTree.treeMetric)+"",h,p,y,d,m,g,b,v,w,T,A,$,D,F,N,M,L,H,x,z,V,P,W,E,O,B,X,G,R;function K(Z,oe){var le;return(le=Z[1])!=null&&le.pinnedTree.isFav?k6:M6}let he=K(e),te=he(e);function ce(Z,oe){var le;return((le=Z[1])==null?void 0:le.pinnedTree.note)===""?V6:C6}let U=ce(e),J=U(e),Q=e[1]!==null&&rl(e);return{c(){var Z,oe,le,ee,pe,Me;t=C("div"),n=C("div"),r=C("div"),i=C("span"),s=fe("Tree "),l=fe(a),c=Y(),o=C("span"),u=fe("("),h=fe(f),p=fe(")"),d=Y(),m=C("div"),g=C("div"),te.c(),b=Y(),v=C("div"),J.c(),w=Y(),T=C("div"),A=C("div"),Q&&Q.c(),$=Y(),D=C("div"),F=C("div"),N=Y(),M=C("div"),M.innerHTML='<svg class="tree-svg svelte-z5vbym"></svg>',L=Y(),H=C("div"),x=C("button"),z=C("label"),V=fe("Scaled by sample size"),W=Y(),E=C("div"),_(i,"class","tree-name svelte-z5vbym"),_(o,"class","tree-acc svelte-z5vbym"),_(r,"class","tree-info svelte-z5vbym"),_(r,"title",y=`Tree ${(Z=e[1])==null?void 0:Z.pinnedTree.treeID} - Accuracy ${(oe=e[1])==null?void 0:oe.pinnedTree.treeMetric}`),_(g,"class","control-fav"),_(g,"title","Add to my favorites"),_(A,"class","input-wrapper svelte-z5vbym"),_(T,"class","note-window svelte-z5vbym"),_(T,"title",""),ae(T,"show",!1),_(v,"class","control-note svelte-z5vbym"),_(v,"title","Leave a comment"),_(F,"class","svg-icon svelte-z5vbym"),_(D,"class","control-close"),_(D,"title","Close the window"),_(m,"class","control-buttons svelte-z5vbym"),_(n,"class","tree-header svelte-z5vbym"),_(M,"class","content svelte-z5vbym"),_(z,"class","switch-label"),_(z,"for",P=`switch-${(le=e[1])==null?void 0:le.pinnedTree.treeID}`),_(E,"class","switch-track svelte-z5vbym"),_(E,"id",O=`switch-${(ee=e[1])==null?void 0:ee.pinnedTree.treeID}`),_(x,"class","switch svelte-z5vbym"),_(x,"aria-checked",B=e[2]?"true":"false"),_(x,"title","Toggle to visualize sample size as node width"),_(H,"class","control-footer svelte-z5vbym"),_(t,"class","pinned-tree-window svelte-z5vbym"),_(t,"style",X=(pe=e[1])==null?void 0:pe.getStyle()),ae(t,"hidden",(Me=e[1])==null?void 0:Me.hidden),ae(t,"jiggle",!1)},m(Z,oe){se(Z,t,oe),S(t,n),S(n,r),S(r,i),S(i,s),S(i,l),S(r,c),S(r,o),S(o,u),S(o,h),S(o,p),S(n,d),S(n,m),S(m,g),te.m(g,null),S(m,b),S(m,v),J.m(v,null),S(v,w),S(v,T),S(T,A),Q&&Q.m(A,null),S(m,$),S(m,D),S(D,F),F.innerHTML=x6,S(t,N),S(t,M),S(t,L),S(t,H),S(H,x),S(x,z),S(z,V),S(x,W),S(x,E),e[21](t),G||(R=[re(g,"click",e[9]),re(g,"mousedown",e[10]),re(A,"click",e[13]),re(v,"click",e[14]),re(v,"mousedown",A6),re(D,"click",e[15]),re(D,"mousedown",e[16]),re(n,"mousedown",e[17]),re(n,"click",e[18]),re(M,"mousedown",e[19]),re(x,"click",e[20])],G=!0)},p(Z,[oe]){var le,ee,pe,Me,ke,_t,zt,_n;oe&2&&a!==(a=((le=Z[1])==null?void 0:le.pinnedTree.treeID)+"")&&be(l,a),oe&2&&f!==(f=((ee=Z[1])==null?void 0:ee.pinnedTree.treeMetric)+"")&&be(h,f),oe&2&&y!==(y=`Tree ${(pe=Z[1])==null?void 0:pe.pinnedTree.treeID} - Accuracy ${(Me=Z[1])==null?void 0:Me.pinnedTree.treeMetric}`)&&_(r,"title",y),he===(he=K(Z))&&te?te.p(Z,oe):(te.d(1),te=he(Z),te&&(te.c(),te.m(g,null))),U===(U=ce(Z))&&J?J.p(Z,oe):(J.d(1),J=U(Z),J&&(J.c(),J.m(v,w))),Z[1]!==null?Q?Q.p(Z,oe):(Q=rl(Z),Q.c(),Q.m(A,null)):Q&&(Q.d(1),Q=null),oe&2&&P!==(P=`switch-${(ke=Z[1])==null?void 0:ke.pinnedTree.treeID}`)&&_(z,"for",P),oe&2&&O!==(O=`switch-${(_t=Z[1])==null?void 0:_t.pinnedTree.treeID}`)&&_(E,"id",O),oe&4&&B!==(B=Z[2]?"true":"false")&&_(x,"aria-checked",B),oe&2&&X!==(X=(zt=Z[1])==null?void 0:zt.getStyle())&&_(t,"style",X),oe&2&&ae(t,"hidden",(_n=Z[1])==null?void 0:_n.hidden)},i:ue,o:ue,d(Z){Z&&ne(t),te.d(),J.d(),Q&&Q.d(),e[21](null),G=!1,Se(R)}}}const A6=e=>{e.stopPropagation()};function L6(e,t,n){let{pinnedTree:r=null}=t,{pinnedTreeStore:i=null}=t,{favoritesStore:s=null}=t,a=null,l=!1,c=null,o=!1,u=!1;localStorage.getItem("initSwitchChecked")==="true"&&(u=!0),st(()=>{n(7,l=!0)}),Ml(()=>{c==null||c.pinnedTreeStoreUnsubscriber(),c==null||c.favoritesStoreUnsubscriber()});const f=()=>{n(1,c)},h=()=>{n(8,o=!0),a&&r&&i&&s&&n(1,c=new b6({component:a,pinnedTree:r,pinnedTreeStore:i,favoritesStore:s,pinnedTreeWindowUpdated:f,initSwitchChecked:u}))},p=M=>{M.stopPropagation(),s==null||s.update(L=>L)},y=M=>c==null?void 0:c.heartClicked(M),d=M=>c==null?void 0:c.cancelEvent(M),m=M=>p(M);function g(){c.pinnedTree.note=this.value,n(1,c)}const b=M=>c==null?void 0:c.cancelEvent(M),v=M=>c==null?void 0:c.noteClicked(M),w=M=>c==null?void 0:c.closeClicked(M),T=M=>c==null?void 0:c.cancelEvent(M),A=M=>c==null?void 0:c.headerMousedownHandler(M),$=M=>c==null?void 0:c.cancelEvent(M),D=M=>c==null?void 0:c.contentMousedownHandler(M),F=M=>c==null?void 0:c.switchToggled(M);function N(M){Fe[M?"unshift":"push"](()=>{a=M,n(0,a)})}return e.$$set=M=>{"pinnedTree"in M&&n(4,r=M.pinnedTree),"pinnedTreeStore"in M&&n(5,i=M.pinnedTreeStore),"favoritesStore"in M&&n(6,s=M.favoritesStore)},e.$$.update=()=>{e.$$.dirty&497&&r&&l&&a&&i&&s&&!o&&h()},[a,c,u,p,r,i,s,l,o,y,d,m,g,b,v,w,T,A,$,D,F,N]}class H6 extends Be{constructor(t){super(),Ge(this,t,L6,D6,ze,{pinnedTree:4,pinnedTreeStore:5,favoritesStore:6})}}var ki,pu;class F6{constructor({favTree:t,component:n,textAreaNode:r,favoritesStore:i,pinnedTreeStore:s}){ie(this,ki);k(this,"favTree");k(this,"textAreaNode");k(this,"favoritesStore");k(this,"favoritesStoreValue");k(this,"favoritesStoreUnsubscriber");k(this,"pinnedTreeStore");k(this,"pinnedTreeStoreValue");k(this,"PinnedTreeStoreValueUnsubscriber");k(this,"svg");k(this,"padding");k(this,"width");k(this,"height");k(this,"adjustTextAreaHeight",async()=>{await Js(),this.textAreaNode.style.removeProperty("height"),this.textAreaNode.style.height=`${this.textAreaNode.scrollHeight}px`});k(this,"noteChanged",t=>{t.stopPropagation(),this.favTree.pinnedTreeUpdated(),this.adjustTextAreaHeight()});k(this,"deleteClicked",t=>{t.preventDefault(),t.stopPropagation();let n=-1;for(let a=0;a<this.pinnedTreeStoreValue.pinnedTrees.length;a++)if(this.pinnedTreeStoreValue.pinnedTrees[a].treeID===this.favTree.pinnedTree.treeID){n=a;break}const r=this.pinnedTreeStoreValue.pinnedTrees[n];r.isPinned?r.isFav=!1:this.pinnedTreeStoreValue.pinnedTrees.splice(n,1),this.pinnedTreeStore.set(this.pinnedTreeStoreValue);const s=[...this.favoritesStoreValue.favTrees.map(a=>a.pinnedTree.treeID)].indexOf(this.favTree.pinnedTree.treeID);s>-1&&this.favoritesStoreValue.favTrees.splice(s,1),this.favoritesStore.set(this.favoritesStoreValue)});k(this,"thumbnailClicked",t=>{t.preventDefault(),t.stopPropagation();for(let n=0;n<this.pinnedTreeStoreValue.pinnedTrees.length;n++){const r=this.pinnedTreeStoreValue.pinnedTrees[n];if(r.treeID===this.favTree.pinnedTree.treeID){if(r.isPinned)r.jiggle();else{const i=this.svg.node().getBoundingClientRect(),s={x:i.left,y:i.top,width:i.width,height:i.height};r.startPos=s,r.isPinned=!0,this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}break}}});this.favTree=t,this.textAreaNode=r,this.favoritesStore=i,this.favoritesStoreValue=sr(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(c=>{this.favoritesStoreValue=c,this.favoritesStoreValue.shown&&this.adjustTextAreaHeight()}),this.pinnedTreeStore=s,this.pinnedTreeStoreValue=or(),this.PinnedTreeStoreValueUnsubscriber=this.pinnedTreeStore.subscribe(c=>{this.pinnedTreeStoreValue=c});const a=70,l=70;this.svg=I.select(n).select("svg.tree-svg").attr("width",a).attr("height",l).attr("viewbox",`0 0 ${a} ${l}`).attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:0,right:0},this.width=a-this.padding.left-this.padding.right,this.height=l-this.padding.top-this.padding.bottom,j(this,ki,pu).call(this)}}ki=new WeakSet,pu=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=I.hierarchy(this.favTree.pinnedTree.tree,u=>u.c),r=4,i=4,s=I.tree().size([this.width,this.height])(n);t.append("g").attr("class","link-group").selectAll("path.link").data(s.links()).join("path").attr("class",u=>`link link-${u.source.data.f[0]}`).attr("id",u=>{const f=u.source.ancestors().length>1?u.source.ancestors()[1].data.f[0]:"r",h=u.source.data.f[0],p=u.target.data.f[0];return u.target.data.f[0]==="+"?`link-${f}-${h}-p`:u.target.data.f[0]==="-"?`link-${f}-${h}-n`:`link-${f}-${h}-${p}`}).attr("d",u=>I.line()([[u.source.x,u.source.y],[u.target.x,u.target.y]]));const c=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",u=>`translate(${u.x}, ${u.y})`),o=new Set(["-","+"]);c.filter(u=>!o.has(u.data.f[0])).append("circle").attr("r",r).style("fill",u=>this.favTree.getFeatureColor(u.data.f[0])),c.filter(u=>o.has(u.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",1).attr("ry",1).attr("width",2*i).attr("height",2*i),c.filter(u=>o.has(u.data.f[0])).append("text").attr("dy",.5).text(u=>u.data.f[0])};const I6='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="40" d="M80 112h352"/><path d="M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/></svg>';function il(e){let t,n,r;return{c(){t=C("textarea"),_(t,"class","note-window-input svelte-1gwb53b"),_(t,"name","note-input"),_(t,"placeholder","Leave a comment.")},m(i,s){se(i,t,s),e[10](t),Ur(t,e[0].pinnedTree.note),n||(r=[re(t,"input",e[11]),re(t,"input",e[12])],n=!0)},p(i,s){s&1&&Ur(t,i[0].pinnedTree.note)},d(i){i&&ne(t),e[10](null),n=!1,Se(r)}}}function N6(e){var N,M;let t,n,r,i,s,a,l,c,o,u=((N=e[3])==null?void 0:N.favTree.pinnedTree.treeID)+"",f,h,p,y,d=((M=e[3])==null?void 0:M.favTree.pinnedTree.treeMetric)+"",m,g,b,v,w,T,A,$,D,F=e[0]!==null&&il(e);return{c(){t=C("div"),n=C("div"),r=Ri("svg"),i=Y(),s=C("div"),a=C("div"),l=C("div"),c=C("span"),o=fe("Tree "),f=fe(u),h=Y(),p=C("span"),y=fe("("),m=fe(d),g=fe(")"),b=Y(),v=C("div"),w=C("div"),T=Y(),A=C("div"),F&&F.c(),_(r,"class","tree-svg svelte-1gwb53b"),_(n,"class","tree-left svelte-1gwb53b"),_(c,"class","tree-name svelte-1gwb53b"),_(p,"class","tree-metric"),_(l,"class","tree-info-left svelte-1gwb53b"),_(w,"class","svg-icon svelte-1gwb53b"),_(v,"class","tree-info-right"),_(a,"class","tree-info svelte-1gwb53b"),_(A,"class","tree-note svelte-1gwb53b"),_(s,"class","tree-right svelte-1gwb53b"),_(t,"class","tree svelte-1gwb53b")},m(L,H){se(L,t,H),S(t,n),S(n,r),S(t,i),S(t,s),S(s,a),S(a,l),S(l,c),S(c,o),S(c,f),S(l,h),S(l,p),S(p,y),S(p,m),S(p,g),S(a,b),S(a,v),S(v,w),w.innerHTML=I6,S(s,T),S(s,A),F&&F.m(A,null),e[13](t),$||(D=[re(r,"click",e[8]),re(w,"click",e[9])],$=!0)},p(L,[H]){var x,z;H&8&&u!==(u=((x=L[3])==null?void 0:x.favTree.pinnedTree.treeID)+"")&&be(f,u),H&8&&d!==(d=((z=L[3])==null?void 0:z.favTree.pinnedTree.treeMetric)+"")&&be(m,d),L[0]!==null?F?F.p(L,H):(F=il(L),F.c(),F.m(A,null)):F&&(F.d(1),F=null)},i:ue,o:ue,d(L){L&&ne(t),F&&F.d(),e[13](null),$=!1,Se(D)}}}function $6(e,t,n){let{favTree:r=null}=t,{favoritesStore:i=null}=t,{pinnedTreeStore:s=null}=t,a=null,l=null,c=!1,o=!1,u=null;st(()=>{n(6,c=!0)}),Ml(()=>{u==null||u.favoritesStoreUnsubscriber(),u==null||u.PinnedTreeStoreValueUnsubscriber()});const f=()=>{r&&l&&a&&i&&s&&n(3,u=new F6({favTree:r,component:a,textAreaNode:l,favoritesStore:i,pinnedTreeStore:s})),n(7,o=!0)},h=b=>u==null?void 0:u.thumbnailClicked(b),p=b=>u==null?void 0:u.deleteClicked(b);function y(b){Fe[b?"unshift":"push"](()=>{l=b,n(2,l)})}const d=b=>u.noteChanged(b);function m(){r.pinnedTree.note=this.value,n(0,r)}function g(b){Fe[b?"unshift":"push"](()=>{a=b,n(1,a)})}return e.$$set=b=>{"favTree"in b&&n(0,r=b.favTree),"favoritesStore"in b&&n(4,i=b.favoritesStore),"pinnedTreeStore"in b&&n(5,s=b.pinnedTreeStore)},e.$$.update=()=>{e.$$.dirty&247&&r&&l&&a&&i&&s&&c&&!o&&f()},[r,a,l,u,i,s,c,o,h,p,y,d,m,g]}class P6 extends Be{constructor(t){super(),Ge(this,t,$6,N6,ze,{favTree:0,favoritesStore:4,pinnedTreeStore:5})}}const z6=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=JSON.parse(JSON.stringify(t.favTrees)),r=[];n.forEach(i=>{delete i.getFeatureColor,delete i.pinnedTreeUpdated,delete i.pinnedTree.isPinned,delete i.pinnedTree.isFav,delete i.pinnedTree.jiggle,delete i.pinnedTree.x,delete i.pinnedTree.y,delete i.pinnedTree.startPos,r.push(i.pinnedTree)}),Am(r,null,"favorite-trees.json")};function E6(e,{from:t,to:n},r={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*a/n.width-(n.left+a),o=t.top+t.height*l/n.height-(n.top+l),{delay:u=0,duration:f=p=>Math.sqrt(p)*120,easing:h=Fl}=r;return{delay:u,duration:rr(f)?f(Math.sqrt(c*c+o*o)):f,easing:h,css:(p,y)=>{const d=y*c,m=y*o,g=p+y*t.width/n.width,b=p+y*t.height/n.height;return`transform: ${s} translate(${d}px, ${m}px) scale(${g}, ${b});`}}}const gu='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>',q6='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"></path></svg>';function sl(e,t,n){const r=e.slice();return r[11]=t[n],r}function al(e){let t,n,r,i;const s=[W6,R6],a=[];function l(c,o){return c[5].favTrees.length===0?0:1}return t=l(e),n=a[t]=s[t](e),{c(){n.c(),r=Vs()},m(c,o){a[t].m(c,o),se(c,r,o),i=!0},p(c,o){let u=t;t=l(c),t===u?a[t].p(c,o):(vt(),we(a[u],1,1,()=>{a[u]=null}),wt(),n=a[t],n?n.p(c,o):(n=a[t]=s[t](c),n.c()),me(n,1),n.m(r.parentNode,r))},i(c){i||(me(n),i=!0)},o(c){we(n),i=!1},d(c){a[t].d(c),c&&ne(r)}}}function R6(e){let t,n=[],r=new Map,i,s=e[5].favTrees;const a=l=>l[11].pinnedTree.treeID;for(let l=0;l<s.length;l+=1){let c=sl(e,s,l),o=a(c);r.set(o,n[l]=ol(o,c))}return{c(){t=C("div");for(let l=0;l<n.length;l+=1)n[l].c();_(t,"class","tree-list svelte-1lb0qzx")},m(l,c){se(l,t,c);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);i=!0},p(l,c){if(c&35){s=l[5].favTrees,vt();for(let o=0;o<n.length;o+=1)n[o].r();n=Hl(n,c,a,1,l,s,r,t,Xu,ol,null,sl);for(let o=0;o<n.length;o+=1)n[o].a();wt()}},i(l){if(!i){for(let c=0;c<s.length;c+=1)me(n[c]);i=!0}},o(l){for(let c=0;c<n.length;c+=1)we(n[c]);i=!1},d(l){l&&ne(t);for(let c=0;c<n.length;c+=1)n[c].d()}}}function W6(e){let t,n,r,i,s;return{c(){t=C("div"),n=C("div"),r=fe("Click the heart button "),i=C("span"),s=fe(" on tree windows to add favorite trees."),_(i,"class","svg-icon svelte-1lb0qzx"),_(n,"class","tree-placeholder-text svelte-1lb0qzx"),_(t,"class","tree-placeholder svelte-1lb0qzx")},m(a,l){se(a,t,l),S(t,n),S(n,r),S(n,i),i.innerHTML=du,S(n,s)},p:ue,i:ue,o:ue,d(a){a&&ne(t)}}}function ol(e,t){let n,r,i,s,a,l=ue,c;return r=new P6({props:{favTree:t[11],favoritesStore:t[0],pinnedTreeStore:t[1]}}),{key:e,first:null,c(){n=C("div"),Ye(r.$$.fragment),i=Y(),_(n,"class","tree-wrapper svelte-1lb0qzx"),this.first=n},m(o,u){se(o,n,u),Re(r,n,null),S(n,i),c=!0},p(o,u){t=o;const f={};u&32&&(f.favTree=t[11]),u&1&&(f.favoritesStore=t[0]),u&2&&(f.pinnedTreeStore=t[1]),r.$set(f)},r(){a=n.getBoundingClientRect()},f(){Uu(n),l(),_l(n,a)},a(){l(),l=Ou(n,a,E6,{duration:300})},i(o){c||(me(r.$$.fragment,o),s&&s.end(1),c=!0)},o(o){we(r.$$.fragment,o),s=ea(n,Il,{duration:200}),c=!1},d(o){o&&ne(n),We(r),o&&s&&s.end()}}}function O6(e){let t,n,r,i,s,a,l,c,o,u,f,h,p,y,d=e[3]&&al(e);return{c(){t=C("div"),n=C("div"),r=C("div"),i=C("div"),i.textContent="My Favorite Trees",s=Y(),a=C("div"),l=C("div"),c=Y(),o=C("div"),u=Y(),d&&d.c(),_(i,"class","title"),_(l,"class","svg-icon svelte-1lb0qzx"),_(o,"class","svg-icon close-icon svelte-1lb0qzx"),_(a,"class","icons svelte-1lb0qzx"),_(r,"class","header-title svelte-1lb0qzx"),_(n,"class","header svelte-1lb0qzx"),_(t,"class","favorites-panel svelte-1lb0qzx"),_(t,"style",f=`max-height: ${e[2]}px;`),ae(t,"shown",e[5].shown)},m(m,g){se(m,t,g),S(t,n),S(n,r),S(r,i),S(r,s),S(r,a),S(a,l),l.innerHTML=q6,S(a,c),S(a,o),o.innerHTML=gu,S(t,u),d&&d.m(t,null),e[9](t),h=!0,p||(y=[re(l,"click",e[8]),re(o,"click",e[6])],p=!0)},p(m,[g]){m[3]?d?(d.p(m,g),g&8&&me(d,1)):(d=al(m),d.c(),me(d,1),d.m(t,null)):d&&(vt(),we(d,1,1,()=>{d=null}),wt()),(!h||g&4&&f!==(f=`max-height: ${m[2]}px;`))&&_(t,"style",f),(!h||g&32)&&ae(t,"shown",m[5].shown)},i(m){h||(me(d),h=!0)},o(m){we(d),h=!1},d(m){m&&ne(t),d&&d.d(),e[9](null),p=!1,Se(y)}}}function U6(e,t,n){let{favoritesStore:r=null}=t,{pinnedTreeStore:i=null}=t,{width:s=650}=t,a=null,l=!1,c=!1,o=sr();st(()=>{n(7,l=!0)});const u=()=>{r&&i&&r.subscribe(y=>{n(5,o=y)}),n(3,c=!0)},f=y=>{y.stopPropagation(),y.preventDefault(),n(5,o.shown=!1,o),r==null||r.set(o)},h=y=>z6(y,o);function p(y){Fe[y?"unshift":"push"](()=>{a=y,n(4,a)})}return e.$$set=y=>{"favoritesStore"in y&&n(0,r=y.favoritesStore),"pinnedTreeStore"in y&&n(1,i=y.pinnedTreeStore),"width"in y&&n(2,s=y.width)},e.$$.update=()=>{e.$$.dirty&139&&r&&i&&l&&!c&&u()},[r,i,s,c,a,o,f,l,h,p]}class Y6 extends Be{constructor(t){super(),Ge(this,t,U6,O6,ze,{favoritesStore:0,pinnedTreeStore:1,width:2})}}const Dr=I.format(",.3~f"),qe=45,Ar="slider-left-thumb",Lr="slider-right-thumb",An=268,Ln=16,Te=8,Xt={default:6,original:6*1.8};var Ci,mu,Vi,yu,Di,vu,pt,Qt,er,Gs,ln,Rr,cn,Wr,Ai,wu,Li,bu,gt,Kt,tr,Bs,Hi,xu,Fi,Su,Ii,_u,Ni,Tu,$i,Mu,Pi,ku,zi,Cu,Ei,Vu,nr,Xs;class G6{constructor(t,n,r,i){ie(this,Ci);ie(this,Vi);ie(this,Di);ie(this,pt);ie(this,er);ie(this,ln);ie(this,cn);ie(this,Ai);ie(this,Li);ie(this,gt);ie(this,tr);ie(this,Hi);ie(this,Fi);ie(this,Ii);ie(this,Ni);ie(this,$i);ie(this,Pi);ie(this,zi);ie(this,Ei);ie(this,nr);k(this,"component");k(this,"accuracyRow");k(this,"accuracySVG",null);k(this,"minSampleRow");k(this,"minSampleSVG",null);k(this,"heightRow");k(this,"heightSVG",null);k(this,"data");k(this,"treeMapMap");k(this,"accuracyDensities");k(this,"heightDensities");k(this,"minSampleDensities");k(this,"accuracyXScale");k(this,"accuracyYScale");k(this,"densityClip");k(this,"minSampleXScale");k(this,"minSampleYScale");k(this,"minSampleDensityClip");k(this,"heightXScale");k(this,"heightYScale");k(this,"searchStore");k(this,"searchStoreValue");k(this,"curAccuracyLow");k(this,"curAccuracyHigh");k(this,"accuracyLow");k(this,"accuracyHigh");k(this,"curMinSampleLow");k(this,"curMinSampleHigh");k(this,"minSampleLow");k(this,"minSampleHigh");k(this,"searchUpdated");k(this,"refreshAccuracy",()=>{j(this,pt,Qt).call(this,"slider-left-thumb",this.accuracyLow),j(this,pt,Qt).call(this,"slider-right-thumb",this.accuracyHigh)});k(this,"refreshMinSample",()=>{j(this,gt,Kt).call(this,"slider-left-thumb",this.minSampleLow),j(this,gt,Kt).call(this,"slider-right-thumb",this.minSampleHigh)});k(this,"refreshHeight",()=>{var t;for(const n of this.heightXScale.domain()){const r=I.select(this.component).select(`#height-checkbox-${n}`);r.property("checked")||((t=this.heightSVG)==null||t.select(`#bar-${n}`).classed("selected",!0),r.property("checked",!0),this.searchStoreValue.curHeightRange.add(n))}this.searchStore.set(this.searchStoreValue)});k(this,"refreshDepth",t=>{const n=I.select(this.component).select(`#level-row-${t} .level-content`),r=this.searchStoreValue.curDepthFeatures.get(t);if(r===void 0){console.warn(`Unknown depth ${t}`);return}for(const i of this.searchStoreValue.featureOrder){const s=n.select(`#depth-check-box-label-${t}-${i}`);s.property("checked")||(s.property("checked",!0),r.add(i))}this.searchStoreValue.curDepthFeatures.set(t,r),this.searchStore.set(this.searchStoreValue)});k(this,"refreshAllFeatures",()=>{const t=I.select(this.component).select("#level-row-0 .level-content"),n=this.searchStoreValue.curAllFeatures;for(const r of this.searchStoreValue.featureOrder){const i=t.select(`#depth-check-box-label-0-${r}`);i.property("checked")||(i.property("checked",!0),n.add(r))}this.searchStoreValue.curAllFeatures=n,this.searchStore.set(this.searchStoreValue)});k(this,"updatePlots",(t,n=!1)=>{var T,A,$;const r=[],i=[],s=new Map;if(this.searchStoreValue.treeHeightMap)for(const[D,F]of this.searchStoreValue.treeHeightMap)s.set(D,0);let a=1;this.searchStoreValue.treeHeightMap&&(a=this.searchStoreValue.treeHeightMap.size);const l=I.transition("updatePlot").duration(500);for(const D in this.data.treeMap){const F=parseInt(D);if(t.allFeature.has(F)&&t.depth.has(F)&&t.height.has(F)&&t.minSample.has(F)&&r.push(this.data.treeMap[D][2]),t.allFeature.has(F)&&t.depth.has(F)&&t.height.has(F)&&t.accuracy.has(F)&&this.searchStoreValue.treeMinSampleMap!==null&&i.push(this.searchStoreValue.treeMinSampleMap.get(F)),t.allFeature.has(F)&&t.depth.has(F)&&t.minSample.has(F)&&t.accuracy.has(F)&&this.searchStoreValue.treeHeightMap!==null){const N=this.searchStoreValue.treeHeightMap.get(F),M=s.get(N);s.set(N,M+1)}}const c=50,o=I.bin().thresholds(c),u=o(r),f=[];if(u.forEach(D=>{f.push({x:D.x0===void 0?0:D.x0,y:D.length/a})}),f.length>2){const D=f[1].x-f[0].x;f.unshift({x:f[0].x-D,y:0}),f.push({x:f.slice(-1)[0].x+D,y:0})}const h=[];if(o(i).forEach(D=>{h.push({x:D.x0===void 0?0:D.x0,y:D.length/a})}),h.length>2){const D=h[1].x-h[0].x;h.unshift({x:Math.max(0,h[0].x-D),y:0}),h.push({x:h.slice(-1)[0].x+D,y:0})}const y=[];s.forEach((D,F)=>{y.push({x:F,y:D/a})}),y.sort((D,F)=>D.x-F.x);const d=(T=this.accuracySVG)==null?void 0:T.select("g.hist-group"),m=I.line().curve(I.curveBasis).x(D=>this.accuracyXScale(D.x)).y(D=>this.accuracyYScale(D.y));n?(d==null||d.select("path.area-path").datum(f).transition(l).attr("d",m),d==null||d.select("path.area-path.selected").datum(f).transition(l).attr("d",m)):(d==null||d.select("path.area-path").datum(f).attr("d",m),d==null||d.select("path.area-path.selected").datum(f).attr("d",m));const g=(A=this.minSampleSVG)==null?void 0:A.select("g.hist-group"),b=I.line().curve(I.curveBasis).x(D=>this.minSampleXScale(D.x)).y(D=>this.minSampleYScale(D.y));n?(g==null||g.select("path.area-path").datum(h).transition(l).attr("d",b),g==null||g.select("path.area-path.selected").datum(h).transition(l).attr("d",b)):(g==null||g.select("path.area-path").datum(h).attr("d",b),g==null||g.select("path.area-path.selected").datum(h).attr("d",b));const v=($=this.heightSVG)==null?void 0:$.select("g.hist-group"),w=v==null?void 0:v.selectAll("g.bar").data(y);n?(w==null||w.select("rect").transition(l).attr("y",D=>this.heightYScale(D.y)).attr("height",D=>this.heightYScale(0)-this.heightYScale(D.y)),w==null||w.select("text").transition(l).attr("y",D=>this.heightYScale(D.y)-5)):(w==null||w.select("rect").attr("y",D=>this.heightYScale(D.y)).attr("height",D=>this.heightYScale(0)-this.heightYScale(D.y)),w==null||w.select("text").attr("y",D=>this.heightYScale(D.y)-5)),w==null||w.select("tspan").text(D=>`(${I.format(".0%")(D.y)})`),w==null||w.select("title").text(D=>`Height: ${D.x} (${I.format(".4%")(D.y)})`)});this.component=t,this.searchUpdated=r,this.searchStore=i,this.searchStoreValue=ar(),this.searchStore.subscribe(a=>{this.searchStoreValue=a,this.searchUpdated()}),this.accuracyRow=I.select(t).select(".accuracy-row"),this.minSampleRow=I.select(t).select(".min-sample-row"),this.heightRow=I.select(t).select(".height-row"),this.curAccuracyLow=0,this.curAccuracyHigh=1,this.accuracyLow=0,this.accuracyHigh=1,this.curMinSampleLow=0,this.curMinSampleHigh=1,this.minSampleLow=0,this.minSampleHigh=1,this.data=n,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(a=>{this.treeMapMap.set(+a,n.treeMap[+a])});const s=j(this,Ci,mu).call(this);this.accuracyDensities=s.accuracyDensities,this.heightDensities=s.heightDensities,this.minSampleDensities=s.minSampleDensities,this.accuracyXScale=I.scaleLinear(),this.accuracyYScale=I.scaleLinear(),this.densityClip=null,this.accuracySVG=j(this,Vi,yu).call(this),j(this,Di,vu).call(this),this.minSampleXScale=I.scaleLinear(),this.minSampleYScale=I.scaleLinear(),this.minSampleDensityClip=null,this.minSampleSVG=j(this,Ai,wu).call(this),j(this,Li,bu).call(this),this.heightXScale=I.scaleBand(),this.heightYScale=I.scaleLinear(),this.heightSVG=j(this,Ii,_u).call(this),j(this,Ni,Tu).call(this),j(this,Pi,ku).call(this),this.searchStoreValue.updatePlots=(a,l)=>{this.updatePlots(a,l)},this.searchStore.set(this.searchStoreValue)}}Ci=new WeakSet,mu=function(){const t=[];for(const v in this.data.treeMap)t.push(this.data.treeMap[v][2]);const n=t.length,r=50,s=I.bin().thresholds(r)(t),a=[];s.forEach(v=>{a.push({x:v.x0===void 0?0:v.x0,y:v.length/n})});const l=a[1].x-a[0].x;a.unshift({x:a[0].x-l,y:0}),a.push({x:a.slice(-1)[0].x+l,y:0}),this.curAccuracyLow=a[0].x,this.curAccuracyHigh=a.slice(-1)[0].x,this.accuracyLow=this.curAccuracyLow,this.accuracyHigh=this.curAccuracyHigh;const c=new Map;I.hierarchy(this.data.trie,v=>v.c).eachBefore(v=>{if(v.data.t!==void 0){const w=v.data.t;c.has(w)?c.set(w,Math.max(c.get(w),v.depth)):c.set(w,v.depth)}});const u=new Map,f=new Map,h=[];for(const[v,w]of this.treeMapMap){const T=new Map,A=I.hierarchy(w[0],D=>D.c);let $=1/0;A.each(D=>{D.data.f[0]!=="+"&&D.data.f[0]!=="-"?T.has(D.depth+1)?T.get(D.depth+1).add(parseInt(D.data.f[0])):T.set(D.depth+1,new Set([parseInt(D.data.f[0])])):$=Math.min($,D.data.f[1])}),u.set(v,T),f.set(v,$),h.push($)}const p=new Map;Array.from(c.values()).forEach(v=>{p.has(v)?p.set(v,p.get(v)+1):p.set(v,1)});const y=[];p.forEach((v,w)=>{y.push({x:w,y:v/n})}),y.sort((v,w)=>v.x-w.x);const d=50,m=I.bin().thresholds(d)(h),g=[];m.forEach(v=>{g.push({x:v.x0===void 0?0:v.x0,y:v.length/n})});const b=g[1].x-g[0].x;return g.unshift({x:Math.max(0,g[0].x-b),y:0}),g.push({x:g.slice(-1)[0].x+b,y:0}),this.curMinSampleLow=g[0].x,this.curMinSampleHigh=g.slice(-1)[0].x,this.minSampleLow=this.curMinSampleLow,this.minSampleHigh=this.curMinSampleHigh,this.searchStoreValue.treeHeightMap=c,this.searchStoreValue.treeMinSampleMap=f,this.searchStoreValue.treeDepthFeaturesMap=u,this.searchStore.set(this.searchStoreValue),{accuracyDensities:a,heightDensities:y,minSampleDensities:g}},Vi=new WeakSet,yu=function(){const t=An-Ln*2,n=30,r=15,i=qe+r+n,s=this.accuracyRow.select(".svg-accuracy").attr("width",t).attr("height",i),a={top:0,left:Te,right:Te,bottom:0,histTop:2},l=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",qe-a.top).style("fill","none").style("stroke",ve.colors["gray-300"]);const c=s.append("g").attr("class","hist-group").attr("transform",`translate(${Te}, ${a.top})`);this.accuracyXScale=I.scaleLinear().domain([this.accuracyDensities[0].x,this.accuracyDensities.slice(-1)[0].x]).range([0,l]);const o=Math.max(...this.accuracyDensities.map(T=>T.y));this.accuracyYScale=I.scaleLinear().domain([0,o]).range([qe-a.bottom-a.top,a.histTop]);const u=I.line().curve(I.curveBasis).x(T=>this.accuracyXScale(T.x)).y(T=>this.accuracyYScale(T.y)),h=c.append("path").attr("class","area-path").datum(this.accuracyDensities).attr("d",u).clone(!0).classed("selected",!0);this.densityClip=c.append("clipPath").attr("id","accuracy-density-clip").append("rect").style("fill","hsla(100, 50%, 50%, 0.1)").attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow)).attr("height",qe),h.attr("clip-path","url(#accuracy-density-clip)");const p=s.append("g").attr("class","tick-group").attr("transform",`translate(${Te}, ${qe+r})`),y=p.append("g").attr("class","tick-back-group"),d=p.append("g").attr("class","tick-top-group"),m=30,g=[],b=this.accuracyDensities[1].x-this.accuracyDensities[0].x,v=this.accuracyLow+b,w=this.accuracyHigh;for(let T=0;T<=m;T++)g.push(v+(w-v)*T/m);return d.selectAll("g.tick").data(g).join("g").attr("class","tick").attr("transform",T=>`translate(${this.accuracyXScale(T)}, 0)`).append("line").attr("y2",Xt.default),j(this,cn,Wr).call(this),y.append("text").attr("class","label-min-value").attr("x",-4).attr("y",Xt.default*2.2).style("text-anchor","start").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",ve.colors["gray-500"]).text(Dr(this.accuracyLow)),y.append("text").attr("class","label-max-value").attr("x",l+4).attr("y",Xt.default*2.2).style("text-anchor","end").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",ve.colors["gray-500"]).text(Dr(this.accuracyHigh)),s},Di=new WeakSet,vu=function(){j(this,pt,Qt).call(this,Ar,this.curAccuracyLow),j(this,pt,Qt).call(this,Lr,this.curAccuracyHigh),this.accuracyRow.select(`#${Ar}`).on("mousedown",t=>j(this,er,Gs).call(this,t)),this.accuracyRow.select(`#${Lr}`).on("mousedown",t=>j(this,er,Gs).call(this,t)),j(this,ln,Rr).call(this)},pt=new WeakSet,Qt=function(t,n){switch(n=Math.min(Math.max(n,this.accuracyLow),this.accuracyHigh),t){case"slider-left-thumb":n=Math.min(this.curAccuracyHigh,n);break;case"slider-right-thumb":n=Math.max(this.curAccuracyLow,n);break;default:console.warn("Unknown thumb type in moveThumb()");break}const r=this.accuracyRow.select(`#${t}`).attr("data-curValue",n),i=An-2*Ln-2*Te;let s=(n-this.accuracyLow)/(this.accuracyHigh-this.accuracyLow)*i;switch(t){case"slider-left-thumb":s-=Te,this.curAccuracyLow=n,this.searchStoreValue.curAccuracyLow=this.curAccuracyLow;break;case"slider-right-thumb":this.curAccuracyHigh=n,this.searchStoreValue.curAccuracyHigh=this.curAccuracyHigh;break;default:console.warn("Unknown thumb type in moveThumb()");break}this.searchStore.set(this.searchStoreValue),r.style("left",`${s}px`),j(this,ln,Rr).call(this),j(this,cn,Wr).call(this),this.searchUpdated()},er=new WeakSet,Gs=function(t){t.preventDefault(),t.stopPropagation();const n=t.target;if(n===null||!n.id.includes("thumb"))return;const r=n.parentNode,i=r.getBoundingClientRect().width;n.focus();const s=l=>{l.preventDefault(),l.stopPropagation();const c=l.pageX-r.getBoundingClientRect().x,o=this.accuracyLow+(this.accuracyHigh-this.accuracyLow)*c/i;j(this,pt,Qt).call(this,n.id,o)},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.body.style.cursor="default",n.blur()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.body.style.cursor="grabbing"},ln=new WeakSet,Rr=function(){const t=this.accuracyRow.select("#slider-left-thumb"),n=this.accuracyRow.select("#slider-right-thumb"),r=parseFloat(t.style("left")),s=parseFloat(n.style("left"))-r;this.accuracyRow.select(".track .range-track").style("left",`${r+Te}px`).style("width",`${s}px`),this.densityClip!==null&&this.densityClip.attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow))},cn=new WeakSet,Wr=function(){if(this.accuracySVG===null)return;const t=this.accuracySVG.select("g.tick-top-group").selectAll("g.tick");t.filter(n=>n>=this.curAccuracyLow&&n<=this.curAccuracyHigh).classed("out-range",!1),t.filter(n=>n<this.curAccuracyLow||n>this.curAccuracyHigh).classed("out-range",!0),this.curAccuracyHigh===this.curAccuracyLow&&this.accuracySVG.select("g.tick-top-group").selectAll("g.tick").classed("out-range",!0)},Ai=new WeakSet,wu=function(){const t=An-Ln*2,n=30,r=15,i=qe+r+n,s=this.minSampleRow.select(".svg-min-sample").attr("width",t).attr("height",i),a={top:0,left:Te,right:Te,bottom:0,histTop:2},l=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",qe-a.top).style("fill","none").style("stroke",ve.colors["gray-300"]);const c=s.append("g").attr("class","hist-group").attr("transform",`translate(${Te}, ${a.top})`);this.minSampleXScale=I.scaleLinear().domain([this.minSampleDensities[0].x,this.minSampleDensities.slice(-1)[0].x]).range([0,l]);const o=Math.max(...this.minSampleDensities.map(T=>T.y));this.minSampleYScale=I.scaleLinear().domain([0,o]).range([qe-a.bottom-a.top,a.histTop]);const u=I.line().curve(I.curveBasis).x(T=>this.minSampleXScale(T.x)).y(T=>this.minSampleYScale(T.y)),h=c.append("path").attr("class","area-path").datum(this.minSampleDensities).attr("d",u).clone(!0).classed("selected",!0);this.minSampleDensityClip=c.append("clipPath").attr("id","min-sample-density-clip").append("rect").style("fill","hsla(100, 50%, 50%, 0.1)").attr("x",this.minSampleXScale(this.curMinSampleLow)).attr("width",this.minSampleXScale(this.curMinSampleHigh)-this.minSampleXScale(this.curMinSampleLow)).attr("height",qe),h.attr("clip-path","url(#min-sample-density-clip)");const p=s.append("g").attr("class","tick-group").attr("transform",`translate(${Te}, ${qe+r})`),y=p.append("g").attr("class","tick-back-group"),d=p.append("g").attr("class","tick-top-group"),m=30,g=[],b=this.minSampleDensities[1].x-this.minSampleDensities[0].x,v=this.minSampleLow+b,w=this.minSampleHigh;for(let T=0;T<=m;T++)g.push(v+(w-v)*T/m);return d.selectAll("g.tick").data(g).join("g").attr("class","tick").attr("transform",T=>`translate(${this.minSampleXScale(T)}, 0)`).append("line").attr("y2",Xt.default),j(this,cn,Wr).call(this),y.append("text").attr("class","label-min-value").attr("x",-4).attr("y",Xt.default*2.2).style("text-anchor","start").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",ve.colors["gray-500"]).text(Dr(this.minSampleLow)),y.append("text").attr("class","label-max-value").attr("x",l+4).attr("y",Xt.default*2.2).style("text-anchor","end").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",ve.colors["gray-500"]).text(Dr(this.minSampleHigh)),s},Li=new WeakSet,bu=function(){j(this,gt,Kt).call(this,Ar,this.curMinSampleLow),j(this,gt,Kt).call(this,Lr,this.curMinSampleHigh),this.minSampleRow.select(`#${Ar}`).on("mousedown",t=>j(this,tr,Bs).call(this,t)),this.minSampleRow.select(`#${Lr}`).on("mousedown",t=>j(this,tr,Bs).call(this,t)),j(this,ln,Rr).call(this)},gt=new WeakSet,Kt=function(t,n){switch(n=Math.min(Math.max(n,this.minSampleLow),this.minSampleHigh),t){case"slider-left-thumb":n=Math.min(this.curMinSampleHigh,n);break;case"slider-right-thumb":n=Math.max(this.curMinSampleLow,n);break;default:console.warn("Unknown thumb type in moveThumb()");break}const r=this.minSampleRow.select(`#${t}`).attr("data-curValue",n),i=An-2*Ln-2*Te;let s=(n-this.minSampleLow)/(this.minSampleHigh-this.minSampleLow)*i;switch(t){case"slider-left-thumb":s-=Te,this.curMinSampleLow=n,this.searchStoreValue.curMinSampleLow=this.curMinSampleLow;break;case"slider-right-thumb":this.curMinSampleHigh=n,this.searchStoreValue.curMinSampleHigh=this.curMinSampleHigh;break;default:console.warn("Unknown thumb type in moveThumb()");break}this.searchStore.set(this.searchStoreValue),r.style("left",`${s}px`),j(this,Hi,xu).call(this),j(this,Fi,Su).call(this),this.searchUpdated()},tr=new WeakSet,Bs=function(t){t.preventDefault(),t.stopPropagation();const n=t.target;if(n===null||!n.id.includes("thumb"))return;const r=n.parentNode,i=r.getBoundingClientRect().width;n.focus();const s=l=>{l.preventDefault(),l.stopPropagation();const c=l.pageX-r.getBoundingClientRect().x;let o=this.minSampleLow+(this.minSampleHigh-this.minSampleLow)*c/i;o=wn(o,0),j(this,gt,Kt).call(this,n.id,o)},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.body.style.cursor="default",n.blur()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.body.style.cursor="grabbing"},Hi=new WeakSet,xu=function(){const t=this.minSampleRow.select("#slider-left-thumb"),n=this.minSampleRow.select("#slider-right-thumb"),r=parseFloat(t.style("left")),s=parseFloat(n.style("left"))-r;this.minSampleRow.select(".track .range-track").style("left",`${r+Te}px`).style("width",`${s}px`),this.minSampleDensityClip!==null&&this.minSampleDensityClip.attr("x",this.minSampleXScale(this.curMinSampleLow)).attr("width",this.minSampleXScale(this.curMinSampleHigh)-this.minSampleXScale(this.curMinSampleLow))},Fi=new WeakSet,Su=function(){if(this.minSampleSVG===null)return;const t=this.minSampleSVG.select("g.tick-top-group").selectAll("g.tick");t.filter(n=>n>=this.curMinSampleLow&&n<=this.curMinSampleHigh).classed("out-range",!1),t.filter(n=>n<this.curMinSampleLow||n>this.curMinSampleHigh).classed("out-range",!0),this.curMinSampleHigh===this.curMinSampleLow&&this.minSampleSVG.select("g.tick-top-group").selectAll("g.tick").classed("out-range",!0)},Ii=new WeakSet,_u=function(){const t=An-Ln*2,n=0,i=qe+0+n,s=this.heightRow.select(".svg-height").attr("width",t).attr("height",i),a={top:0,left:Te,right:Te,bottom:0,histTop:20},l=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",qe-a.top).style("fill","none").style("stroke",ve.colors["gray-300"]);const c=s.append("g").attr("class","hist-group").attr("transform",`translate(${Te}, ${a.top})`);this.heightXScale=I.scaleBand().domain(this.heightDensities.map(h=>h.x)).range([0,l]).paddingInner(.35);const o=Math.max(...this.heightDensities.map(h=>h.y));this.heightYScale=I.scaleLinear().domain([0,o]).range([qe-a.bottom-a.top,a.histTop]);const u=c.selectAll("g.bar").data(this.heightDensities).join("g").attr("class","bar selected").attr("id",h=>`bar-${h.x}`).attr("transform",h=>`translate(${this.heightXScale(h.x)}, ${0})`);return u.append("rect").attr("x",0).attr("y",h=>this.heightYScale(h.y)).attr("width",this.heightXScale.bandwidth()).attr("height",h=>this.heightYScale(0)-this.heightYScale(h.y)),u.append("text").attr("x",this.heightXScale.bandwidth()/2).attr("y",h=>this.heightYScale(h.y)-5).append("tspan").text(h=>`(${I.format(".0%")(h.y)})`),u.append("title").text(h=>`Height: ${h.x} (${I.format(".4%")(h.y)})`),this.searchStoreValue.curHeightRange=new Set(this.heightXScale.domain()),this.searchStore.set(this.searchStoreValue),s},Ni=new WeakSet,Tu=function(){const t=I.select(this.component).select(".height-checkboxes");this.heightDensities.forEach(n=>{t.append("label").attr("class","height-checkbox-label").attr("for",`height-checkbox-${n.x}`).text(n.x).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2+13}px`),t.append("input").attr("type","checkbox").property("checked",!0).attr("class","height-checkbox").attr("id",`height-checkbox-${n.x}`).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2-4}px`).on("change",i=>j(this,$i,Mu).call(this,i,n.x))})},$i=new WeakSet,Mu=function(t,n){var i;t.preventDefault();const r=t.target;(i=this.heightSVG)==null||i.select(`#bar-${n}`).classed("selected",r.checked),r.checked?this.searchStoreValue.curHeightRange.add(n):this.searchStoreValue.curHeightRange.delete(n),this.searchStore.set(this.searchStoreValue)},Pi=new WeakSet,ku=async function(){await Js();for(const t of this.searchStoreValue.curDepthFeatures.keys())j(this,nr,Xs).call(this,t);j(this,nr,Xs).call(this,0)},zi=new WeakSet,Cu=function(t,n,r){t.preventDefault();const i=t.target,s=this.searchStoreValue.curDepthFeatures.get(n);if(s===void 0){console.error(`Unknown depth ${n}`);return}i.checked?s.add(r):s.delete(r),this.searchStoreValue.curDepthFeatures.set(n,s),this.searchStore.set(this.searchStoreValue)},Ei=new WeakSet,Vu=function(t,n){t.preventDefault();const r=t.target,i=this.searchStoreValue.curAllFeatures;r.checked?i.add(n):i.delete(n),this.searchStoreValue.curAllFeatures=i,this.searchStore.set(this.searchStoreValue)},nr=new WeakSet,Xs=function(t){var l,c;const n=I.select(this.component).select(`#level-row-${t} .level-content`),r=new Set([]),i=new Set([]);for(const o of this.searchStoreValue.featureOrder){let u=this.searchStoreValue.featureMap.get(o);u===void 0&&(u=["","",""],console.error(`Cannot find feature ${o} in featureMap`)),i.has(u[2])?r.add(u[2]):i.add(u[2])}let s=null,a=null;for(const o of this.searchStoreValue.featureOrder){let u=this.searchStoreValue.featureMap.get(o);u===void 0&&(u=["","",""],console.error(`Cannot find feature ${o} in featureMap`));let f=n;if(s!==null&&u[2]!==a&&(a=null,s=null),r.has(u[2])){if(s===null){const g=n.append("div").attr("class","depth-checkbox-row");g.append("div").attr("class","depth-checkbox-row-title").text(u[2]),s=g.append("div").attr("class","depth-checkbox-row-checkboxes"),a=u[2]}f=s.append("div").attr("class","checkbox-wrapper")}else f=n.append("div").attr("class","depth-checkbox-single-row").append("div").attr("class","checkbox-wrapper");const h=f.append("input").attr("type","checkbox").property("checked",!0).attr("class","depth-checkbox").attr("id",`depth-check-box-label-${t}-${o}`),p=f.append("label").attr("class","depth-checkbox-label").attr("for",`depth-check-box-label-${t}-${o}`);let y=`${u[2]} ${u[1]}`;u[2]===a&&(y=`${u[1]}`),p.append("span").text(y),p.attr("title",t===0?`Show/hide trees using "${u[0]} ${u[1]}"`:`Show/hide trees using "${u[0]} ${u[1]}" at depth ${t}`);let d="initial";const m=(c=(l=this.searchStoreValue).getFeatureColor)==null?void 0:c.call(l,String(o));m!==void 0&&(d=m),h.style("accent-color",d),h.on("change",g=>{t===0?j(this,Ei,Vu).call(this,g,o):j(this,zi,Cu).call(this,g,t,o)})}};const ll=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 75 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-907,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2646,-5771.08)">
                <g id="range-thumb-right">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4427.36L1840.41,4403.12L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,cl=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 76 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-808,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2744.28,-5771.08)">
                <g id="range-thumb-left">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4403.12L1840.41,4427.36L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,Du='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"/></svg>',qn='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm0 313a94 94 0 010-188h4.21l-14.11-14.1a14 14 0 0119.8-19.8l40 40a14 14 0 010 19.8l-40 40a14 14 0 01-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1066 66 14 14 0 0128 0 94.11 94.11 0 01-94 94z"/></svg>';function ul(e,t,n){const r=e.slice();return r[25]=t[n],r}function hl(e){var g,b;let t,n,r,i,s,a,l,c,o,u,f=e[4].curAllFeatures.size===Object.keys((g=e[0])==null?void 0:g.featureMap).length?"Include all features":`Include ${e[4].curAllFeatures.size} out of ${Object.keys((b=e[0])==null?void 0:b.featureMap).length} features`,h,p,y,d,m;return{c(){t=C("div"),n=C("div"),r=C("span"),r.textContent="Features",i=Y(),s=C("div"),a=C("span"),l=Y(),c=C("span"),o=Y(),u=C("div"),h=fe(f),p=Y(),y=C("div"),_(a,"class","title-icon refresh-button svelte-1qnthq5"),_(a,"title","Reset the filter"),_(c,"class","title-icon detail-button svelte-1qnthq5"),_(c,"title","Show details"),_(c,"data-detail","false"),_(s,"class","title-icons svelte-1qnthq5"),_(n,"class","row-title svelte-1qnthq5"),_(u,"class","level-summary svelte-1qnthq5"),_(y,"class","level-content svelte-1qnthq5"),_(t,"class","row level-row level-row-all svelte-1qnthq5"),_(t,"id","level-row-0"),ae(t,"show-detail",e[5].has(0))},m(v,w){se(v,t,w),S(t,n),S(n,r),S(n,i),S(n,s),S(s,a),a.innerHTML=qn,S(s,l),S(s,c),c.innerHTML=Du,S(t,o),S(t,u),S(u,h),S(t,p),S(t,y),d||(m=[re(a,"click",e[18]),re(c,"click",e[19])],d=!0)},p(v,w){var T,A;w&17&&f!==(f=v[4].curAllFeatures.size===Object.keys((T=v[0])==null?void 0:T.featureMap).length?"Include all features":`Include ${v[4].curAllFeatures.size} out of ${Object.keys((A=v[0])==null?void 0:A.featureMap).length} features`)&&be(h,f),w&32&&ae(t,"show-detail",v[5].has(0))},d(v){v&&ne(t),d=!1,Se(m)}}}function fl(e){var $,D,F,N;let t,n,r,i=`Depth ${e[25]}`,s,a,l,c,o,u,f,h,p=(($=e[4].curDepthFeatures.get(e[25]))==null?void 0:$.size)===Object.keys((D=e[0])==null?void 0:D.featureMap).length?"Include all features":`Include ${(F=e[4].curDepthFeatures.get(e[25]))==null?void 0:F.size} out of ${Object.keys((N=e[0])==null?void 0:N.featureMap).length} features`,y,d,m,g,b,v,w;function T(...M){return e[20](e[25],...M)}function A(...M){return e[21](e[25],...M)}return{c(){t=C("div"),n=C("div"),r=C("span"),s=fe(i),a=Y(),l=C("div"),c=C("span"),o=Y(),u=C("span"),f=Y(),h=C("div"),y=fe(p),d=Y(),m=C("div"),g=Y(),_(c,"class","title-icon refresh-button svelte-1qnthq5"),_(c,"title","Reset the filter"),_(u,"class","title-icon detail-button svelte-1qnthq5"),_(u,"title","Show details"),_(u,"data-detail","false"),_(l,"class","title-icons svelte-1qnthq5"),_(n,"class","row-title svelte-1qnthq5"),_(h,"class","level-summary svelte-1qnthq5"),_(m,"class","level-content svelte-1qnthq5"),_(t,"class","row level-row svelte-1qnthq5"),_(t,"id",b=`level-row-${e[25]}`),ae(t,"show-detail",e[5].has(e[25]))},m(M,L){se(M,t,L),S(t,n),S(n,r),S(r,s),S(n,a),S(n,l),S(l,c),c.innerHTML=qn,S(l,o),S(l,u),u.innerHTML=Du,S(t,f),S(t,h),S(h,y),S(t,d),S(t,m),S(t,g),v||(w=[re(c,"click",T),re(u,"click",A)],v=!0)},p(M,L){var H,x,z,V;e=M,L&16&&i!==(i=`Depth ${e[25]}`)&&be(s,i),L&17&&p!==(p=((H=e[4].curDepthFeatures.get(e[25]))==null?void 0:H.size)===Object.keys((x=e[0])==null?void 0:x.featureMap).length?"Include all features":`Include ${(z=e[4].curDepthFeatures.get(e[25]))==null?void 0:z.size} out of ${Object.keys((V=e[0])==null?void 0:V.featureMap).length} features`)&&be(y,p),L&16&&b!==(b=`level-row-${e[25]}`)&&_(t,"id",b),L&48&&ae(t,"show-detail",e[5].has(e[25]))},d(M){M&&ne(t),v=!1,Se(w)}}}function B6(e){var Pa,za,Ea,qa;let t,n,r,i,s,a,l,c,o,u,f,h,p,y,d,m,g,b,v,w,T,A,$,D,F,N,M=e[7]((Pa=e[3])==null?void 0:Pa.curAccuracyLow)+"",L,H,x,z,V,P,W,E=e[7]((za=e[3])==null?void 0:za.curAccuracyHigh)+"",O,B,X,G,R,K,he,te,ce,U,J,Q,q,de,Z,oe,le,ee,pe,Me,ke,_t=e[8]((Ea=e[3])==null?void 0:Ea.curMinSampleLow)+"",zt,_n,lt,Xi,Zi,fr,dr,pr=e[8]((qa=e[3])==null?void 0:qa.curMinSampleHigh)+"",ji,La,gr,Ha,Et,qt,Qi,Fa,mr,Rt,Ia,yr,Na,Ki,vr,Ji,$a,Ne=e[0]&&hl(e),Wt=[...e[4].curDepthFeatures.keys()],Le=[];for(let ye=0;ye<Wt.length;ye+=1)Le[ye]=fl(ul(e,Wt,ye));return{c(){t=C("div"),n=C("div"),r=C("div"),i=C("div"),i.textContent="Search Trees",s=Y(),a=C("div"),l=C("div"),c=Y(),o=C("div"),u=C("div"),f=C("div"),h=C("span"),h.textContent="Accuracy",p=Y(),y=C("div"),d=C("span"),m=Y(),g=C("div"),b=C("div"),v=C("div"),w=C("div"),T=Y(),A=C("div"),$=new Fn(!1),D=Y(),F=C("div"),N=C("span"),L=fe(M),H=Y(),x=C("div"),z=new Fn(!1),V=Y(),P=C("div"),W=C("span"),O=fe(E),B=Y(),X=C("div"),X.innerHTML='<svg class="svg-accuracy svelte-1qnthq5"></svg>',G=Y(),R=C("div"),K=C("div"),he=C("span"),he.textContent="Minimum Leaf Sample",te=Y(),ce=C("div"),U=C("span"),J=Y(),Q=C("div"),q=C("div"),de=C("div"),Z=C("div"),oe=Y(),le=C("div"),ee=new Fn(!1),pe=Y(),Me=C("div"),ke=C("span"),zt=fe(_t),_n=Y(),lt=C("div"),Xi=new Fn(!1),Zi=Y(),fr=C("div"),dr=C("span"),ji=fe(pr),La=Y(),gr=C("div"),gr.innerHTML='<svg class="svg-min-sample svelte-1qnthq5"></svg>',Ha=Y(),Et=C("div"),qt=C("div"),Qi=C("span"),Qi.textContent="Height",Fa=Y(),mr=C("div"),Rt=C("span"),Ia=Y(),yr=C("div"),yr.innerHTML=`<div class="feature-hist svelte-1qnthq5"><svg class="svg-height svelte-1qnthq5"></svg></div> 
        <div class="height-checkboxes svelte-1qnthq5"></div>`,Na=Y(),Ne&&Ne.c(),Ki=Y();for(let ye=0;ye<Le.length;ye+=1)Le[ye].c();_(i,"class","title"),_(l,"class","svg-icon close-icon svelte-1qnthq5"),_(a,"class","icons svelte-1qnthq5"),_(r,"class","header-title svelte-1qnthq5"),_(n,"class","header svelte-1qnthq5"),_(d,"class","title-icon refresh-button svelte-1qnthq5"),_(d,"title","Reset the filter"),_(y,"class","title-icons svelte-1qnthq5"),_(f,"class","row-title svelte-1qnthq5"),_(w,"class","range-track svelte-1qnthq5"),$.a=D,_(N,"class","thumb-label-span"),_(F,"class","thumb-label thumb-label-left svelte-1qnthq5"),_(A,"id","slider-left-thumb"),_(A,"tabindex","-1"),Hn(A,"left","0px"),_(A,"class","svg-icon icon-range-thumb-left thumb svelte-1qnthq5"),z.a=V,_(W,"class","thumb-label-span"),_(P,"class","thumb-label thumb-label-right svelte-1qnthq5"),_(x,"id","slider-right-thumb"),_(x,"tabindex","-1"),Hn(x,"left","0px"),_(x,"class","svg-icon icon-range-thumb-right thumb svelte-1qnthq5"),_(v,"class","track svelte-1qnthq5"),_(b,"class","feature-slider svelte-1qnthq5"),_(X,"class","feature-hist svelte-1qnthq5"),_(g,"class","accuracy-content svelte-1qnthq5"),_(u,"class","row accuracy-row svelte-1qnthq5"),_(U,"class","title-icon refresh-button svelte-1qnthq5"),_(U,"title","Reset the filter"),_(ce,"class","title-icons svelte-1qnthq5"),_(K,"class","row-title svelte-1qnthq5"),_(Z,"class","range-track svelte-1qnthq5"),ee.a=pe,_(ke,"class","thumb-label-span"),_(Me,"class","thumb-label thumb-label-left svelte-1qnthq5"),_(le,"id","slider-left-thumb"),_(le,"tabindex","-1"),Hn(le,"left","0px"),_(le,"class","svg-icon icon-range-thumb-left thumb svelte-1qnthq5"),Xi.a=Zi,_(dr,"class","thumb-label-span"),_(fr,"class","thumb-label thumb-label-right svelte-1qnthq5"),_(lt,"id","slider-right-thumb"),_(lt,"tabindex","-1"),Hn(lt,"left","0px"),_(lt,"class","svg-icon icon-range-thumb-right thumb svelte-1qnthq5"),_(de,"class","track svelte-1qnthq5"),_(q,"class","feature-slider svelte-1qnthq5"),_(gr,"class","feature-hist svelte-1qnthq5"),_(Q,"class","min-sample-content svelte-1qnthq5"),_(R,"class","row min-sample-row svelte-1qnthq5"),_(Rt,"class","title-icon refresh-button svelte-1qnthq5"),_(Rt,"title","Reset the filter"),_(mr,"class","title-icons svelte-1qnthq5"),_(qt,"class","row-title svelte-1qnthq5"),_(yr,"class","height-content svelte-1qnthq5"),_(Et,"class","row height-row svelte-1qnthq5"),_(o,"class","search-list svelte-1qnthq5"),_(t,"class","search-panel svelte-1qnthq5"),_(t,"style",vr=`max-height: ${e[1]}px;`),ae(t,"shown",e[4].shown)},m(ye,Xe){se(ye,t,Xe),S(t,n),S(n,r),S(r,i),S(r,s),S(r,a),S(a,l),l.innerHTML=gu,S(t,c),S(t,o),S(o,u),S(u,f),S(f,h),S(f,p),S(f,y),S(y,d),d.innerHTML=qn,S(u,m),S(u,g),S(g,b),S(b,v),S(v,w),S(v,T),S(v,A),$.m(ll,A),S(A,D),S(A,F),S(F,N),S(N,L),S(v,H),S(v,x),z.m(cl,x),S(x,V),S(x,P),S(P,W),S(W,O),S(g,B),S(g,X),S(o,G),S(o,R),S(R,K),S(K,he),S(K,te),S(K,ce),S(ce,U),U.innerHTML=qn,S(R,J),S(R,Q),S(Q,q),S(q,de),S(de,Z),S(de,oe),S(de,le),ee.m(ll,le),S(le,pe),S(le,Me),S(Me,ke),S(ke,zt),S(de,_n),S(de,lt),Xi.m(cl,lt),S(lt,Zi),S(lt,fr),S(fr,dr),S(dr,ji),S(Q,La),S(Q,gr),S(o,Ha),S(o,Et),S(Et,qt),S(qt,Qi),S(qt,Fa),S(qt,mr),S(mr,Rt),Rt.innerHTML=qn,S(Et,Ia),S(Et,yr),S(o,Na),Ne&&Ne.m(o,null),S(o,Ki);for(let Tt=0;Tt<Le.length;Tt+=1)Le[Tt]&&Le[Tt].m(o,null);e[22](t),Ji||($a=[re(l,"click",e[9]),re(d,"click",e[15]),re(b,"click",X6),re(U,"click",e[16]),re(q,"click",Z6),re(Rt,"click",e[17])],Ji=!0)},p(ye,[Xe]){var Tt,Ra,Wa,Oa;if(Xe&8&&M!==(M=ye[7]((Tt=ye[3])==null?void 0:Tt.curAccuracyLow)+"")&&be(L,M),Xe&8&&E!==(E=ye[7]((Ra=ye[3])==null?void 0:Ra.curAccuracyHigh)+"")&&be(O,E),Xe&8&&_t!==(_t=ye[8]((Wa=ye[3])==null?void 0:Wa.curMinSampleLow)+"")&&be(zt,_t),Xe&8&&pr!==(pr=ye[8]((Oa=ye[3])==null?void 0:Oa.curMinSampleHigh)+"")&&be(ji,pr),ye[0]?Ne?Ne.p(ye,Xe):(Ne=hl(ye),Ne.c(),Ne.m(o,Ki)):Ne&&(Ne.d(1),Ne=null),Xe&3185){Wt=[...ye[4].curDepthFeatures.keys()];let Oe;for(Oe=0;Oe<Wt.length;Oe+=1){const Ua=ul(ye,Wt,Oe);Le[Oe]?Le[Oe].p(Ua,Xe):(Le[Oe]=fl(Ua),Le[Oe].c(),Le[Oe].m(o,null))}for(;Oe<Le.length;Oe+=1)Le[Oe].d(1);Le.length=Wt.length}Xe&2&&vr!==(vr=`max-height: ${ye[1]}px;`)&&_(t,"style",vr),Xe&16&&ae(t,"shown",ye[4].shown)},i:ue,o:ue,d(ye){ye&&ne(t),Ne&&Ne.d(),Or(Le,ye),e[22](null),Ji=!1,Se($a)}}}const X6=e=>{e.preventDefault(),e.stopPropagation()},Z6=e=>{e.preventDefault(),e.stopPropagation()};function j6(e,t,n){let{data:r=null}=t,{searchStore:i=null}=t,{width:s=650}=t,a=null,l=!1,c=!1,o=null,u=ar(),f=new Set([]);var h;(function(L){L[L.Accuracy=0]="Accuracy",L[L.Height=1]="Height",L[L.MinSample=2]="MinSample",L[L.Depth=3]="Depth",L[L.AllFeatures=4]="AllFeatures"})(h||(h={}));const p=I.format(",.3f"),y=I.format("d");st(()=>{n(13,l=!0)});const d=()=>{n(3,o)},m=L=>{L.stopPropagation(),L.preventDefault(),n(4,u.shown=!1,u),i==null||i.set(u)},g=(L,H)=>{L.stopPropagation(),L.preventDefault();const x=L.currentTarget;x.dataset.detail==="false"?(x.dataset.detail="true",f.add(H)):(x.dataset.detail="false",f.delete(H)),n(5,f)},b=(L,H,x=null)=>{if(o!==null)switch(L.preventDefault(),H){case h.Accuracy:{o.refreshAccuracy();break}case h.MinSample:{o.refreshMinSample();break}case h.Depth:{x!==null&&o.refreshDepth(x);break}case h.AllFeatures:{o.refreshAllFeatures();break}case h.Height:{o.refreshHeight();break}default:console.warn("Unexpected case for refreshClicked()")}},v=()=>{n(14,c=!0),i&&a&&r&&(i.subscribe(L=>{n(4,u=L)}),n(3,o=new G6(a,r,d,i)))},w=L=>b(L,h.Accuracy),T=L=>b(L,h.MinSample),A=L=>b(L,h.Height),$=L=>b(L,h.AllFeatures),D=L=>g(L,0),F=(L,H)=>b(H,h.Depth,L),N=(L,H)=>g(H,L);function M(L){Fe[L?"unshift":"push"](()=>{a=L,n(2,a)})}return e.$$set=L=>{"data"in L&&n(0,r=L.data),"searchStore"in L&&n(12,i=L.searchStore),"width"in L&&n(1,s=L.width)},e.$$.update=()=>{e.$$.dirty&28677&&r&&i&&l&&!c&&a&&v()},[r,s,a,o,u,f,h,p,y,m,g,b,i,l,c,w,T,A,$,D,F,N,M]}class Q6 extends Be{constructor(t){super(),Ge(this,t,j6,B6,ze,{data:0,searchStore:12,width:1})}}class K6{constructor(t,n,r,i){k(this,"component");k(this,"inputElem");k(this,"dropzoneUpdated");k(this,"initDataFromDropzone");k(this,"isDragging",!1);k(this,"dragElement",null);k(this,"errorMessage"," ");k(this,"clickHandler",()=>{var t;(t=this.inputElem)==null||t.click()});k(this,"dragEnterHandler",t=>{t.preventDefault(),this.isDragging=!0,this.dragElement=t.target,this.dropzoneUpdated()});k(this,"dragOverHandler",t=>{t.preventDefault()});k(this,"dragLeaveHandler",t=>{t.preventDefault(),this.dragElement===t.target&&(this.isDragging=!1,this.dropzoneUpdated())});k(this,"dropHandler",async t=>{var i;t.preventDefault();let n=null,r=null;(i=t.dataTransfer)!=null&&i.items?t.dataTransfer.items[0].kind==="file"&&(r=t.dataTransfer.items[0].getAsFile(),n=await this.validateFile(r)):(r=t.dataTransfer.files[0],n=await this.validateFile(r)),this.isDragging=!1,this.dropzoneUpdated(),n&&this.initDataFromDropzone(n)});k(this,"inputChanged",async t=>{t.preventDefault();let n=null;const r=t.target.files;if(r!==null){const i=r[0];n=await this.validateFile(i),console.log(n)}!n||this.initDataFromDropzone(n)});k(this,"inputClicked",()=>{});k(this,"readJSON",t=>new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{i.result?n(JSON.parse(i.result)):n(null)},i.onerror=r,i.readAsText(t)}));k(this,"validateFile",async t=>t.type!=="application/json"?(this.errorMessage="It is not a JSON file",this.dropzoneUpdated(),null):await this.readJSON(t));this.component=t,this.inputElem=n,this.dropzoneUpdated=r,this.initDataFromDropzone=i}}const Au=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 346 346" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-5570,-6461)">
        <g transform="matrix(1.49616,0,0,1,-2856.48,922)">
            <g id="timbertrek-logo">
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <circle cx="6434.56" cy="4297.56" r="174.558" style="fill:rgb(66,66,66);"/>
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4131.31C6526.31,4131.31 6600.81,4205.81 6600.81,4297.56C6600.81,4389.31 6526.31,4463.81 6434.56,4463.81C6342.81,4463.81 6268.31,4389.31 6268.31,4297.56C6268.31,4205.81 6342.81,4131.31 6434.56,4131.31Z" style="fill:rgb(123,123,123);"/>
                </g>
                <g transform="matrix(0.628201,0,0,0.939888,2139.91,-523.818)">
                    <path d="M5691.27,6656.44L5660.64,6656.44L5742.98,6526.8L5823.36,6656.44L5792.72,6656.44L5820.76,6721.2L5742.66,6679.85L5663.24,6721.12L5691.27,6656.44ZM5742.89,6571.51L5742.89,6652.51L5790.28,6676.11L5742.89,6571.51Z" style="fill:white;"/>
                </g>
                <g>
                    <g transform="matrix(-0.445586,6.73401e-17,-1.13133e-16,-1.66667,8499.43,14925.7)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(1.15018e-15,-0.666667,1.11396,4.44089e-15,-410.51,9829)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(0.445586,3.52496e-15,-6.0106e-15,1.66667,2996,-3501.67)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(-3.52474e-15,0.666667,-1.11396,-1.33227e-14,11905.9,1595)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                </g>
                <g transform="matrix(0.668379,0,0,1,1554.3,-396)">
                    <g transform="matrix(-0.61592,-0.255122,0.637806,-1.5398,6551.69,16195.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,-0.471405,1.17851,-1.17851,2670.11,15534.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,-0.61592,1.5398,-0.637806,-662.81,13437.5)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,-0.61592,1.5398,0.637806,-3813.83,6385.69)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,-0.471405,1.17851,1.17851,-3152.2,2504.11)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,-0.255122,0.637806,1.5398,-1055.53,-828.81)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,0.255122,-0.637806,1.5398,5996.31,-3979.83)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,0.471405,-1.17851,1.17851,9877.89,-3318.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,0.61592,-1.5398,0.637806,13210.8,-1221.53)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,0.61592,-1.5398,-0.637806,16361.8,5830.31)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,0.471405,-1.17851,-1.17851,15700.2,9711.89)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.61592,0.255122,-0.637806,-1.5398,13603.5,13044.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                </g>
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4135.65C6523.92,4135.65 6596.47,4208.2 6596.47,4297.56C6596.47,4386.92 6523.92,4459.47 6434.56,4459.47C6345.2,4459.47 6272.65,4386.92 6272.65,4297.56C6272.65,4208.2 6345.2,4135.65 6434.56,4135.65Z" style="fill:rgb(128,128,128);"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;function J6(e){let t;return{c(){t=C("div"),t.textContent="Loading Rashomon set...",_(t,"class","drop-message svelte-5mr9zk")},m(n,r){se(n,t,r)},d(n){n&&ne(t)}}}function e2(e){let t,n,r,i,s;return{c(){t=C("div"),t.textContent="Drop a Rashomon trie file (.json) here to start",n=Y(),r=C("div"),r.innerHTML='<a href="https://github.com/poloclub/timbertrek#web-demo" target="_blank" class="svelte-5mr9zk">How to generate this file?</a>',_(t,"class","drop-message svelte-5mr9zk"),_(r,"class","help-message svelte-5mr9zk")},m(a,l){se(a,t,l),se(a,n,l),se(a,r,l),i||(s=re(r,"click",n2),i=!0)},d(a){a&&ne(t),a&&ne(n),a&&ne(r),i=!1,s()}}}function t2(e){var g;let t,n,r,i,s,a,l=((g=e[4])==null?void 0:g.errorMessage)+"",c,o,u,f,h,p;function y(b,v){return b[1]==="my own set"?e2:J6}let d=y(e),m=d(e);return{c(){var b;t=C("div"),n=C("div"),r=C("div"),i=Y(),m.c(),s=Y(),a=C("span"),c=fe(l),o=Y(),u=C("input"),_(r,"class","svg-icon svelte-5mr9zk"),_(a,"class","error-message svelte-5mr9zk"),_(u,"accept","json"),_(u,"type","file"),_(u,"autocomplete","off"),Hn(u,"display","none"),_(n,"class","dropzone svelte-5mr9zk"),ae(n,"drag-over",(b=e[4])==null?void 0:b.isDragging),_(t,"class","dropzone-tab svelte-5mr9zk"),_(t,"style",f=`height: ${e[0]+ve.layout.toolbarHeight}px;`)},m(b,v){se(b,t,v),S(t,n),S(n,r),r.innerHTML=Au,S(n,i),m.m(n,null),S(n,s),S(n,a),S(a,c),S(n,o),S(n,u),e[10](u),e[16](t),h||(p=[re(u,"change",e[8]),re(u,"click",e[9]),re(n,"click",e[11]),re(n,"dragenter",e[12]),re(n,"dragover",e[13]),re(n,"dragleave",e[14]),re(n,"drop",e[15])],h=!0)},p(b,[v]){var w,T;d!==(d=y(b))&&(m.d(1),m=d(b),m&&(m.c(),m.m(n,s))),v&16&&l!==(l=((w=b[4])==null?void 0:w.errorMessage)+"")&&be(c,l),v&16&&ae(n,"drag-over",(T=b[4])==null?void 0:T.isDragging),v&1&&f!==(f=`height: ${b[0]+ve.layout.toolbarHeight}px;`)&&_(t,"style",f)},i:ue,o:ue,d(b){b&&ne(t),m.d(),e[10](null),e[16](null),h=!1,Se(p)}}}const n2=e=>{e.stopPropagation()};function r2(e,t,n){let{initDataFromDropzone:r}=t,{width:i=650}=t,{curDataset:s="my own set"}=t,a=null,l=null,c=null,o=!1,u=!1;st(()=>{n(6,o=!0)});const f=()=>{n(4,c)},h=()=>{o&&a&&l&&(n(4,c=new K6(a,l,f,r)),n(7,u=!0))},p=A=>c==null?void 0:c.inputChanged(A),y=A=>c==null?void 0:c.inputClicked();function d(A){Fe[A?"unshift":"push"](()=>{l=A,n(3,l)})}const m=A=>c==null?void 0:c.clickHandler(),g=A=>c==null?void 0:c.dragEnterHandler(A),b=A=>c==null?void 0:c.dragOverHandler(A),v=A=>c==null?void 0:c.dragLeaveHandler(A),w=A=>c==null?void 0:c.dropHandler(A);function T(A){Fe[A?"unshift":"push"](()=>{a=A,n(2,a)})}return e.$$set=A=>{"initDataFromDropzone"in A&&n(5,r=A.initDataFromDropzone),"width"in A&&n(0,i=A.width),"curDataset"in A&&n(1,s=A.curDataset)},e.$$.update=()=>{e.$$.dirty&236&&o&&a&&l&&r&&!u&&h()},[i,s,a,l,c,r,o,u,p,y,d,m,g,b,v,w,T]}class i2 extends Be{constructor(t){super(),Ge(this,t,r2,t2,ze,{initDataFromDropzone:5,width:0,curDataset:1})}}const s2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>',a2=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 66 82" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3896,-24)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-file" transform="matrix(1,0,0,0.996062,3887.07,100.115)">
                <path d="M27.49,-23.779C26.644,-23.779 25.944,-24.048 25.391,-24.585C24.837,-25.122 24.561,-25.781 24.561,-26.563C24.561,-27.376 24.837,-28.052 25.391,-28.589C25.944,-29.126 26.644,-29.395 27.49,-29.395L57.129,-29.395C57.975,-29.395 58.675,-29.126 59.228,-28.589C59.782,-28.052 60.059,-27.376 60.059,-26.563C60.059,-25.781 59.782,-25.122 59.228,-24.585C58.675,-24.048 57.975,-23.779 57.129,-23.779L27.49,-23.779ZM27.49,-9.082C26.644,-9.082 25.944,-9.351 25.391,-9.888C24.837,-10.425 24.561,-11.1 24.561,-11.914C24.561,-12.695 24.837,-13.363 25.391,-13.916C25.944,-14.469 26.644,-14.746 27.49,-14.746L57.129,-14.746C57.975,-14.746 58.675,-14.469 59.228,-13.916C59.782,-13.363 60.059,-12.695 60.059,-11.914C60.059,-11.1 59.782,-10.425 59.228,-9.888C58.675,-9.351 57.975,-9.082 57.129,-9.082L27.49,-9.082ZM22.022,5.908L62.5,5.908C66.602,5.908 69.678,4.867 71.729,2.783C73.779,0.7 74.805,-2.409 74.805,-6.543L74.805,-40.43L46.875,-40.43C41.797,-40.43 39.258,-42.969 39.258,-48.047L39.258,-76.416L22.022,-76.416C17.92,-76.416 14.852,-75.374 12.817,-73.291C10.783,-71.208 9.766,-68.099 9.766,-63.965L9.766,-6.543C9.766,-2.376 10.783,0.741 12.817,2.808C14.852,4.875 17.92,5.908 22.022,5.908ZM46.875,-46.143L74.365,-46.143C74.235,-47.054 73.877,-47.957 73.291,-48.853C72.705,-49.748 71.891,-50.716 70.85,-51.758L50.586,-72.461C49.577,-73.503 48.617,-74.325 47.705,-74.927C46.794,-75.529 45.882,-75.911 44.971,-76.074L44.971,-48.047C44.971,-46.777 45.605,-46.143 46.875,-46.143Z" style="fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`;const{Map:o2}=Nu;function dl(e,t,n){const r=e.slice();return r[23]=t[n],r}function l2(e){let t,n,r,i,s,a;return n=new Pm({props:{favoritesStore:e[9],sunburstStore:e[10],searchStore:e[13],sunburstWidth:e[6]}}),s=new p6({props:{data:e[4],initDepthGap:e[2],sunburstStore:e[10],treeWindowStore:e[11],pinnedTreeStore:e[12],searchStore:e[13]}}),{c(){t=C("div"),Ye(n.$$.fragment),r=Y(),i=C("div"),Ye(s.$$.fragment),_(t,"class","toolbar"),_(i,"class","sunburst-wrapper svelte-cbnpi0")},m(l,c){se(l,t,c),Re(n,t,null),se(l,r,c),se(l,i,c),Re(s,i,null),a=!0},p(l,c){const o={};c&64&&(o.sunburstWidth=l[6]),n.$set(o);const u={};c&16&&(u.data=l[4]),c&4&&(u.initDepthGap=l[2]),s.$set(u)},i(l){a||(me(n.$$.fragment,l),me(s.$$.fragment,l),a=!0)},o(l){we(n.$$.fragment,l),we(s.$$.fragment,l),a=!1},d(l){l&&ne(t),We(n),l&&ne(r),l&&ne(i),We(s)}}}function c2(e){let t,n;return t=new i2({props:{initDataFromDropzone:e[8],width:e[6],curDataset:e[0]}}),{c(){Ye(t.$$.fragment)},m(r,i){Re(t,r,i),n=!0},p(r,i){const s={};i&64&&(s.width=r[6]),i&1&&(s.curDataset=r[0]),t.$set(s)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){we(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function pl(e){let t,n,r,i;return n=new H6({props:{pinnedTree:e[23],pinnedTreeStore:e[12],favoritesStore:e[9]}}),{c(){t=C("div"),Ye(n.$$.fragment),_(t,"class","pinned-tree-window-wrapper svelte-cbnpi0")},m(s,a){se(s,t,a),Re(n,t,null),i=!0},p(s,a){const l={};a&128&&(l.pinnedTree=s[23]),n.$set(l)},i(s){i||(me(n.$$.fragment,s),r&&r.end(1),i=!0)},o(s){we(n.$$.fragment,s),r=ea(t,Il,{duration:100}),i=!1},d(s){s&&ne(t),We(n),s&&r&&r.end()}}}function gl(e,t){let n,r,i,s=t[23].isPinned&&pl(t);return{key:e,first:null,c(){n=Vs(),s&&s.c(),r=Vs(),this.first=n},m(a,l){se(a,n,l),s&&s.m(a,l),se(a,r,l),i=!0},p(a,l){t=a,t[23].isPinned?s?(s.p(t,l),l&128&&me(s,1)):(s=pl(t),s.c(),me(s,1),s.m(r.parentNode,r)):s&&(vt(),we(s,1,1,()=>{s=null}),wt())},i(a){i||(me(s),i=!0)},o(a){we(s),i=!1},d(a){a&&ne(n),s&&s.d(a),a&&ne(r)}}}function u2(e){let t,n,r,i,s,a,l,c,o,u,f,h,p,y,d,m,g,b,v,w,T,A,$,D,F,N,M,L,H,x=[],z=new o2,V,P;const W=[c2,l2],E=[];function O(G,R){return G[4]===null?0:1}b=O(e),v=E[b]=W[b](e),A=new Y6({props:{favoritesStore:e[9],pinnedTreeStore:e[12],width:e[6]}}),F=new Q6({props:{data:e[4],searchStore:e[13],width:e[6]}}),L=new w6({props:{data:e[4],featureMap:e[5],treeWindowStore:e[11]}});let B=e[7].pinnedTrees;const X=G=>G[23].treeID;for(let G=0;G<B.length;G+=1){let R=dl(e,B,G),K=X(R);z.set(K,x[G]=gl(K,R))}return{c(){t=C("div"),n=C("div"),r=C("div"),i=C("div"),s=C("div"),a=Y(),l=C("div"),c=C("div"),c.textContent="TimberTrek",o=Y(),u=C("div"),u.textContent="Curating decision trees that align with human knowledge",f=Y(),h=C("div"),p=C("a"),y=Y(),d=C("a"),m=Y(),g=C("div"),v.c(),w=Y(),T=C("div"),Ye(A.$$.fragment),$=Y(),D=C("div"),Ye(F.$$.fragment),M=Y(),Ye(L.$$.fragment),H=Y();for(let G=0;G<x.length;G+=1)x[G].c();V=Y(),_(s,"class","svg-icon svelte-cbnpi0"),_(c,"class","logo-icon svelte-cbnpi0"),_(u,"class","logo-tag svelte-cbnpi0"),_(u,"title","Curating decision trees that align with human knowledge"),ae(u,"no-display",e[6]<400),_(l,"class","logo-text svelte-cbnpi0"),_(i,"class","logo svelte-cbnpi0"),_(p,"class","svg-icon paper-icon svelte-cbnpi0"),_(p,"title","Research paper"),_(p,"target","_blank"),_(p,"href","https://arxiv.org/abs/2209.09227"),_(d,"class","svg-icon svelte-cbnpi0"),_(d,"title","Open-source code"),_(d,"target","_blank"),_(d,"href","https://github.com/poloclub/timbertrek"),_(h,"class","right-icons svelte-cbnpi0"),_(r,"class","header svelte-cbnpi0"),_(g,"class","content svelte-cbnpi0"),_(T,"class","sidebar svelte-cbnpi0"),_(T,"style",e[3]),_(D,"class","sidebar svelte-cbnpi0"),_(D,"style",e[3]),_(n,"class","timbertrek svelte-cbnpi0"),_(n,"style",N=`width: ${e[6]}px;`),_(t,"class","timbertrek-page svelte-cbnpi0")},m(G,R){se(G,t,R),S(t,n),S(n,r),S(r,i),S(i,s),s.innerHTML=Au,S(i,a),S(i,l),S(l,c),S(l,o),S(l,u),S(r,f),S(r,h),S(h,p),p.innerHTML=a2,S(h,y),S(h,d),d.innerHTML=s2,S(n,m),S(n,g),E[b].m(g,null),S(n,w),S(n,T),Re(A,T,null),S(n,$),S(n,D),Re(F,D,null),S(t,M),Re(L,t,null),S(t,H);for(let K=0;K<x.length;K+=1)x[K]&&x[K].m(t,null);S(t,V),e[19](t),P=!0},p(G,[R]){(!P||R&64)&&ae(u,"no-display",G[6]<400);let K=b;b=O(G),b===K?E[b].p(G,R):(vt(),we(E[K],1,1,()=>{E[K]=null}),wt(),v=E[b],v?v.p(G,R):(v=E[b]=W[b](G),v.c()),me(v,1),v.m(g,null));const he={};R&64&&(he.width=G[6]),A.$set(he),(!P||R&8)&&_(T,"style",G[3]);const te={};R&16&&(te.data=G[4]),R&64&&(te.width=G[6]),F.$set(te),(!P||R&8)&&_(D,"style",G[3]),(!P||R&64&&N!==(N=`width: ${G[6]}px;`))&&_(n,"style",N);const ce={};R&16&&(ce.data=G[4]),R&32&&(ce.featureMap=G[5]),L.$set(ce),R&4736&&(B=G[7].pinnedTrees,vt(),x=Hl(x,R,X,1,G,B,z,t,Ll,gl,V,dl),wt())},i(G){if(!P){me(v),me(A.$$.fragment,G),me(F.$$.fragment,G),me(L.$$.fragment,G);for(let R=0;R<B.length;R+=1)me(x[R]);P=!0}},o(G){we(v),we(A.$$.fragment,G),we(F.$$.fragment,G),we(L.$$.fragment,G);for(let R=0;R<x.length;R+=1)we(x[R]);P=!1},d(G){G&&ne(t),E[b].d(),We(A),We(F),We(L);for(let R=0;R<x.length;R+=1)x[R].d();e[19](null)}}}function h2(e,t,n){let{notebookMode:r=!1}=t,{curDataset:i="compas"}=t,{timbertrekTransitioning:s=!1}=t,a=null,l=!1,c=!1,o=2,u="",f=null,h=null,p=r?500:650;const y=new Map;y.set("compas","compas-rules-mul_0.05-reg_0.01.json"),y.set("fico","fico-rules-mul_0.05-reg_0.01.json"),y.set("car evaluation","car-rules-mul_0.15-reg_0.015.json"),y.set("my own set","");const d=N=>{n(4,f=N),n(5,h=new Map);for(const[M,L]of Object.entries(f.featureMap))h.set(parseInt(M),L)},m=async N=>{if(N!=="my own dataset"&&(N==="car evaluation"?n(2,o=4):n(2,o=2),y.has(N))){n(16,l=!0);const M=y.get(N),L=await I.json(`/data/${M}`);d(L)}},g=N=>{n(4,f=N),n(5,h=new Map);for(const[M,L]of Object.entries(f.featureMap))h.set(parseInt(M),L)},b=ju(),v=Qu(),w=Ku(),T=Ju(),A=eh();let $=or();T.subscribe(N=>{n(7,$=N)}),st(()=>{r&&document.addEventListener("timbertrekData",L=>{const H=L,x=H.data;n(6,p=H.width),d(x)});const N=L=>{L.data&&L.data.type==="TIMBERTREK_DATA"&&(console.log("Received data from React frontend:",L.data),d(L.data.data))};window.addEventListener("message",N);const M=Math.floor((window.innerWidth-p)/2);M<268&&n(3,u=`transform: translateX(calc(100% - ${268-M+5}px))`),n(17,c=!0)});const D=()=>{localStorage.clear()};function F(N){Fe[N?"unshift":"push"](()=>{a=N,n(1,a)})}return e.$$set=N=>{"notebookMode"in N&&n(14,r=N.notebookMode),"curDataset"in N&&n(0,i=N.curDataset),"timbertrekTransitioning"in N&&n(15,s=N.timbertrekTransitioning)},e.$$.update=()=>{e.$$.dirty&245761&&!r&&i&&!l&&c&&!s&&m(i)},[i,a,o,u,f,h,p,$,g,b,v,w,T,A,r,s,l,c,D,F]}class Lu extends Be{constructor(t){super(),Ge(this,t,h2,u2,ze,{notebookMode:14,curDataset:0,timbertrekTransitioning:15})}}function ml(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function yl(e){let t,n,r,i,s,a,l;return n=new Lu({props:{notebookMode:!1,curDataset:e[1],timbertrekTransitioning:e[2]}}),{c(){t=C("div"),Ye(n.$$.fragment),_(t,"class","timbertrek-wrapper svelte-xhxrxp")},m(c,o){se(c,t,o),Re(n,t,null),s=!0,a||(l=[re(t,"introstart",e[5]),re(t,"introend",e[6])],a=!0)},p(c,o){const u={};o&2&&(u.curDataset=c[1]),o&4&&(u.timbertrekTransitioning=c[2]),n.$set(u)},i(c){s||(me(n.$$.fragment,c),un(()=>{!s||(i&&i.end(1),r=Bu(t,Za,{x:300,duration:300}),r.start())}),s=!0)},o(c){we(n.$$.fragment,c),r&&r.invalidate(),i=ea(t,Za,{x:-300,duration:300}),s=!1},d(c){c&&ne(t),We(n),c&&i&&i.end(),a=!1,Se(l)}}}function vl(e){let t,n=e[9]+"",r,i,s,a;function l(){return e[7](e[9])}return{c(){t=C("span"),r=fe(n),i=Y(),_(t,"class","option svelte-xhxrxp"),_(t,"data-text",e[9]),ae(t,"selected",e[9]===e[1])},m(c,o){se(c,t,o),S(t,r),S(t,i),s||(a=re(t,"click",l),s=!0)},p(c,o){e=c,o&10&&ae(t,"selected",e[9]===e[1])},d(c){c&&ne(t),s=!1,a()}}}function f2(e){let t,n,r,i,s,a,l,c=e[1],o,u,f,h,p,y,d=yl(e),m=e[3],g=[];for(let b=0;b<m.length;b+=1)g[b]=vl(ml(e,m,b));return{c(){t=C("link"),n=C("link"),r=C("link"),i=Y(),s=C("div"),a=C("div"),l=C("div"),d.c(),o=Y(),u=C("div"),f=C("span"),h=Y(),p=C("div");for(let b=0;b<g.length;b+=1)g[b].c();_(t,"rel","preconnect"),_(t,"href","https://fonts.googleapis.com"),_(n,"rel","preconnect"),_(n,"href","https://fonts.gstatic.com"),_(n,"crossorigin",""),_(r,"href","https://fonts.googleapis.com/css2?family=Lato&display=swap"),_(r,"rel","stylesheet"),_(l,"class","timbertrek-app svelte-xhxrxp"),_(f,"class","option-title svelte-xhxrxp"),_(p,"class","options svelte-xhxrxp"),_(u,"class","dataset-options svelte-xhxrxp"),_(a,"class","main-app svelte-xhxrxp"),_(a,"tabindex","-1"),_(s,"class","article-page svelte-xhxrxp")},m(b,v){S(document.head,t),S(document.head,n),S(document.head,r),se(b,i,v),se(b,s,v),S(s,a),S(a,l),d.m(l,null),S(a,o),S(a,u),S(u,f),S(u,h),S(u,p);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(p,null);e[8](a),y=!0},p(b,[v]){if(v&2&&ze(c,c=b[1])?(vt(),we(d,1,1,ue),wt(),d=yl(b),d.c(),me(d,1),d.m(l,null)):d.p(b,v),v&26){m=b[3];let w;for(w=0;w<m.length;w+=1){const T=ml(b,m,w);g[w]?g[w].p(T,v):(g[w]=vl(T),g[w].c(),g[w].m(p,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=m.length}},i(b){y||(me(d),y=!0)},o(b){we(d),y=!1},d(b){ne(t),ne(n),ne(r),b&&ne(i),b&&ne(s),d.d(b),Or(g,b),e[8](null)}}}function d2(e,t,n){let r=null,i="my own set",s=!1;const a=["","","","my own set"],l=h=>{n(2,s=!0),n(1,i=h)};st(()=>{});const c=()=>{n(2,s=!0)},o=()=>{n(2,s=!1)},u=h=>l(h);function f(h){Fe[h?"unshift":"push"](()=>{r=h,n(0,r)})}return[r,i,s,a,l,c,o,u,f]}class p2 extends Be{constructor(t){super(),Ge(this,t,d2,f2,ze,{})}}function g2(e){let t,n,r,i;return r=new Lu({props:{notebookMode:!0}}),{c(){t=C("div"),n=C("div"),Ye(r.$$.fragment),_(n,"class","main-app svelte-1mxhuhu"),_(t,"class","notebook-page svelte-1mxhuhu")},m(s,a){se(s,t,a),S(t,n),Re(r,n,null),e[1](n),i=!0},p:ue,i(s){i||(me(r.$$.fragment,s),i=!0)},o(s){we(r.$$.fragment,s),i=!1},d(s){s&&ne(t),We(r),e[1](null)}}}function m2(e,t,n){let r=null;function i(s){Fe[s?"unshift":"push"](()=>{r=s,n(0,r)})}return[r,i]}class y2 extends Be{constructor(t){super(),Ge(this,t,m2,g2,ze,{})}}function v2(e){let t,n;return t=new y2({}),{c(){Ye(t.$$.fragment)},m(r,i){Re(t,r,i),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){we(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function w2(e){let t,n;return t=new p2({}),{c(){Ye(t.$$.fragment)},m(r,i){Re(t,r,i),n=!0},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){we(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function b2(e){let t,n,r,i,s,a,l,c;const o=[w2,v2],u=[];function f(h,p){return h[0]==="article"?0:1}return a=f(e),l=u[a]=o[a](e),{c(){t=C("link"),n=C("link"),r=C("link"),i=Y(),s=C("div"),l.c(),_(t,"rel","preconnect"),_(t,"href","https://fonts.googleapis.com"),_(n,"rel","preconnect"),_(n,"href","https://fonts.gstatic.com"),_(n,"crossorigin",""),_(r,"href","https://fonts.googleapis.com/css2?family=Lato&display=swap"),_(r,"rel","stylesheet"),_(s,"class","stand-alone-page")},m(h,p){S(document.head,t),S(document.head,n),S(document.head,r),se(h,i,p),se(h,s,p),u[a].m(s,null),c=!0},p(h,[p]){let y=a;a=f(h),a!==y&&(vt(),we(u[y],1,1,()=>{u[y]=null}),wt(),l=u[a],l||(l=u[a]=o[a](h),l.c()),me(l,1),l.m(s,null))},i(h){c||(me(l),c=!0)},o(h){we(l),c=!1},d(h){ne(t),ne(n),ne(r),h&&ne(i),h&&ne(s),u[a].d()}}}function x2(e,t,n){let{mode:r="article"}=t;return e.$$set=i=>{"mode"in i&&n(0,r=i.mode)},[r]}class S2 extends Be{constructor(t){super(),Ge(this,t,x2,b2,ze,{mode:0})}}new S2({target:document.body,props:{mode:"article"}});
